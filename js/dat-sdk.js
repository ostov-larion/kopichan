!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).datSdk=e()}}(function(){var define,module,exports;return function(){return function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var h=r[o]={exports:{}};t[o][0].call(h.exports,function(e){return i(t[o][1][e]||e)},h,h.exports,e,t,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}}()({1:[function(e,t,r){var n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":2,"./asn1/base":4,"./asn1/constants":8,"./asn1/decoders":10,"./asn1/encoders":13,"bn.js":16}],2:[function(e,t,r){var n=e("../asn1"),i=e("inherits");function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}r.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(t){var r;try{r=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){r=function(e){this._initNamed(e)}}return i(r,t),r.prototype._initNamed=function(e){t.call(this,e)},new r(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},{"../asn1":1,inherits:100,vm:160}],3:[function(e,t,r){var n=e("inherits"),i=e("../base").Reporter,s=e("buffer").Buffer;function o(e,t){i.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof a||(e=new a(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(o,i),r.DecoderBuffer=o,o.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},o.prototype.restore=function(e){var t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new o(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},r.EncoderBuffer=a,a.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},{"../base":4,buffer:48,inherits:100}],4:[function(e,t,r){var n=r;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":3,"./node":5,"./reporter":6}],5:[function(e,t,r){var n=e("../base").Reporter,i=e("../base").EncoderBuffer,s=e("../base").DecoderBuffer,o=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function f(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=f;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){var e=this._baseState,t={};h.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},f.prototype._wrap=function(){var e=this._baseState;c.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},f.prototype._init=function(e){var t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),o.equal(t.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(o(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){f.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),a.forEach(function(e){f.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(r),this}}),f.prototype.use=function(e){o(e);var t=this._baseState;return o(null===t.use),t.use=e,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(e){var t=this._baseState;return o(null===t.default),t.default=e,t.optional=!0,this},f.prototype.explicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},f.prototype.implicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},f.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},f.prototype.key=function(e){var t=this._baseState;return o(null===t.key),t.key=e,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(e){var t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},f.prototype.contains=function(e){var t=this._baseState;return o(null===t.use),t.contains=e,this},f.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,o=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){var c=null;if(null!==r.explicit?c=r.explicit:null!==r.implicit?c=r.implicit:null!==r.tag&&(c=r.tag),null!==c||r.any){if(o=this._peekTag(e,c,r.any),e.isError(o))return o}else{var f=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),o=!0}catch(e){o=!1}e.restore(f)}}if(r.obj&&o&&(n=e.enterObject()),o){if(null!==r.explicit){var h=this._decodeTag(e,r.explicit);if(e.isError(h))return h;e=h}var u=e.offset;if(null===r.use&&null===r.choice){if(r.any)f=e.save();var d=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(d))return d;r.any?i=e.raw(f):e=d}if(t&&t.track&&null!==r.tag&&t.track(e.path(),u,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(e,t)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var l=new s(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(l,t)}}return r.obj&&o&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,i),i},f.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},f.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},f.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some(function(s){var o=e.save(),a=r.choice[s];try{var c=a._decode(e,t);if(e.isError(c))return!1;n={type:s,value:c},i=!0}catch(t){return e.restore(o),!1}return!0},this),i?n:e.error("Choice not matched")},f.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},f.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},f.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var s=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var o=null,a=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,t);else if(i.contains)o=this._getUse(i.contains,r)._encode(e,t),a=!0;else if(i.children)o=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)},c))}else null!==i.use?s=this._getUse(i.use,r)._encode(e,t):(o=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){var f=null!==i.implicit?i.implicit:i.tag,h=null===i.implicit?"universal":"context";null===f?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(f,a,h,o))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},f.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},f.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},f.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},f.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":4,"minimalistic-assert":105}],6:[function(e,t,r){var n=e("inherits");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}r.Reporter=i,i.prototype.isError=function(e){return e instanceof s},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof s;if(t=n?e:new s(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:100}],7:[function(e,t,r){var n=e("../constants");r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=n._reverse(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=n._reverse(r.tag)},{"../constants":8}],8:[function(e,t,r){var n=r;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r}),t},n.der=e("./der")},{"./der":7}],9:[function(e,t,r){var n=e("inherits"),i=e("../../asn1"),s=i.base,o=i.bignum,a=i.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new f,this.tree._init(e.body)}function f(e){s.Node.call(this,"der",e)}function h(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var s=r;for(r=0;128==(128&s);){if(s=e.readUInt8(t),e.isError(s))return s;r<<=7,r|=127&s}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function u(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var s=0;s<i;s++){n<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}t.exports=c,c.prototype.decode=function(e,t){return e instanceof s.DecoderBuffer||(e=new s.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(f,s.Node),f.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=h(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},f.prototype._decodeTag=function(e,t,r){var n=h(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=u(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},f.prototype._skipUntilEnd=function(e,t){for(;;){var r=h(e,t);if(e.isError(r))return r;var n,i=u(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},f.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var o=r.decode(e,"der",n);if(e.isError(o)&&s)break;i.push(o)}return i},f.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(2*s));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},f.prototype._decodeObjid=function(e,t,r){for(var n,i=[],s=0;!e.isEmpty();){var o=e.readUInt8();s<<=7,s|=127&o,0==(128&o)&&(i.push(s),s=0)}128&o&&i.push(s);var a=i[0]/40|0,c=i[0]%40;if(n=r?i:[a,c].concat(i.slice(1)),t){var f=t[n.join(" ")];void 0===f&&(f=t[n.join(".")]),void 0!==f&&(n=f)}return n},f.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,o,a,c,0)},f.prototype._decodeNull=function(e){return null},f.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},f.prototype._decodeInt=function(e,t){var r=e.raw(),n=new o(r);return t&&(n=t[n.toString(10)]||n),n},f.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":1,inherits:100}],10:[function(e,t,r){var n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":9,"./pem":11}],11:[function(e,t,r){var n=e("inherits"),i=e("buffer").Buffer,s=e("./der");function o(e){s.call(this,e),this.enc="pem"}n(o,s),t.exports=o,o.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1,f=0;f<r.length;f++){var h=r[f].match(o);if(null!==h&&h[2]===n){if(-1!==a){if("END"!==h[1])break;c=f;break}if("BEGIN"!==h[1])break;a=f}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+n);var u=r.slice(a+1,c).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(u,"base64");return s.prototype.decode.call(this,d,t)}},{"./der":9,buffer:48,inherits:100}],12:[function(e,t,r){var n=e("inherits"),i=e("buffer").Buffer,s=e("../../asn1"),o=s.base,a=s.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new f,this.tree._init(e.body)}function f(e){o.Node.call(this,"der",e)}function h(e){return e<10?"0"+e:e}t.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(f,o.Node),f.prototype._encodeComposite=function(e,t,r,n){var s,o=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6}(e,t,r,this.reporter);if(n.length<128)return(s=new i(2))[0]=o,s[1]=n.length,this._createEncoderBuffer([s,n]);for(var c=1,f=n.length;f>=256;f>>=8)c++;(s=new i(2+c))[0]=o,s[1]=128|c;f=1+c;for(var h=n.length;h>0;f--,h>>=8)s[f]=255&h;return this._createEncoderBuffer([s,n])},f.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},f.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var s=0;for(n=0;n<e.length;n++){var o=e[n];for(s++;o>=128;o>>=7)s++}var a=new i(s),c=a.length-1;for(n=e.length-1;n>=0;n--){o=e[n];for(a[c--]=127&o;(o>>=7)>0;)a[c--]=128|127&o}return this._createEncoderBuffer(a)},f.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[h(n.getFullYear()),h(n.getUTCMonth()+1),h(n.getUTCDate()),h(n.getUTCHours()),h(n.getUTCMinutes()),h(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[h(n.getFullYear()%100),h(n.getUTCMonth()+1),h(n.getUTCDate()),h(n.getUTCHours()),h(n.getUTCMinutes()),h(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},f.prototype._encodeNull=function(){return this._createEncoderBuffer("")},f.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var s=new i(n);return e.copy(s),0===e.length&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var o=e;o>=256;o>>=8)n++;for(o=(s=new Array(n)).length-1;o>=0;o--)s[o]=255&e,e>>=8;return 128&s[0]&&s.unshift(0),this._createEncoderBuffer(new i(s))},f.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},f.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},f.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var s=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),s.length!==i.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==i.defaultBuffer[n])return!1;return!0}},{"../../asn1":1,buffer:48,inherits:100}],13:[function(e,t,r){var n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":12,"./pem":14}],14:[function(e,t,r){var n=e("inherits"),i=e("./der");function s(e){i.call(this,e),this.enc="pem"}n(s,i),t.exports=s,s.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],s=0;s<r.length;s+=64)n.push(r.slice(s,s+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},{"./der":12,inherits:100}],15:[function(e,t,r){"use strict";r.byteLength=function(e){var t=f(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=f(e),o=n[0],a=n[1],c=new s(function(e,t,r){return 3*(t+r)/4-r}(0,o,a)),h=0,u=a>0?o-4:o;for(r=0;r<u;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[h++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t);return c},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(h(e,o,o+16383>a?a:o+16383));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,r){for(var i,s,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],16:[function(e,t,r){!function(t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof t?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;try{o=e("buffer").Buffer}catch(e){}function a(e,t,r){for(var n=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;n<<=4,n|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,s=0;for(r=e.length-6,n=0;r>=t;r-=6)i=a(e,r,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303,(s+=24)>=26&&(s-=26,n++);r+6!==t&&(i=a(e,t,r+6),this.words[n]|=i<<s&67108863,this.words[n+1]|=i>>>26-s&4194303),this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,f=0,h=r;h<a;h+=n)f=c(e,h,h+n,t),this.imuln(i),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==o){var u=1;for(f=c(e,h,e.length,t),h=0;h<o;h++)u*=t;this.imuln(u),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var f=1;f<n;f++){for(var h=c>>>26,u=67108863&c,d=Math.min(f,t.length-1),l=Math.max(0,f-e.length+1);l<=d;l++){var p=f-l|0;h+=(o=(i=0|e.words[p])*(s=0|t.words[l])+u)/67108864|0,u=67108863&o}r.words[f]=0|u,c=0|h}return 0!==c?r.words[f]=0|c:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?f[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var d=h[e],l=u[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);r=(p=p.idivn(l)).isZero()?b+r:f[d-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,c="le"===t,f=new e(s),h=this.clone();if(c){for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),f[a]=o;for(;a<s;a++)f[a]=0}else{for(a=0;a<s-i;a++)f[a]=0;for(a=0;!h.isZero();a++)o=h.andln(255),h.iushrn(8),f[s-a-1]=o}return f},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,s,o=e.words,a=t.words,c=r.words,f=0,h=0|o[0],u=8191&h,d=h>>>13,l=0|o[1],p=8191&l,b=l>>>13,g=0|o[2],y=8191&g,m=g>>>13,v=0|o[3],_=8191&v,w=v>>>13,A=0|o[4],I=8191&A,E=A>>>13,C=0|o[5],k=8191&C,S=C>>>13,x=0|o[6],B=8191&x,M=x>>>13,R=0|o[7],D=8191&R,T=R>>>13,j=0|o[8],O=8191&j,Q=j>>>13,L=0|o[9],P=8191&L,U=L>>>13,F=0|a[0],N=8191&F,q=F>>>13,K=0|a[1],z=8191&K,H=K>>>13,Y=0|a[2],W=8191&Y,G=Y>>>13,V=0|a[3],J=8191&V,X=V>>>13,$=0|a[4],Z=8191&$,ee=$>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ce=8191&ae,fe=ae>>>13,he=0|a[8],ue=8191&he,de=he>>>13,le=0|a[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(f+(n=Math.imul(u,N))|0)+((8191&(i=(i=Math.imul(u,q))+Math.imul(d,N)|0))<<13)|0;f=((s=Math.imul(d,q))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,N),i=(i=Math.imul(p,q))+Math.imul(b,N)|0,s=Math.imul(b,q);var ye=(f+(n=n+Math.imul(u,z)|0)|0)+((8191&(i=(i=i+Math.imul(u,H)|0)+Math.imul(d,z)|0))<<13)|0;f=((s=s+Math.imul(d,H)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,N),i=(i=Math.imul(y,q))+Math.imul(m,N)|0,s=Math.imul(m,q),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,H)|0;var me=(f+(n=n+Math.imul(u,W)|0)|0)+((8191&(i=(i=i+Math.imul(u,G)|0)+Math.imul(d,W)|0))<<13)|0;f=((s=s+Math.imul(d,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,N),i=(i=Math.imul(_,q))+Math.imul(w,N)|0,s=Math.imul(w,q),n=n+Math.imul(y,z)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,H)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,G)|0;var ve=(f+(n=n+Math.imul(u,J)|0)|0)+((8191&(i=(i=i+Math.imul(u,X)|0)+Math.imul(d,J)|0))<<13)|0;f=((s=s+Math.imul(d,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(I,N),i=(i=Math.imul(I,q))+Math.imul(E,N)|0,s=Math.imul(E,q),n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,z)|0,s=s+Math.imul(w,H)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(m,W)|0,s=s+Math.imul(m,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,X)|0;var _e=(f+(n=n+Math.imul(u,Z)|0)|0)+((8191&(i=(i=i+Math.imul(u,ee)|0)+Math.imul(d,Z)|0))<<13)|0;f=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(k,N),i=(i=Math.imul(k,q))+Math.imul(S,N)|0,s=Math.imul(S,q),n=n+Math.imul(I,z)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(E,z)|0,s=s+Math.imul(E,H)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,W)|0,s=s+Math.imul(w,G)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,X)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Z)|0,s=s+Math.imul(b,ee)|0;var we=(f+(n=n+Math.imul(u,re)|0)|0)+((8191&(i=(i=i+Math.imul(u,ne)|0)+Math.imul(d,re)|0))<<13)|0;f=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(B,N),i=(i=Math.imul(B,q))+Math.imul(M,N)|0,s=Math.imul(M,q),n=n+Math.imul(k,z)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(S,z)|0,s=s+Math.imul(S,H)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(E,W)|0,s=s+Math.imul(E,G)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,X)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0;var Ae=(f+(n=n+Math.imul(u,se)|0)|0)+((8191&(i=(i=i+Math.imul(u,oe)|0)+Math.imul(d,se)|0))<<13)|0;f=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,N),i=(i=Math.imul(D,q))+Math.imul(T,N)|0,s=Math.imul(T,q),n=n+Math.imul(B,z)|0,i=(i=i+Math.imul(B,H)|0)+Math.imul(M,z)|0,s=s+Math.imul(M,H)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,G)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0;var Ie=(f+(n=n+Math.imul(u,ce)|0)|0)+((8191&(i=(i=i+Math.imul(u,fe)|0)+Math.imul(d,ce)|0))<<13)|0;f=((s=s+Math.imul(d,fe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(O,N),i=(i=Math.imul(O,q))+Math.imul(Q,N)|0,s=Math.imul(Q,q),n=n+Math.imul(D,z)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(T,z)|0,s=s+Math.imul(T,H)|0,n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(M,W)|0,s=s+Math.imul(M,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(E,Z)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,s=s+Math.imul(w,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(b,ce)|0,s=s+Math.imul(b,fe)|0;var Ee=(f+(n=n+Math.imul(u,ue)|0)|0)+((8191&(i=(i=i+Math.imul(u,de)|0)+Math.imul(d,ue)|0))<<13)|0;f=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(P,N),i=(i=Math.imul(P,q))+Math.imul(U,N)|0,s=Math.imul(U,q),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,H)|0)+Math.imul(Q,z)|0,s=s+Math.imul(Q,H)|0,n=n+Math.imul(D,W)|0,i=(i=i+Math.imul(D,G)|0)+Math.imul(T,W)|0,s=s+Math.imul(T,G)|0,n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,X)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,Z)|0,s=s+Math.imul(S,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(_,se)|0,i=(i=i+Math.imul(_,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,n=n+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(m,ce)|0,s=s+Math.imul(m,fe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,de)|0;var Ce=(f+(n=n+Math.imul(u,pe)|0)|0)+((8191&(i=(i=i+Math.imul(u,be)|0)+Math.imul(d,pe)|0))<<13)|0;f=((s=s+Math.imul(d,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,H))+Math.imul(U,z)|0,s=Math.imul(U,H),n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(Q,W)|0,s=s+Math.imul(Q,G)|0,n=n+Math.imul(D,J)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(T,J)|0,s=s+Math.imul(T,X)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(M,Z)|0,s=s+Math.imul(M,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ne)|0,n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(w,ce)|0,s=s+Math.imul(w,fe)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,de)|0;var ke=(f+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;f=((s=s+Math.imul(b,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(P,W),i=(i=Math.imul(P,G))+Math.imul(U,W)|0,s=Math.imul(U,G),n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(Q,J)|0,s=s+Math.imul(Q,X)|0,n=n+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,ee)|0,n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ne)|0,n=n+Math.imul(k,se)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,oe)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(E,ce)|0,s=s+Math.imul(E,fe)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(w,ue)|0,s=s+Math.imul(w,de)|0;var Se=(f+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,be)|0)+Math.imul(m,pe)|0))<<13)|0;f=((s=s+Math.imul(m,be)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,J),i=(i=Math.imul(P,X))+Math.imul(U,J)|0,s=Math.imul(U,X),n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(Q,Z)|0,s=s+Math.imul(Q,ee)|0,n=n+Math.imul(D,re)|0,i=(i=i+Math.imul(D,ne)|0)+Math.imul(T,re)|0,s=s+Math.imul(T,ne)|0,n=n+Math.imul(B,se)|0,i=(i=i+Math.imul(B,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,fe)|0)+Math.imul(S,ce)|0,s=s+Math.imul(S,fe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,de)|0;var xe=(f+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;f=((s=s+Math.imul(w,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(P,Z),i=(i=Math.imul(P,ee))+Math.imul(U,Z)|0,s=Math.imul(U,ee),n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(Q,re)|0,s=s+Math.imul(Q,ne)|0,n=n+Math.imul(D,se)|0,i=(i=i+Math.imul(D,oe)|0)+Math.imul(T,se)|0,s=s+Math.imul(T,oe)|0,n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,fe)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(S,ue)|0,s=s+Math.imul(S,de)|0;var Be=(f+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(E,pe)|0))<<13)|0;f=((s=s+Math.imul(E,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(P,re),i=(i=Math.imul(P,ne))+Math.imul(U,re)|0,s=Math.imul(U,ne),n=n+Math.imul(O,se)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(Q,se)|0,s=s+Math.imul(Q,oe)|0,n=n+Math.imul(D,ce)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(T,ce)|0,s=s+Math.imul(T,fe)|0,n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(M,ue)|0,s=s+Math.imul(M,de)|0;var Me=(f+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(S,pe)|0))<<13)|0;f=((s=s+Math.imul(S,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(P,se),i=(i=Math.imul(P,oe))+Math.imul(U,se)|0,s=Math.imul(U,oe),n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(Q,ce)|0,s=s+Math.imul(Q,fe)|0,n=n+Math.imul(D,ue)|0,i=(i=i+Math.imul(D,de)|0)+Math.imul(T,ue)|0,s=s+Math.imul(T,de)|0;var Re=(f+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,be)|0)+Math.imul(M,pe)|0))<<13)|0;f=((s=s+Math.imul(M,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(P,ce),i=(i=Math.imul(P,fe))+Math.imul(U,ce)|0,s=Math.imul(U,fe),n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(Q,ue)|0,s=s+Math.imul(Q,de)|0;var De=(f+(n=n+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,be)|0)+Math.imul(T,pe)|0))<<13)|0;f=((s=s+Math.imul(T,be)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(P,ue),i=(i=Math.imul(P,de))+Math.imul(U,ue)|0,s=Math.imul(U,de);var Te=(f+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(Q,pe)|0))<<13)|0;f=((s=s+Math.imul(Q,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863;var je=(f+(n=Math.imul(P,pe))|0)+((8191&(i=(i=Math.imul(P,be))+Math.imul(U,pe)|0))<<13)|0;return f=((s=Math.imul(U,be))+(i>>>13)|0)+(je>>>26)|0,je&=67108863,c[0]=ge,c[1]=ye,c[2]=me,c[3]=ve,c[4]=_e,c[5]=we,c[6]=Ae,c[7]=Ie,c[8]=Ee,c[9]=Ce,c[10]=ke,c[11]=Se,c[12]=xe,c[13]=Be,c[14]=Me,c[15]=Re,c[16]=De,c[17]=Te,c[18]=je,0!==f&&(c[19]=f,r.length++),r};function p(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(l=d),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,t.length-1),f=Math.max(0,s-e.length+1);f<=c;f++){var h=s-f,u=(0|e.words[h])*(0|t.words[f]),d=67108863&u;a=67108863&(d=d+a|0),i+=(o=(o=o+(u/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},b.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),f=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var u=c,d=f,l=0;l<o;l++){var p=r[h+l],b=n[h+l],g=r[h+l+o],y=n[h+l+o],m=u*g-d*y;y=u*y+d*g,g=m,r[h+l]=p+g,n[h+l]=b+y,r[h+l+o]=p-g,n[h+l+o]=b-y,l!==a&&(m=c*u-f*d,d=c*d+f*u,u=m)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),u=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,f,n),this.transform(o,s,a,c,n,i),this.transform(f,s,h,u,n,i);for(var l=0;l<n;l++){var p=a[l]*h[l]-c[l]*u[l];c[l]=a[l]*u[l]+c[l]*h[l],a[l]=p}return this.conjugate(a,c,n),this.transform(a,c,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),p(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=r;if(i-=o,i=Math.max(0,i),c){for(var f=0;f<o;f++)c.words[f]=this.words[f];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,f=0;f<this.length;f++)this.words[f]=this.words[f+o];else this.words[0]=0,this.length=1;var h=0;for(f=this.length-1;f>=0&&(0!==h||f>=i);f--){var u=0|this.words[f];this.words[f]=h<<26-s|u>>>s,h=u&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var f=0;f<a.length;f++)a.words[f]=0}var h=n.clone()._ishlnsubmul(i,1,c);0===h.negative&&(n=h,a&&(a.words[c]=1));for(var u=c-1;u>=0;u--){var d=67108864*(0|n.words[i.length+u])+(0|n.words[i.length+u-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,u);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,u),n.isZero()||(n.negative^=1);a&&(a.words[u]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),f=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++f;for(var h=r.clone(),u=t.clone();!t.isZero();){for(var d=0,l=1;0==(t.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(u)),i.iushrn(1),o.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(u)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(c)):(r.isub(t),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:r.iushln(f)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var u=0,d=1;0==(r.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(r.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new A(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(m,y),m.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,y),i(_,y),i(w,y),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new v;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),f=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,f).cmp(c);)h.redIAdd(c);for(var u=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),l=this.pow(e,i),p=o;0!==l.cmp(a);){for(var b=l,g=0;0!==b.cmp(a);g++)b=b.redSqr();n(g<p);var y=this.pow(u,new s(1).iushln(p-g-1));d=d.redMul(y),u=y.redSqr(),l=l.redMul(u),p=g}return d},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var f=t.words[n],h=c-1;h>=0;h--){var u=f>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==u||0!==o?(o<<=1,o|=u,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}c=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new I(e)},i(I,A),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)},{buffer:18}],17:[function(e,t,r){var n;function i(e){this.rand=e}if(t.exports=function(e){return n||(n=new i(null)),n.generate(e)},t.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=e("crypto");if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(e){}},{crypto:18}],18:[function(e,t,r){},{}],19:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function s(e){for(;0<e.length;e++)e[0]=0}function o(e,t,r,n,i){for(var s,o,a,c,f=r[0],h=r[1],u=r[2],d=r[3],l=e[0]^t[0],p=e[1]^t[1],b=e[2]^t[2],g=e[3]^t[3],y=4,m=1;m<i;m++)s=f[l>>>24]^h[p>>>16&255]^u[b>>>8&255]^d[255&g]^t[y++],o=f[p>>>24]^h[b>>>16&255]^u[g>>>8&255]^d[255&l]^t[y++],a=f[b>>>24]^h[g>>>16&255]^u[l>>>8&255]^d[255&p]^t[y++],c=f[g>>>24]^h[l>>>16&255]^u[p>>>8&255]^d[255&b]^t[y++],l=s,p=o,b=a,g=c;return s=(n[l>>>24]<<24|n[p>>>16&255]<<16|n[b>>>8&255]<<8|n[255&g])^t[y++],o=(n[p>>>24]<<24|n[b>>>16&255]<<16|n[g>>>8&255]<<8|n[255&l])^t[y++],a=(n[b>>>24]<<24|n[g>>>16&255]<<16|n[l>>>8&255]<<8|n[255&p])^t[y++],c=(n[g>>>24]<<24|n[l>>>16&255]<<16|n[p>>>8&255]<<8|n[255&b])^t[y++],[s>>>=0,o>>>=0,a>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,c=0;c<256;++c){var f=a^a<<1^a<<2^a<<3^a<<4;f=f>>>8^255&f^99,r[o]=f,n[f]=o;var h=e[o],u=e[h],d=e[u],l=257*e[f]^16843008*f;i[0][o]=l<<24|l>>>8,i[1][o]=l<<16|l>>>16,i[2][o]=l<<8|l>>>24,i[3][o]=l,l=16843009*d^65537*u^257*h^16843008*o,s[0][f]=l<<24|l>>>8,s[1][f]=l<<16|l>>>16,s[2][f]=l<<8|l>>>24,s[3][f]=l,0===o?o=a=1:(o=h^e[e[e[d^h]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function f(e){this._key=i(e),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],s=0;s<t;s++)i[s]=e[s];for(s=t;s<n;s++){var o=i[s-1];s%t==0?(o=o<<8|o>>>24,o=c.SBOX[o>>>24]<<24|c.SBOX[o>>>16&255]<<16|c.SBOX[o>>>8&255]<<8|c.SBOX[255&o],o^=a[s/t|0]<<24):t>6&&s%t==4&&(o=c.SBOX[o>>>24]<<24|c.SBOX[o>>>16&255]<<16|c.SBOX[o>>>8&255]<<8|c.SBOX[255&o]),i[s]=i[s-t]^o}for(var f=[],h=0;h<n;h++){var u=n-h,d=i[u-(h%4?0:4)];f[h]=h<4||u<=4?d:c.INV_SUB_MIX[0][c.SBOX[d>>>24]]^c.INV_SUB_MIX[1][c.SBOX[d>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[d>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&d]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=f},f.prototype.encryptBlockRaw=function(e){return o(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},f.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},f.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=o(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),s=n.allocUnsafe(16);return s.writeUInt32BE(r[0],0),s.writeUInt32BE(r[3],4),s.writeUInt32BE(r[2],8),s.writeUInt32BE(r[1],12),s},f.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},t.exports.AES=f},{"safe-buffer":144}],20:[function(e,t,r){var n=e("./aes"),i=e("safe-buffer").Buffer,s=e("cipher-base"),o=e("inherits"),a=e("./ghash"),c=e("buffer-xor"),f=e("./incr32");function h(e,t,r,o){s.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(t);var h=this._cipher.encryptBlock(c);this._ghash=new a(h),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new a(r),s=t.length,o=s%16;n.update(t),o&&(o=16-o,n.update(i.alloc(o,0))),n.update(i.alloc(8,0));var c=8*s,h=i.alloc(8);h.writeUIntBE(c,0,8),n.update(h),e._finID=n.state;var u=i.from(e._finID);return f(u),u}(this,r,h),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}o(h,s),h.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},h.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=h},{"./aes":19,"./ghash":24,"./incr32":25,"buffer-xor":47,"cipher-base":49,inherits:100,"safe-buffer":144}],21:[function(e,t,r){var n=e("./encrypter"),i=e("./decrypter"),s=e("./modes/list.json");r.createCipher=r.Cipher=n.createCipher,r.createCipheriv=r.Cipheriv=n.createCipheriv,r.createDecipher=r.Decipher=i.createDecipher,r.createDecipheriv=r.Decipheriv=i.createDecipheriv,r.listCiphers=r.getCiphers=function(){return Object.keys(s)}},{"./decrypter":22,"./encrypter":23,"./modes/list.json":33}],22:[function(e,t,r){var n=e("./authCipher"),i=e("safe-buffer").Buffer,s=e("./modes"),o=e("./streamCipher"),a=e("cipher-base"),c=e("./aes"),f=e("evp_bytestokey");function h(e,t,r){a.call(this),this._cache=new u,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function u(){this.cache=i.allocUnsafe(0)}function d(e,t,r){var a=s[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===a.type?new o(a.module,t,r,!0):"auth"===a.type?new n(a.module,t,r,!0):new h(a.module,t,r)}e("inherits")(h,a),h.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=i.concat([this.cache,e])},u.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},r.createDecipher=function(e,t){var r=s[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=f(t,!1,r.key,r.iv);return d(e,n.key,n.iv)},r.createDecipheriv=d},{"./aes":19,"./authCipher":20,"./modes":32,"./streamCipher":35,"cipher-base":49,evp_bytestokey:84,inherits:100,"safe-buffer":144}],23:[function(e,t,r){var n=e("./modes"),i=e("./authCipher"),s=e("safe-buffer").Buffer,o=e("./streamCipher"),a=e("cipher-base"),c=e("./aes"),f=e("evp_bytestokey");function h(e,t,r){a.call(this),this._cache=new d,this._cipher=new c.AES(t),this._prev=s.from(r),this._mode=e,this._autopadding=!0}e("inherits")(h,a),h.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return s.concat(n)};var u=s.alloc(16,16);function d(){this.cache=s.allocUnsafe(0)}function l(e,t,r){var a=n[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=s.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=s.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new o(a.module,t,r):"auth"===a.type?new i(a.module,t,r):new h(a.module,t,r)}h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=s.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=s.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return s.concat([this.cache,t])},r.createCipheriv=l,r.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=f(t,!1,r.key,r.iv);return l(e,i.key,i.iv)}},{"./aes":19,"./authCipher":20,"./modes":32,"./streamCipher":35,"cipher-base":49,evp_bytestokey:84,inherits:100,"safe-buffer":144}],24:[function(e,t,r){var n=e("safe-buffer").Buffer,i=n.alloc(16,0);function s(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function o(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=s(i)},o.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},o.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(s([0,e,0,t])),this.state},t.exports=o},{"safe-buffer":144}],25:[function(e,t,r){t.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},{}],26:[function(e,t,r){var n=e("buffer-xor");r.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},r.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},{"buffer-xor":47}],27:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("buffer-xor");function s(e,t,r){var s=t.length,o=i(t,e._cache);return e._cache=e._cache.slice(s),e._prev=n.concat([e._prev,r?t:o]),o}r.encrypt=function(e,t,r){for(var i,o=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){o=n.concat([o,s(e,t,r)]);break}i=e._cache.length,o=n.concat([o,s(e,t.slice(0,i),r)]),t=t.slice(i)}return o}},{"buffer-xor":47,"safe-buffer":144}],28:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t,r){for(var n,i,o=-1,a=0;++o<8;)n=t&1<<7-o?128:0,a+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>o%8,e._prev=s(e._prev,r?n:i);return a}function s(e,t){var r=e.length,i=-1,s=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)s[i]=e[i]<<1|e[i+1]>>7;return s}r.encrypt=function(e,t,r){for(var s=t.length,o=n.allocUnsafe(s),a=-1;++a<s;)o[a]=i(e,t[a],r);return o}},{"safe-buffer":144}],29:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}r.encrypt=function(e,t,r){for(var s=t.length,o=n.allocUnsafe(s),a=-1;++a<s;)o[a]=i(e,t[a],r);return o}},{"safe-buffer":144}],30:[function(e,t,r){var n=e("buffer-xor"),i=e("safe-buffer").Buffer,s=e("../incr32");function o(e){var t=e._cipher.encryptBlockRaw(e._prev);return s(e._prev),t}r.encrypt=function(e,t){var r=Math.ceil(t.length/16),s=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var c=o(e),f=s+16*a;e._cache.writeUInt32BE(c[0],f+0),e._cache.writeUInt32BE(c[1],f+4),e._cache.writeUInt32BE(c[2],f+8),e._cache.writeUInt32BE(c[3],f+12)}var h=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,h)}},{"../incr32":25,"buffer-xor":47,"safe-buffer":144}],31:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)},r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],32:[function(e,t,r){var n={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},i=e("./list.json");for(var s in i)i[s].module=n[i[s].mode];t.exports=i},{"./cbc":26,"./cfb":27,"./cfb1":28,"./cfb8":29,"./ctr":30,"./ecb":31,"./list.json":33,"./ofb":34}],33:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],34:[function(e,t,r){(function(t){var n=e("buffer-xor");function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}r.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,i(e)]);var s=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),n(r,s)}}).call(this,e("buffer").Buffer)},{buffer:48,"buffer-xor":47}],35:[function(e,t,r){var n=e("./aes"),i=e("safe-buffer").Buffer,s=e("cipher-base");function o(e,t,r,o){s.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=o,this._mode=e}e("inherits")(o,s),o.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o},{"./aes":19,"cipher-base":49,inherits:100,"safe-buffer":144}],36:[function(e,t,r){var n=e("browserify-des"),i=e("browserify-aes/browser"),s=e("browserify-aes/modes"),o=e("browserify-des/modes"),a=e("evp_bytestokey");function c(e,t,r){if(e=e.toLowerCase(),s[e])return i.createCipheriv(e,t,r);if(o[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function f(e,t,r){if(e=e.toLowerCase(),s[e])return i.createDecipheriv(e,t,r);if(o[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}r.createCipher=r.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");r=8*o[e].key,n=o[e].iv}var i=a(t,!1,r,n);return c(e,i.key,i.iv)},r.createCipheriv=r.Cipheriv=c,r.createDecipher=r.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");r=8*o[e].key,n=o[e].iv}var i=a(t,!1,r,n);return f(e,i.key,i.iv)},r.createDecipheriv=r.Decipheriv=f,r.listCiphers=r.getCiphers=function(){return Object.keys(o).concat(i.getCiphers())}},{"browserify-aes/browser":21,"browserify-aes/modes":32,"browserify-des":37,"browserify-des/modes":38,evp_bytestokey:84}],37:[function(e,t,r){var n=e("cipher-base"),i=e("des.js"),s=e("inherits"),o=e("safe-buffer").Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),i=a[r];t=e.decrypt?"decrypt":"encrypt";var s=e.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==r&&"des-ede-cbc"!==r||(s=o.concat([s,s.slice(0,8)]));var c=e.iv;o.isBuffer(c)||(c=o.from(c)),this._des=i.create({key:s,iv:c,type:t})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=c,s(c,n),c.prototype._update=function(e){return o.from(this._des.update(e))},c.prototype._final=function(){return o.from(this._des.final())}},{"cipher-base":49,"des.js":57,inherits:100,"safe-buffer":144}],38:[function(e,t,r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}},{}],39:[function(e,t,r){(function(r){var n=e("bn.js"),i=e("randombytes");function s(e,t){var i=function(e){var t=o(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),s=t.modulus.byteLength(),a=(n.mont(t.modulus),new n(e).mul(i.blinder).umod(t.modulus)),c=a.toRed(n.mont(t.prime1)),f=a.toRed(n.mont(t.prime2)),h=t.coefficient,u=t.prime1,d=t.prime2,l=c.redPow(t.exponent1),p=f.redPow(t.exponent2);l=l.fromRed(),p=p.fromRed();var b=l.isub(p).imul(h).umod(u);return b.imul(d),p.iadd(b),new r(p.imul(i.unblinder).umod(t.modulus).toArray(!1,s))}function o(e){for(var t=e.modulus.byteLength(),r=new n(i(t));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new n(i(t));return r}t.exports=s,s.getr=o}).call(this,e("buffer").Buffer)},{"bn.js":16,buffer:48,randombytes:126}],40:[function(e,t,r){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":41}],41:[function(e,t,r){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],42:[function(e,t,r){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],43:[function(e,t,r){(function(r){var n=e("create-hash"),i=e("stream"),s=e("inherits"),o=e("./sign"),a=e("./verify"),c=e("./algorithms.json");function f(e){i.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){i.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function u(e){return new f(e)}function d(e){return new h(e)}Object.keys(c).forEach(function(e){c[e].id=new r(c[e].id,"hex"),c[e.toLowerCase()]=c[e]}),s(f,i.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return"string"==typeof e&&(e=new r(e,t)),this._hash.update(e),this},f.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=o(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},s(h,i.Writable),h.prototype._write=function(e,t,r){this._hash.update(e),r()},h.prototype.update=function(e,t){return"string"==typeof e&&(e=new r(e,t)),this._hash.update(e),this},h.prototype.verify=function(e,t,n){"string"==typeof t&&(t=new r(t,n)),this.end();var i=this._hash.digest();return a(t,i,e,this._signType,this._tag)},t.exports={Sign:u,Verify:d,createSign:u,createVerify:d}}).call(this,e("buffer").Buffer)},{"./algorithms.json":41,"./sign":44,"./verify":45,buffer:48,"create-hash":52,inherits:100,stream:153}],44:[function(e,t,r){(function(r){var n=e("create-hmac"),i=e("browserify-rsa"),s=e("elliptic").ec,o=e("bn.js"),a=e("parse-asn1"),c=e("./curves.json");function f(e,t,i,s){if((e=new r(e.toArray())).length<t.byteLength()){var o=new r(t.byteLength()-e.length);o.fill(0),e=r.concat([o,e])}var a=i.length,c=function(e,t){e=(e=h(e,t)).mod(t);var n=new r(e.toArray());if(n.length<t.byteLength()){var i=new r(t.byteLength()-n.length);i.fill(0),n=r.concat([i,n])}return n}(i,t),f=new r(a);f.fill(1);var u=new r(a);return u.fill(0),u=n(s,u).update(f).update(new r([0])).update(e).update(c).digest(),f=n(s,u).update(f).digest(),{k:u=n(s,u).update(f).update(new r([1])).update(e).update(c).digest(),v:f=n(s,u).update(f).digest()}}function h(e,t){var r=new o(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function u(e,t,i){var s,o;do{for(s=new r(0);8*s.length<e.bitLength();)t.v=n(i,t.k).update(t.v).digest(),s=r.concat([s,t.v]);o=h(s,e),t.k=n(i,t.k).update(t.v).update(new r([0])).digest(),t.v=n(i,t.k).update(t.v).digest()}while(-1!==o.cmp(e));return o}function d(e,t,r,n){return e.toRed(o.mont(r)).redPow(t).fromRed().mod(n)}t.exports=function(e,t,n,l,p){var b=a(t);if(b.curve){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong private key type");return function(e,t){var n=c[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new s(n).keyFromPrivate(t.privateKey).sign(e);return new r(i.toDER())}(e,b)}if("dsa"===b.type){if("dsa"!==l)throw new Error("wrong private key type");return function(e,t,n){for(var i,s=t.params.priv_key,a=t.params.p,c=t.params.q,l=t.params.g,p=new o(0),b=h(e,c).mod(c),g=!1,y=f(s,c,e,n);!1===g;)i=u(c,y,n),p=d(l,i,a,c),0===(g=i.invm(c).imul(b.add(s.mul(p))).mod(c)).cmpn(0)&&(g=!1,p=new o(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),new r(n)}(p,g)}(e,b,n)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong private key type");e=r.concat([p,e]);for(var g=b.modulus.byteLength(),y=[0,1];e.length+y.length+1<g;)y.push(255);y.push(0);for(var m=-1;++m<e.length;)y.push(e[m]);return i(y,b)},t.exports.getKey=f,t.exports.makeKey=u}).call(this,e("buffer").Buffer)},{"./curves.json":42,"bn.js":16,"browserify-rsa":39,buffer:48,"create-hmac":54,elliptic:67,"parse-asn1":111}],45:[function(e,t,r){(function(r){var n=e("bn.js"),i=e("elliptic").ec,s=e("parse-asn1"),o=e("./curves.json");function a(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,c,f,h){var u=s(c);if("ec"===u.type){if("ecdsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong public key type");return function(e,t,r){var n=o[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var s=new i(n),a=r.data.subjectPrivateKey.data;return s.verify(t,e,a)}(e,t,u)}if("dsa"===u.type){if("dsa"!==f)throw new Error("wrong public key type");return function(e,t,r){var i=r.data.p,o=r.data.q,c=r.data.g,f=r.data.pub_key,h=s.signature.decode(e,"der"),u=h.s,d=h.r;a(u,o),a(d,o);var l=n.mont(i),p=u.invm(o);return 0===c.toRed(l).redPow(new n(t).mul(p).mod(o)).fromRed().mul(f.toRed(l).redPow(d.mul(p).mod(o)).fromRed()).mod(i).mod(o).cmp(d)}(e,t,u)}if("rsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong public key type");t=r.concat([h,t]);for(var d=u.modulus.byteLength(),l=[1],p=0;t.length+l.length+2<d;)l.push(255),p++;l.push(0);for(var b=-1;++b<t.length;)l.push(t[b]);l=new r(l);var g=n.mont(u.modulus);e=(e=new n(e).toRed(g)).redPow(new n(u.publicExponent)),e=new r(e.fromRed().toArray());var y=p<8?1:0;for(d=Math.min(e.length,l.length),e.length!==l.length&&(y=1),b=-1;++b<d;)y|=e[b]^l[b];return 0===y}}).call(this,e("buffer").Buffer)},{"./curves.json":42,"bn.js":16,buffer:48,elliptic:67,"parse-asn1":111}],46:[function(e,t,r){arguments[4][18][0].apply(r,arguments)},{dup:18}],47:[function(e,t,r){(function(e){t.exports=function(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),s=0;s<n;++s)i[s]=t[s]^r[s];return i}}).call(this,e("buffer").Buffer)},{buffer:48}],48:[function(e,t,r){(function(t){"use strict";var n=e("base64-js"),i=e("ieee754");r.Buffer=t,r.SlowBuffer=function(e){+e!=e&&(e=0);return t.alloc(+e)},r.INSPECT_MAX_BYTES=50;var s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return r.__proto__=t.prototype,r}function t(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return a(e,t,r)}function a(e,r,n){if("string"==typeof e)return function(e,r){"string"==typeof r&&""!==r||(r="utf8");if(!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var n=0|d(e,r),i=o(n),s=i.write(e,r);s!==n&&(i=i.slice(0,s));return i}(e,r);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(U(e,ArrayBuffer)||e&&U(e.buffer,ArrayBuffer))return function(e,r,n){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;i=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);return i.__proto__=t.prototype,i}(e,r,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,r,n);var s=function(e){if(t.isBuffer(e)){var r=0|u(e.length),n=o(r);return 0===n.length?n:(e.copy(n,0,0,r),n)}if(void 0!==e.length)return"number"!=typeof e.length||F(e.length)?o(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return c(e),o(e<0?0:0|u(e))}function h(e){for(var t=e.length<0?0:0|u(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function u(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function d(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||U(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var s=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(e).length;default:if(s)return i?-1:Q(e).length;r=(""+r).toLowerCase(),s=!0}}function l(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function p(e,r,n,i,s){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),F(n=+n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:b(e,r,n,i,s);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,r,n):Uint8Array.prototype.lastIndexOf.call(e,r,n):b(e,[r],n,i,s);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var s,o=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,r/=2}function f(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var h=-1;for(s=r;s<a;s++)if(f(e,s)===f(t,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===c)return h*o}else-1!==h&&(s-=s-h),h=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){for(var u=!0,d=0;d<c;d++)if(f(e,s+d)!==f(t,d)){u=!1;break}if(u)return s}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(F(a))return o;e[r+o]=a}return o}function y(e,t,r,n){return P(Q(t,e.length-r),e,r,n)}function m(e,t,r,n){return P(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function v(e,t,r,n){return m(e,t,r,n)}function _(e,t,r,n){return P(L(t),e,r,n)}function w(e,t,r,n){return P(function(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,c,f=e[i],h=null,u=f>239?4:f>223?3:f>191?2:1;if(i+u<=r)switch(u){case 1:f<128&&(h=f);break;case 2:128==(192&(s=e[i+1]))&&(c=(31&f)<<6|63&s)>127&&(h=c);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(c=(15&f)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(c=(15&f)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(h=c)}null===h?(h=65533,u=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=u}return function(e){var t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=E));return r}(n)}r.kMaxLength=s,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,r){return a(e,t,r)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},t.allocUnsafe=function(e){return f(e)},t.allocUnsafeSlow=function(e){return f(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(U(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),U(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=t.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(U(o,Uint8Array)&&(o=t.from(o)),!t.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i},t.byteLength=d,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)l(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)l(this,t,t+3),l(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)l(this,t,t+7),l(this,t+1,t+6),l(this,t+2,t+5),l(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t.prototype.compare=function(e,r,n,i,s){if(U(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(this===e)return 0;for(var o=(s>>>=0)-(i>>>=0),a=(n>>>=0)-(r>>>=0),c=Math.min(o,a),f=this.slice(i,s),h=e.slice(r,n),u=0;u<c;++u)if(f[u]!==h[u]){o=f[u],a=h[u];break}return o<a?-1:a<o?1:0},t.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},t.prototype.indexOf=function(e,t,r){return p(this,e,t,r,!0)},t.prototype.lastIndexOf=function(e,t,r){return p(this,e,t,r,!1)},t.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return m(this,e,t,r);case"latin1":case"binary":return v(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function S(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=O(e[s]);return i}function x(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,r,n,i,s,o){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>s||r<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,s){return t=+t,r>>>=0,s||R(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function T(e,t,r,n,s){return t=+t,r>>>=0,s||R(e,0,r,8),i.write(e,t,r,n,52,8),r+8}t.prototype.slice=function(e,r){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return i.__proto__=t.prototype,i},t.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},t.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},t.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},t.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},t.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},t.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},t.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},t.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},t.prototype.writeDoubleLE=function(e,t,r){return T(this,e,t,!0,r)},t.prototype.writeDoubleBE=function(e,t,r){return T(this,e,t,!1,r)},t.prototype.copy=function(e,r,n,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,n,i);else if(this===e&&n<r&&r<i)for(var o=s-1;o>=0;--o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),r);return s},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var s=e.charCodeAt(0);("utf8"===i&&s<128||"latin1"===i)&&(e=s)}}else"number"==typeof e&&(e&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var o;if(r>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=r;o<n;++o)this[o]=e;else{var a=t.isBuffer(e)?e:t.from(e,i),c=a.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%c]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function O(e){return e<16?"0"+e.toString(16):e.toString(16)}function Q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function L(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function U(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":15,buffer:48,ieee754:99}],49:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,s=e("string_decoder").StringDecoder;function o(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(o,i),o.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},t.exports=o},{inherits:100,"safe-buffer":144,stream:153,string_decoder:154}],50:[function(e,t,r){(function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":101}],51:[function(e,t,r){(function(r){var n=e("elliptic"),i=e("bn.js");t.exports=function(e){return new o(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function a(e,t,n){Array.isArray(e)||(e=e.toArray());var i=new r(e);if(n&&i.length<n){var s=new r(n-i.length);s.fill(0),i=r.concat([s,i])}return t?i.toString(t):i}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,t,n){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),a(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),a(r,e)},o.prototype.getPrivateKey=function(e){return a(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,t){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t));var n=new i(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,e("buffer").Buffer)},{"bn.js":16,buffer:48,elliptic:67}],52:[function(e,t,r){"use strict";var n=e("inherits"),i=e("md5.js"),s=e("ripemd160"),o=e("sha.js"),a=e("cipher-base");function c(e){a.call(this,"digest"),this._hash=e}n(c,a),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new s:new c(o(e))}},{"cipher-base":49,inherits:100,"md5.js":103,ripemd160:143,"sha.js":146}],53:[function(e,t,r){var n=e("md5.js");t.exports=function(e){return(new n).update(e).digest()}},{"md5.js":103}],54:[function(e,t,r){"use strict";var n=e("inherits"),i=e("./legacy"),s=e("cipher-base"),o=e("safe-buffer").Buffer,a=e("create-hash/md5"),c=e("ripemd160"),f=e("sha.js"),h=o.alloc(128);function u(e,t){s.call(this,"digest"),"string"==typeof t&&(t=o.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new c:f(e)).update(t).digest():t.length<r&&(t=o.concat([t,h],r));for(var n=this._ipad=o.allocUnsafe(r),i=this._opad=o.allocUnsafe(r),a=0;a<r;a++)n[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new c:f(e),this._hash.update(n)}n(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:f(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new u("rmd160",t):"md5"===e?new i(a,t):new u(e,t)}},{"./legacy":55,"cipher-base":49,"create-hash/md5":53,inherits:100,ripemd160:143,"safe-buffer":144,"sha.js":146}],55:[function(e,t,r){"use strict";var n=e("inherits"),i=e("safe-buffer").Buffer,s=e("cipher-base"),o=i.alloc(128),a=64;function c(e,t){s.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=i.concat([t,o],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),c=0;c<a;c++)r[c]=54^t[c],n[c]=92^t[c];this._hash=[r]}n(c,s),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},t.exports=c},{"cipher-base":49,inherits:100,"safe-buffer":144}],56:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var n=e("browserify-sign/algos"),i=Object.keys(n),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);r.getHashes=function(){return s};var o=e("pbkdf2");r.pbkdf2=o.pbkdf2,r.pbkdf2Sync=o.pbkdf2Sync;var a=e("browserify-cipher");r.Cipher=a.Cipher,r.createCipher=a.createCipher,r.Cipheriv=a.Cipheriv,r.createCipheriv=a.createCipheriv,r.Decipher=a.Decipher,r.createDecipher=a.createDecipher,r.Decipheriv=a.Decipheriv,r.createDecipheriv=a.createDecipheriv,r.getCiphers=a.getCiphers,r.listCiphers=a.listCiphers;var c=e("diffie-hellman");r.DiffieHellmanGroup=c.DiffieHellmanGroup,r.createDiffieHellmanGroup=c.createDiffieHellmanGroup,r.getDiffieHellman=c.getDiffieHellman,r.createDiffieHellman=c.createDiffieHellman,r.DiffieHellman=c.DiffieHellman;var f=e("browserify-sign");r.createSign=f.createSign,r.Sign=f.Sign,r.createVerify=f.createVerify,r.Verify=f.Verify,r.createECDH=e("create-ecdh");var h=e("public-encrypt");r.publicEncrypt=h.publicEncrypt,r.privateEncrypt=h.privateEncrypt,r.publicDecrypt=h.publicDecrypt,r.privateDecrypt=h.privateDecrypt;var u=e("randomfill");r.randomFill=u.randomFill,r.randomFillSync=u.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":36,"browserify-sign":43,"browserify-sign/algos":40,"create-ecdh":51,"create-hash":52,"create-hmac":54,"diffie-hellman":63,pbkdf2:113,"public-encrypt":120,randombytes:126,randomfill:127}],57:[function(e,t,r){"use strict";r.utils=e("./des/utils"),r.Cipher=e("./des/cipher"),r.DES=e("./des/des"),r.CBC=e("./des/cbc"),r.EDE=e("./des/ede")},{"./des/cbc":58,"./des/cipher":59,"./des/des":60,"./des/ede":61,"./des/utils":62}],58:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),s={};function o(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}r.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(s),n=0;n<r.length;n++){var o=r[n];t.prototype[o]=s[o]}return t.create=function(e){return new t(e)},t},s._cbcInit=function(){var e=new o(this.options.iv);this._cbcState=e},s._update=function(e,t,r,n){var i=this._cbcState,s=this.constructor.super_.prototype,o=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=e[t+a];s._update.call(this,o,0,r,n);for(a=0;a<this.blockSize;a++)o[a]=r[n+a]}else{s._update.call(this,e,t,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=e[t+a]}}},{inherits:100,"minimalistic-assert":105}],59:[function(e,t,r){"use strict";var n=e("minimalistic-assert");function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var s=e.length-(e.length-t)%this.blockSize;t<s;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":105}],60:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),s=e("../des"),o=s.utils,a=s.Cipher;function c(){this.tmp=new Array(2),this.keys=null}function f(e){a.call(this,e);var t=new c;this._desState=t,this.deriveKeys(t,e.key)}i(f,a),t.exports=f,f.create=function(e){return new f(e)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];f.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=h[s>>>1];r=o.r28shl(r,a),i=o.r28shl(i,a),o.pc2(r,i,e.keys,s)}},f.prototype._update=function(e,t,r,n){var i=this._desState,s=o.readUInt32BE(e,t),a=o.readUInt32BE(e,t+4);o.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],o.writeUInt32BE(r,s,n),o.writeUInt32BE(r,a,n+4)},f.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},f.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},f.prototype._encrypt=function(e,t,r,n,i){for(var s=t,a=r,c=0;c<e.keys.length;c+=2){var f=e.keys[c],h=e.keys[c+1];o.expand(a,e.tmp,0),f^=e.tmp[0],h^=e.tmp[1];var u=o.substitute(f,h),d=a;a=(s^o.permute(u))>>>0,s=d}o.rip(a,s,n,i)},f.prototype._decrypt=function(e,t,r,n,i){for(var s=r,a=t,c=e.keys.length-2;c>=0;c-=2){var f=e.keys[c],h=e.keys[c+1];o.expand(s,e.tmp,0),f^=e.tmp[0],h^=e.tmp[1];var u=o.substitute(f,h),d=s;s=(a^o.permute(u))>>>0,a=d}o.rip(s,a,n,i)}},{"../des":57,inherits:100,"minimalistic-assert":105}],61:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits"),s=e("../des"),o=s.Cipher,a=s.DES;function c(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),s=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:s})]:[a.create({type:"decrypt",key:s}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r})]}function f(e){o.call(this,e);var t=new c(this.type,this.options.key);this._edeState=t}i(f,o),t.exports=f,f.create=function(e){return new f(e)},f.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},f.prototype._pad=a.prototype._pad,f.prototype._unpad=a.prototype._unpad},{"../des":57,inherits:100,"minimalistic-assert":105}],62:[function(e,t,r){"use strict";r.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},r.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},r.ip=function(e,t,r,n){for(var i=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1}r[n+0]=i>>>0,r[n+1]=s>>>0},r.rip=function(e,t,r,n){for(var i=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+o&1,i<<=1,i|=e>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=t>>>a+o&1,s<<=1,s|=e>>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},r.pc1=function(e,t,r,n){for(var i=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+o&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;r[n+0]=i>>>0,r[n+1]=s>>>0},r.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];r.pc2=function(e,t,r,i){for(var s=0,o=0,a=n.length>>>1,c=0;c<a;c++)s<<=1,s|=e>>>n[c]&1;for(c=a;c<n.length;c++)o<<=1,o|=t>>>n[c]&1;r[i+0]=s>>>0,r[i+1]=o>>>0},r.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=e>>>s&63;for(s=11;s>=3;s-=4)i|=e>>>s&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];r.substitute=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=i[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=i[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];r.permute=function(e){for(var t=0,r=0;r<s.length;r++)t<<=1,t|=e>>>s[r]&1;return t>>>0},r.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],s=0;s<t;s+=r)i.push(n.slice(s,s+r));return i.join(" ")}},{}],63:[function(e,t,r){(function(t){var n=e("./lib/generatePrime"),i=e("./lib/primes.json"),s=e("./lib/dh");var o={binary:!0,hex:!0,base64:!0};r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=function(e){var r=new t(i[e].prime,"hex"),n=new t(i[e].gen,"hex");return new s(r,n)},r.createDiffieHellman=r.DiffieHellman=function e(r,i,a,c){return t.isBuffer(i)||void 0===o[i]?e(r,"binary",i,a):(i=i||"binary",c=c||"binary",a=a||new t([2]),t.isBuffer(a)||(a=new t(a,c)),"number"==typeof r?new s(n(r,a),a,!0):(t.isBuffer(r)||(r=new t(r,i)),new s(r,a,!0)))}}).call(this,e("buffer").Buffer)},{"./lib/dh":64,"./lib/generatePrime":65,"./lib/primes.json":66,buffer:48}],64:[function(e,t,r){(function(r){var n=e("bn.js"),i=new(e("miller-rabin")),s=new n(24),o=new n(11),a=new n(10),c=new n(3),f=new n(7),h=e("./generatePrime"),u=e("randombytes");function d(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._pub=new n(e),this}function l(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._priv=new n(e),this}t.exports=b;var p={};function b(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=l):this._primeCode=8}function g(e,t){var n=new r(e.toArray());return t?n.toString(t):n}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in p)return p[n];var u,d=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!i.test(e))return d+=1,d+="02"===r||"05"===r?8:4,p[n]=d,d;switch(i.test(e.shrn(1))||(d+=2),r){case"02":e.mod(s).cmp(o)&&(d+=8);break;case"05":(u=e.mod(a)).cmp(c)&&u.cmp(f)&&(d+=8);break;default:d+=4}return p[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new n(u(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(e){var t=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new r(t.toArray()),s=this.getPrime();if(i.length<s.length){var o=new r(s.length-i.length);o.fill(0),i=r.concat([o,i])}return i},b.prototype.getPublicKey=function(e){return g(this._pub,e)},b.prototype.getPrivateKey=function(e){return g(this._priv,e)},b.prototype.getPrime=function(e){return g(this.__prime,e)},b.prototype.getGenerator=function(e){return g(this._gen,e)},b.prototype.setGenerator=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.__gen=e,this._gen=new n(e),this}}).call(this,e("buffer").Buffer)},{"./generatePrime":65,"bn.js":16,buffer:48,"miller-rabin":104,randombytes:126}],65:[function(e,t,r){var n=e("randombytes");t.exports=m,m.simpleSieve=g,m.fermatTest=y;var i=e("bn.js"),s=new i(24),o=new(e("miller-rabin")),a=new i(1),c=new i(2),f=new i(5),h=(new i(16),new i(8),new i(10)),u=new i(3),d=(new i(7),new i(11)),l=new i(4),p=(new i(12),null);function b(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}function g(e){for(var t=b(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function y(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function m(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(f))for(;r.mod(h).cmp(u);)r.iadd(l)}else for(;r.mod(s).cmp(d);)r.iadd(l);if(g(p=r.shrn(1))&&g(r)&&y(p)&&y(r)&&o.test(p)&&o.test(r))return r}}},{"bn.js":16,"miller-rabin":104,randombytes:126}],66:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],67:[function(e,t,r){"use strict";var n=r;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":82,"./elliptic/curve":70,"./elliptic/curves":73,"./elliptic/ec":74,"./elliptic/eddsa":77,"./elliptic/utils":81,brorand:17}],68:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils"),s=i.getNAF,o=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(e,t){this.curve=e,this.type=t,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=s(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var o=[],c=0;c<n.length;c+=r.step){var f=0;for(t=c+r.step-1;t>=c;t--)f=(f<<1)+n[t];o.push(f)}for(var h=this.jpoint(null,null,null),u=this.jpoint(null,null,null),d=i;d>0;d--){for(c=0;c<o.length;c++){(f=o[c])===d?u=u.mixedAdd(r.points[c]):f===-d&&(u=u.mixedAdd(r.points[c].neg()))}h=h.add(u)}return h.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=s(t,r),c=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(t=0;f>=0&&0===o[f];f--)t++;if(f>=0&&t++,c=c.dblp(t),f<0)break;var h=o[f];a(0!==h),c="affine"===e.type?h>0?c.mixedAdd(i[h-1>>1]):c.mixedAdd(i[-h-1>>1].neg()):h>0?c.add(i[h-1>>1]):c.add(i[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){for(var a=this._wnafT1,c=this._wnafT2,f=this._wnafT3,h=0,u=0;u<n;u++){var d=(C=t[u])._getNAFPoints(e);a[u]=d.wnd,c[u]=d.points}for(u=n-1;u>=1;u-=2){var l=u-1,p=u;if(1===a[l]&&1===a[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=o(r[l],r[p]);h=Math.max(y[0].length,h),f[l]=new Array(h),f[p]=new Array(h);for(var m=0;m<h;m++){var v=0|y[0][m],_=0|y[1][m];f[l][m]=g[3*(v+1)+(_+1)],f[p][m]=0,c[l]=b}}else f[l]=s(r[l],a[l]),f[p]=s(r[p],a[p]),h=Math.max(f[l].length,h),h=Math.max(f[p].length,h)}var w=this.jpoint(null,null,null),A=this._wnafT4;for(u=h;u>=0;u--){for(var I=0;u>=0;){var E=!0;for(m=0;m<n;m++)A[m]=0|f[m][u],0!==A[m]&&(E=!1);if(!E)break;I++,u--}if(u>=0&&I++,w=w.dblp(I),u<0)break;for(m=0;m<n;m++){var C,k=A[m];0!==k&&(k>0?C=c[m][k-1>>1]:k<0&&(C=c[m][-k-1>>1].neg()),w="affine"===C.type?w.mixedAdd(C):w.add(C))}}for(u=0;u<n;u++)c[u]=null;return i?w:w.toP()},c.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(e){return this.encode(e,!0)},f.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},f.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},f.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},f.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},f.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},f.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../utils":81,"bn.js":16}],69:[function(e,t,r){"use strict";var n=e("../utils"),i=e("bn.js"),s=e("inherits"),o=e("./base"),a=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function f(e,t,r,n,s){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),t.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(f,o.BasePoint),c.prototype.pointFromJSON=function(e){return f.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new f(this,e,t,r,n)},f.fromJSON=function(e,t){return new f(e,t[0],t[1],t[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},f.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),o=s.redSub(r),a=n.redSub(t),c=i.redMul(o),f=s.redMul(a),h=i.redMul(a),u=o.redMul(s);return this.curve.point(c,f,u,h)},f.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var o=(f=this.curve._mulA(i)).redAdd(s);if(this.zOne)e=n.redSub(i).redSub(s).redMul(o.redSub(this.curve.two)),t=o.redMul(f.redSub(s)),r=o.redSqr().redSub(o).redSub(o);else{var a=this.z.redSqr(),c=o.redSub(a).redISub(a);e=n.redSub(i).redISub(s).redMul(c),t=o.redMul(f.redSub(s)),r=o.redMul(c)}}else{var f=i.redAdd(s);a=this.curve._mulC(this.z).redSqr(),c=f.redSub(a).redSub(a);e=this.curve._mulC(n.redISub(f)).redMul(c),t=this.curve._mulC(f).redMul(i.redISub(s)),r=f.redMul(c)}return this.curve.point(e,t,r)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),f=s.redMul(o),h=a.redMul(c),u=s.redMul(c),d=o.redMul(a);return this.curve.point(f,h,d,u)},f.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=i.redSub(a),f=i.redAdd(a),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),u=n.redMul(c).redMul(h);return this.curve.twisted?(t=n.redMul(f).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(f)):(t=n.redMul(f).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(f)),this.curve.point(u,t,r)},f.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},f.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},f.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},f.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},f.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":81,"./base":68,"bn.js":16,inherits:100}],70:[function(e,t,r){"use strict";var n=r;n.base=e("./base"),n.short=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":68,"./edwards":69,"./mont":71,"./short":72}],71:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("inherits"),s=e("./base"),o=e("../utils");function a(e){s.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=i.redMul(n),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":81,"./base":68,"bn.js":16,inherits:100}],72:[function(e,t,r){"use strict";var n=e("../utils"),i=e("bn.js"),s=e("inherits"),o=e("./base"),a=n.assert;function c(e){o.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),t.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new i(e.a,16),b:new i(e.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),s=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,s,o,a,c,f,h,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,l=this.n.clone(),p=new i(1),b=new i(0),g=new i(0),y=new i(1),m=0;0!==d.cmpn(0);){var v=l.div(d);f=l.sub(v.mul(d)),h=g.sub(v.mul(p));var _=y.sub(v.mul(b));if(!n&&f.cmp(u)<0)t=c.neg(),r=p,n=f.neg(),s=h;else if(n&&2==++m)break;c=f,l=d,d=f,g=p,p=h,y=b,b=_}o=f.neg(),a=h;var w=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),f=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:c.add(f).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var f=this._wnafMulAdd(1,n,i,2*s,r),h=0;h<2*s;h++)n[h]=null,i[h]=null;return f},s(f,o.BasePoint),c.prototype.point=function(e,t,r){return new f(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return f.fromJSON(this,e,t)},f.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},f.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(e){return e=new i(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},f.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},f.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},f.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},f.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(h,o.BasePoint),c.prototype.jpoint=function(e,t,r){return new h(this,e,t,r)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var f=a.redSqr(),h=f.redMul(a),u=n.redMul(f),d=c.redSqr().redIAdd(h).redISub(u).redISub(u),l=c.redMul(u.redISub(d)).redISub(s.redMul(h)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,l,p)},h.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),f=c.redMul(o),h=r.redMul(c),u=a.redSqr().redIAdd(f).redISub(h).redISub(h),d=a.redMul(h.redISub(u)).redISub(i.redMul(f)),l=this.z.redMul(o);return this.curve.jpoint(u,d,l)},h.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),f=o.redAdd(o);for(r=0;r<e;r++){var h=s.redSqr(),u=f.redSqr(),d=u.redSqr(),l=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),p=s.redMul(u),b=l.redSqr().redISub(p.redAdd(p)),g=p.redISub(b),y=l.redMul(g);y=y.redIAdd(y).redISub(d);var m=f.redMul(a);r+1<e&&(c=c.redMul(d)),s=b,a=m,f=y}return this.curve.jpoint(s,f.redMul(i),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),f=s.redIAdd(s);f=(f=f.redIAdd(f)).redIAdd(f),e=c,t=a.redMul(o.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),u=this.y.redSqr(),d=u.redSqr(),l=this.x.redAdd(u).redSqr().redISub(h).redISub(d);l=l.redIAdd(l);var p=h.redAdd(h).redIAdd(h),b=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},h.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var f=s.redIAdd(s);f=(f=f.redIAdd(f)).redIAdd(f),t=a.redMul(o.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),u=this.y.redSqr(),d=this.x.redMul(u),l=this.x.redSub(h).redMul(this.x.redAdd(h));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(u).redISub(h);var g=u.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=l.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},h.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),f=(c=c.redIAdd(c)).redMul(o),h=a.redSqr().redISub(f.redAdd(f)),u=f.redISub(h),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(u).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,l,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var f=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),h=t.redMul(f);h=(h=h.redIAdd(h)).redIAdd(h);var u=this.x.redMul(a).redISub(h);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.y.redMul(f.redMul(c.redISub(f)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(u,d,l)},h.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},h.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},h.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":81,"./base":68,"bn.js":16,inherits:100}],73:[function(e,t,r){"use strict";var n,i=r,s=e("hash.js"),o=e("./curve"),a=e("./utils").assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":70,"./precomputed/secp256k1":80,"./utils":81,"hash.js":86}],74:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("hmac-drbg"),s=e("../utils"),o=e("../curves"),a=e("brorand"),c=s.assert,f=e("./key"),h=e("./signature");function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(c(o.hasOwnProperty(e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}t.exports=u,u.prototype.keyPair=function(e){return new f(this,e)},u.prototype.keyFromPrivate=function(e,t){return f.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return f.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(t.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},u.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(e,t,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),c=e.toArray("be",o),f=new i({hash:this.hash,entropy:a,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),u=this.n.sub(new n(1)),d=0;;d++){var l=s.k?s.k(d):new n(f.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(u)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),g=b.umod(this.n);if(0!==g.cmpn(0)){var y=l.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==b.cmp(g)?2:0);return s.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),m^=1),new h({r:g,s:y,recoveryParam:m})}}}}}},u.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var s=(t=new h(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,c=o.invm(this.n),f=c.mul(e).umod(this.n),u=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(f,r.getPublic(),u)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(f,r.getPublic(),u)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},u.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new h(t,i);var s=this.n,o=new n(e),a=t.r,f=t.s,u=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var l=t.r.invm(s),p=s.sub(o).mul(l).umod(s),b=f.mul(l).umod(s);return this.g.mulAdd(p,a,b)},u.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new h(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},{"../curves":73,"../utils":81,"./key":75,"./signature":76,"bn.js":16,brorand:17,"hmac-drbg":98}],75:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils").assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}t.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":81,"bn.js":16}],76:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils"),s=i.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o];return t.place=o,i}function f(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}t.exports=o,o.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;if(c(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r),o=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var f=c(e,r);if(e.length!==f+r.place)return!1;var h=e.slice(r.place,f+r.place);return 0===o[0]&&128&o[1]&&(o=o.slice(1)),0===h[0]&&128&h[1]&&(h=h.slice(1)),this.r=new n(o),this.s=new n(h),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=f(t),r=f(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];h(n,t.length),(n=n.concat(t)).push(2),h(n,r.length);var s=n.concat(r),o=[48];return h(o,s.length),o=o.concat(s),i.encode(o,e)}},{"../utils":81,"bn.js":16}],77:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("../curves"),s=e("../utils"),o=s.assert,a=s.parseBytes,c=e("./key"),f=e("./signature");function h(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof h))return new h(e);e=i[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}t.exports=h,h.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},h.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},h.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},h.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},h.prototype.makeSignature=function(e){return e instanceof f?e:new f(this,e)},h.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},h.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},h.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(e){return s.intFromLE(e)},h.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../curves":73,"../utils":81,"./key":78,"./signature":79,"hash.js":86}],78:[function(e,t,r){"use strict";var n=e("../utils"),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},t.exports=a},{"../utils":81}],79:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils"),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},{"../utils":81,"bn.js":16}],80:[function(e,t,r){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],81:[function(e,t,r){"use strict";var n=r,i=e("bn.js"),s=e("minimalistic-assert"),o=e("minimalistic-crypto-utils");n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var s;if(i.isOdd()){var o=i.andln(n-1);s=o>(n>>1)-1?(n>>1)-o:o,i.isubn(s)}else s=0;r.push(s);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,c=1;c<a;c++)r.push(0);i.iushrn(a)}return r},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var s,o,a,c=e.andln(3)+n&3,f=t.andln(3)+i&3;3===c&&(c=-1),3===f&&(f=-1),s=0==(1&c)?0:3!=(a=e.andln(7)+n&7)&&5!==a||2!==f?c:-c,r[0].push(s),o=0==(1&f)?0:3!=(a=t.andln(7)+i&7)&&5!==a||2!==c?f:-f,r[1].push(o),2*n===s+1&&(n=1-n),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":16,"minimalistic-assert":105,"minimalistic-crypto-utils":106}],82:[function(e,t,r){t.exports={_args:[["elliptic@6.5.0","/app"]],_from:"elliptic@6.5.0",_id:"elliptic@6.5.0",_inBundle:!1,_integrity:"sha512-eFOJTMyCYb7xtE/caJ6JJu+bhi67WCYNbkGSknu20pmM8Ke/bqOfdnZWxyoGN26JgfxTbXrsCkEw4KheCT/KGg==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.5.0",name:"elliptic",escapedName:"elliptic",rawSpec:"6.5.0",saveSpec:null,fetchSpec:"6.5.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.0.tgz",_spec:"6.5.0",_where:"/app",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.0"}},{}],83:[function(e,t,r){var n=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},s=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var a,c=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),a=0===f.x}catch(e){a=!1}function h(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,i){var s,o,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]):(o=e._events=n(null),e._eventsCount=0),a){if("function"==typeof a?a=o[t]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),!a.warned&&(s=h(e))&&s>0&&a.length>s){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",c.name,c.message)}}else a=o[t]=r,++e._eventsCount;return e}function d(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function l(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=s.call(d,n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(!n)return[];var i=n[t];return i?"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):g(i,i.length):[]}function b(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}a?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');c=e}}):o.defaultMaxListeners=c,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(e){var t,r,n,i,s,o,a="error"===e;if(o=this._events)a=a&&null==o.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var c=new Error('Unhandled "error" event. ('+t+")");throw c.context=t,c}if(!(r=o[e]))return!1;var f="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=g(e,n),s=0;s<n;++s)i[s].call(r)}(r,f,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,s=g(e,i),o=0;o<i;++o)s[o].call(r,n)}(r,f,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var s=e.length,o=g(e,s),a=0;a<s;++a)o[a].call(r,n,i)}(r,f,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,s){if(t)e.call(r,n,i,s);else for(var o=e.length,a=g(e,o),c=0;c<o;++c)a[c].call(r,n,i,s)}(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),s=1;s<n;s++)i[s-1]=arguments[s];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,s=g(e,i),o=0;o<i;++o)s[o].apply(r,n)}(r,f,this,i)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,i,s,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=n(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,s=o;break}if(s<0)return this;0===s?r.shift():function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,s),1===r.length&&(i[e]=r[0]),i.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.removeAllListeners=function(e){var t,r,s;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=n(null):delete r[e]),this;if(0===arguments.length){var o,a=i(r);for(s=0;s<a.length;++s)"removeListener"!==(o=a[s])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):b.call(e,t)},o.prototype.listenerCount=b,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],84:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("md5.js");t.exports=function(e,t,r,s){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,a=n.alloc(o),c=n.alloc(s||0),f=n.alloc(0);o>0||s>0;){var h=new i;h.update(f),h.update(e),t&&h.update(t),f=h.digest();var u=0;if(o>0){var d=a.length-o;u=Math.min(o,f.length),f.copy(a,d,0,u),o-=u}if(u<f.length&&s>0){var l=c.length-s,p=Math.min(s,f.length-u);f.copy(c,l,u,u+p),s-=p}}return f.fill(0),{key:a,iv:c}}},{"md5.js":103,"safe-buffer":144}],85:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("stream").Transform;function s(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(s,i),s.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},s.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var o=0,a=8*e.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},{inherits:100,"safe-buffer":144,stream:153}],86:[function(e,t,r){var n=r;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":87,"./hash/hmac":88,"./hash/ripemd":89,"./hash/sha":90,"./hash/utils":97}],87:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},{"./utils":97,"minimalistic-assert":105}],88:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}t.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":97,"minimalistic-assert":105}],89:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./common"),s=n.rotl32,o=n.sum32,a=n.sum32_3,c=n.sum32_4,f=i.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function l(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(h,f),r.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],f=this.h[3],h=this.h[4],m=r,v=n,_=i,w=f,A=h,I=0;I<80;I++){var E=o(s(c(r,u(I,n,i,f),e[p[I]+t],d(I)),g[I]),h);r=h,h=f,f=s(i,10),i=n,n=E,E=o(s(c(m,u(79-I,v,_,w),e[b[I]+t],l(I)),y[I]),A),m=A,A=w,w=s(_,10),_=v,v=E}E=a(this.h[1],i,w),this.h[1]=a(this.h[2],f,A),this.h[2]=a(this.h[3],h,m),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,_),this.h[0]=E},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":87,"./utils":97}],90:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":91,"./sha/224":92,"./sha/256":93,"./sha/384":94,"./sha/512":95}],91:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),s=e("./common"),o=n.rotl32,a=n.sum32,c=n.sum32_5,f=s.ft_1,h=i.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,h),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],h=this.h[2],d=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=c(o(i,5),f(p,s,h,d),l,r[n],u[p]);l=d,d=h,h=o(s,30),s=i,i=b}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],h),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],l)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":87,"../utils":97,"./common":96}],92:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./256");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":97,"./256":93}],93:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),s=e("./common"),o=e("minimalistic-assert"),a=n.sum32,c=n.sum32_4,f=n.sum32_5,h=s.ch32,u=s.maj32,d=s.s0_256,l=s.s1_256,p=s.g0_256,b=s.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(m,g),t.exports=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],g=this.h[2],y=this.h[3],m=this.h[4],v=this.h[5],_=this.h[6],w=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var A=f(w,l(m),h(m,v,_),this.k[n],r[n]),I=a(d(i),u(i,s,g));w=_,_=v,v=m,m=a(y,A),y=g,g=s,s=i,i=a(A,I)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],m),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},m.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":87,"../utils":97,"./common":96,"minimalistic-assert":105}],94:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./512");function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":97,"./512":95}],95:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),s=e("minimalistic-assert"),o=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,f=n.shr64_lo,h=n.sum64,u=n.sum64_hi,d=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,g=n.sum64_5_lo,y=i.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}function _(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function w(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function A(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function I(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function E(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function S(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function x(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function B(e,t){var r=a(e,t,1)^a(e,t,8)^f(e,t,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=a(e,t,19)^a(t,e,29)^f(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=M(r[n-4],r[n-3]),s=R(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],c=x(r[n-30],r[n-29]),f=B(r[n-30],r[n-29]),h=r[n-32],u=r[n-31];r[n]=l(i,s,o,a,c,f,h,u),r[n+1]=p(i,s,o,a,c,f,h,u)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],f=this.h[5],l=this.h[6],p=this.h[7],y=this.h[8],m=this.h[9],v=this.h[10],x=this.h[11],B=this.h[12],M=this.h[13],R=this.h[14],D=this.h[15];s(this.k.length===r.length);for(var T=0;T<r.length;T+=2){var j=R,O=D,Q=k(y,m),L=S(y,m),P=_(y,m,v,x,B),U=w(y,m,v,x,B,M),F=this.k[T],N=this.k[T+1],q=r[T],K=r[T+1],z=b(j,O,Q,L,P,U,F,N,q,K),H=g(j,O,Q,L,P,U,F,N,q,K);j=E(n,i),O=C(n,i),Q=A(n,i,o,a,c),L=I(n,i,o,a,c,f);var Y=u(j,O,Q,L),W=d(j,O,Q,L);R=B,D=M,B=v,M=x,v=y,x=m,y=u(l,p,z,H),m=d(p,p,z,H),l=c,p=f,c=o,f=a,o=n,a=i,n=u(z,H,Y,W),i=d(z,H,Y,W)}h(this.h,0,n,i),h(this.h,2,o,a),h(this.h,4,c,f),h(this.h,6,l,p),h(this.h,8,y,m),h(this.h,10,v,x),h(this.h,12,B,M),h(this.h,14,R,D)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":87,"../utils":97,"minimalistic-assert":105}],96:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function i(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?o(t,r,n):2===e?s(t,r,n):void 0},r.ch32=i,r.maj32=s,r.p32=o,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":97}],97:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),i=e("inherits");function s(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=i,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):s(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},r.htonl=o,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=c(i.toString(16))}return r},r.zero2=a,r.zero8=c,r.join32=function(e,t,r,i){var s=r-t;n(s%4==0);for(var o=new Array(s/4),a=0,c=t;a<o.length;a++,c+=4){var f;f="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[a]=f>>>0}return o},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,s,o,a){var c=0,f=t;return c+=(f=f+n>>>0)<t?1:0,c+=(f=f+s>>>0)<s?1:0,e+r+i+o+(c+=(f=f+a>>>0)<a?1:0)>>>0},r.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},r.sum64_5_hi=function(e,t,r,n,i,s,o,a,c,f){var h=0,u=t;return h+=(u=u+n>>>0)<t?1:0,h+=(u=u+s>>>0)<s?1:0,h+=(u=u+a>>>0)<a?1:0,e+r+i+o+c+(h+=(u=u+f>>>0)<f?1:0)>>>0},r.sum64_5_lo=function(e,t,r,n,i,s,o,a,c,f){return t+n+s+a+f>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:100,"minimalistic-assert":105}],98:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("minimalistic-crypto-utils"),s=e("minimalistic-assert");function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}t.exports=o,o.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},o.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,i.encode(o,t)}},{"hash.js":86,"minimalistic-assert":105,"minimalistic-crypto-utils":106}],99:[function(e,t,r){r.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,f=c>>1,h=-7,u=r?i-1:0,d=r?-1:1,l=e[t+u];for(u+=d,s=l&(1<<-h)-1,l>>=-h,h+=a;h>0;s=256*s+e[t+u],u+=d,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=256*o+e[t+u],u+=d,h-=8);if(0===s)s=1-f;else{if(s===c)return o?NaN:1/0*(l?-1:1);o+=Math.pow(2,n),s-=f}return(l?-1:1)*o*Math.pow(2,s-n)},r.write=function(e,t,r,n,i,s){var o,a,c,f=8*s-i-1,h=(1<<f)-1,u=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:s-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+u>=1?d/c:d*Math.pow(2,1-u))*c>=2&&(o++,c/=2),o+u>=h?(a=0,o=h):o+u>=1?(a=(t*c-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[r+l]=255&a,l+=p,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;e[r+l]=255&o,l+=p,o/=256,f-=8);e[r+l-p]|=128*b}},{}],100:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],101:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],102:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],103:[function(e,t,r){"use strict";var n=e("inherits"),i=e("hash-base"),s=e("safe-buffer").Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function f(e,t,r,n,i,s,o){return c(e+(t&r|~t&n)+i+s|0,o)+t|0}function h(e,t,r,n,i,s,o){return c(e+(t&n|r&~n)+i+s|0,o)+t|0}function u(e,t,r,n,i,s,o){return c(e+(t^r^n)+i+s|0,o)+t|0}function d(e,t,r,n,i,s,o){return c(e+(r^(t|~n))+i+s|0,o)+t|0}n(a,i),a.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;r=f(r,n,i,s,e[0],3614090360,7),s=f(s,r,n,i,e[1],3905402710,12),i=f(i,s,r,n,e[2],606105819,17),n=f(n,i,s,r,e[3],3250441966,22),r=f(r,n,i,s,e[4],4118548399,7),s=f(s,r,n,i,e[5],1200080426,12),i=f(i,s,r,n,e[6],2821735955,17),n=f(n,i,s,r,e[7],4249261313,22),r=f(r,n,i,s,e[8],1770035416,7),s=f(s,r,n,i,e[9],2336552879,12),i=f(i,s,r,n,e[10],4294925233,17),n=f(n,i,s,r,e[11],2304563134,22),r=f(r,n,i,s,e[12],1804603682,7),s=f(s,r,n,i,e[13],4254626195,12),i=f(i,s,r,n,e[14],2792965006,17),r=h(r,n=f(n,i,s,r,e[15],1236535329,22),i,s,e[1],4129170786,5),s=h(s,r,n,i,e[6],3225465664,9),i=h(i,s,r,n,e[11],643717713,14),n=h(n,i,s,r,e[0],3921069994,20),r=h(r,n,i,s,e[5],3593408605,5),s=h(s,r,n,i,e[10],38016083,9),i=h(i,s,r,n,e[15],3634488961,14),n=h(n,i,s,r,e[4],3889429448,20),r=h(r,n,i,s,e[9],568446438,5),s=h(s,r,n,i,e[14],3275163606,9),i=h(i,s,r,n,e[3],4107603335,14),n=h(n,i,s,r,e[8],1163531501,20),r=h(r,n,i,s,e[13],2850285829,5),s=h(s,r,n,i,e[2],4243563512,9),i=h(i,s,r,n,e[7],1735328473,14),r=u(r,n=h(n,i,s,r,e[12],2368359562,20),i,s,e[5],4294588738,4),s=u(s,r,n,i,e[8],2272392833,11),i=u(i,s,r,n,e[11],1839030562,16),n=u(n,i,s,r,e[14],4259657740,23),r=u(r,n,i,s,e[1],2763975236,4),s=u(s,r,n,i,e[4],1272893353,11),i=u(i,s,r,n,e[7],4139469664,16),n=u(n,i,s,r,e[10],3200236656,23),r=u(r,n,i,s,e[13],681279174,4),s=u(s,r,n,i,e[0],3936430074,11),i=u(i,s,r,n,e[3],3572445317,16),n=u(n,i,s,r,e[6],76029189,23),r=u(r,n,i,s,e[9],3654602809,4),s=u(s,r,n,i,e[12],3873151461,11),i=u(i,s,r,n,e[15],530742520,16),r=d(r,n=u(n,i,s,r,e[2],3299628645,23),i,s,e[0],4096336452,6),s=d(s,r,n,i,e[7],1126891415,10),i=d(i,s,r,n,e[14],2878612391,15),n=d(n,i,s,r,e[5],4237533241,21),r=d(r,n,i,s,e[12],1700485571,6),s=d(s,r,n,i,e[3],2399980690,10),i=d(i,s,r,n,e[10],4293915773,15),n=d(n,i,s,r,e[1],2240044497,21),r=d(r,n,i,s,e[8],1873313359,6),s=d(s,r,n,i,e[15],4264355552,10),i=d(i,s,r,n,e[6],2734768916,15),n=d(n,i,s,r,e[13],1309151649,21),r=d(r,n,i,s,e[4],4149444226,6),s=d(s,r,n,i,e[11],3174756917,10),i=d(i,s,r,n,e[2],718787259,15),n=d(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=a},{"hash-base":85,inherits:100,"safe-buffer":144}],104:[function(e,t,r){var n=e("bn.js"),i=e("brorand");function s(e){this.rand=e||new i.Rand}t.exports=s,s.create=function(e){return new s(e)},s.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},s.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},s.prototype.test=function(e,t,r){var i=e.bitLength(),s=n.mont(e),o=new n(1).toRed(s);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),c=0;!a.testn(c);c++);for(var f=e.shrn(c),h=a.toRed(s);t>0;t--){var u=this._randrange(new n(2),a);r&&r(u);var d=u.toRed(s).redPow(f);if(0!==d.cmp(o)&&0!==d.cmp(h)){for(var l=1;l<c;l++){if(0===(d=d.redSqr()).cmp(o))return!1;if(0===d.cmp(h))break}if(l===c)return!1}}return!0},s.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),s=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var o=e.subn(1),a=0;!o.testn(a);a++);for(var c=e.shrn(a),f=o.toRed(i);t>0;t--){var h=this._randrange(new n(2),o),u=e.gcd(h);if(0!==u.cmpn(1))return u;var d=h.toRed(i).redPow(c);if(0!==d.cmp(s)&&0!==d.cmp(f)){for(var l=1;l<a;l++){if(0===(d=d.redSqr()).cmp(s))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(f))break}if(l===a)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":16,brorand:17}],105:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],106:[function(e,t,r){"use strict";var n=r;function i(e){return 1===e.length?"0"+e:e}function s(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},n.zero2=i,n.toHex=s,n.encode=function(e,t){return"hex"===t?s(e):e}},{}],107:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],108:[function(e,t,r){"use strict";var n=e("asn1.js");r.certificate=e("./certificate");var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});r.RSAPrivateKey=i;var s=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});r.RSAPublicKey=s;var o=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});r.PublicKey=o;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});r.PrivateKey=c;var f=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});r.EncryptedPrivateKey=f;var h=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});r.DSAPrivateKey=h,r.DSAparam=n.define("DSAparam",function(){this.int()});var u=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=u;var d=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});r.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":109,"asn1.js":1}],109:[function(e,t,r){"use strict";var n=e("asn1.js"),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),c=n.define("RelativeDistinguishedName",function(){this.setof(s)}),f=n.define("RDNSequence",function(){this.seqof(c)}),h=n.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),u=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),d=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),l=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(h),this.key("validity").use(u),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":1}],110:[function(e,t,r){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,o=e("evp_bytestokey"),a=e("browserify-aes"),c=e("safe-buffer").Buffer;t.exports=function(e,t){var r,f=e.toString(),h=f.match(n);if(h){var u="aes"+h[1],d=c.from(h[2],"hex"),l=c.from(h[3].replace(/[\r\n]/g,""),"base64"),p=o(t,d.slice(0,8),parseInt(h[1],10)).key,b=[],g=a.createDecipheriv(u,p,d);b.push(g.update(l)),b.push(g.final()),r=c.concat(b)}else{var y=f.match(s);r=new c(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:f.match(i)[1],data:r}}},{"browserify-aes":21,evp_bytestokey:84,"safe-buffer":144}],111:[function(e,t,r){var n=e("./asn1"),i=e("./aesid.json"),s=e("./fixProc"),o=e("browserify-aes"),a=e("pbkdf2"),c=e("safe-buffer").Buffer;function f(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,f,h=s(e,t),u=h.tag,d=h.data;switch(u){case"CERTIFICATE":f=n.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=n.PublicKey.decode(d,"der")),r=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=n.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+u);case"ENCRYPTED PRIVATE KEY":d=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=i[e.algorithm.decrypt.cipher.algo.join(".")],f=e.algorithm.decrypt.cipher.iv,h=e.subjectPrivateKey,u=parseInt(s.split("-")[1],10)/8,d=a.pbkdf2Sync(t,r,n,u,"sha1"),l=o.createDecipheriv(s,d,f),p=[];return p.push(l.update(h)),p.push(l.final()),c.concat(p)}(d=n.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(r=(f=n.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:n.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=n.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+u);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=n.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+u)}}t.exports=f,f.signature=n.signature},{"./aesid.json":107,"./asn1":108,"./fixProc":110,"browserify-aes":21,pbkdf2:113,"safe-buffer":144}],112:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var o=s>=0?arguments[s]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,i="/"===o.charAt(0))}return(i?"/":"")+(r=t(n(r.split("/"),function(e){return!!e}),!i).join("/"))||"."},r.normalize=function(e){var s=r.isAbsolute(e),o="/"===i(e,-1);return(e=t(n(e.split("/"),function(e){return!!e}),!s).join("/"))||s||(e="."),e&&o&&(e+="/"),(s?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),s=n(t.split("/")),o=Math.min(i.length,s.length),a=o,c=0;c<o;c++)if(i[c]!==s[c]){a=c;break}var f=[];for(c=a;c<i.length;c++)f.push("..");return(f=f.concat(s.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!i){n=s;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},r.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,s=0,o=e.length-1;o>=0;--o){var a=e.charCodeAt(o);if(47!==a)-1===n&&(i=!1,n=o+1),46===a?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1);else if(!i){r=o+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:119}],113:[function(e,t,r){r.pbkdf2=e("./lib/async"),r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":114,"./lib/sync":117}],114:[function(e,t,r){(function(r,n){var i,s=e("./precondition"),o=e("./default-encoding"),a=e("./sync"),c=e("safe-buffer").Buffer,f=n.crypto&&n.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function d(e,t,r,n,i){return f.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return f.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)}).then(function(e){return c.from(e)})}t.exports=function(e,t,l,p,b,g){"function"==typeof b&&(g=b,b=void 0);var y=h[(b=b||"sha1").toLowerCase()];if(!y||"function"!=typeof n.Promise)return r.nextTick(function(){var r;try{r=a(e,t,l,p,b)}catch(e){return g(e)}g(null,r)});if(s(e,t,l,p),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");c.isBuffer(e)||(e=c.from(e,o)),c.isBuffer(t)||(t=c.from(t,o)),function(e,t){e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})})}(function(e){if(n.process&&!n.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==u[e])return u[e];var t=d(i=i||c.alloc(8),i,10,128,e).then(function(){return!0}).catch(function(){return!1});return u[e]=t,t}(y).then(function(r){return r?d(e,t,l,p,y):a(e,t,l,p,b)}),g)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":115,"./precondition":116,"./sync":117,_process:119,"safe-buffer":144}],115:[function(e,t,r){(function(e){var r;e.browser?r="utf-8":r=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";t.exports=r}).call(this,e("_process"))},{_process:119}],116:[function(e,t,r){(function(e){var r=Math.pow(2,30)-1;function n(t,r){if("string"!=typeof t&&!e.isBuffer(t))throw new TypeError(r+" must be a buffer or string")}t.exports=function(e,t,i,s){if(n(e,"Password"),n(t,"Salt"),"number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof s)throw new TypeError("Key length not a number");if(s<0||s>r||s!=s)throw new TypeError("Bad key length")}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":101}],117:[function(e,t,r){var n=e("create-hash/md5"),i=e("ripemd160"),s=e("sha.js"),o=e("./precondition"),a=e("./default-encoding"),c=e("safe-buffer").Buffer,f=c.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function u(e,t,r){var o=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?n:function(t){return s(e).update(t).digest()}}(e),a="sha512"===e||"sha384"===e?128:64;t.length>a?t=o(t):t.length<a&&(t=c.concat([t,f],a));for(var u=c.allocUnsafe(a+h[e]),d=c.allocUnsafe(a+h[e]),l=0;l<a;l++)u[l]=54^t[l],d[l]=92^t[l];var p=c.allocUnsafe(a+r+4);u.copy(p,0,0,a),this.ipad1=p,this.ipad2=u,this.opad=d,this.alg=e,this.blocksize=a,this.hash=o,this.size=h[e]}u.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,r,n,i){o(e,t,r,n),c.isBuffer(e)||(e=c.from(e,a)),c.isBuffer(t)||(t=c.from(t,a));var s=new u(i=i||"sha1",e,t.length),f=c.allocUnsafe(n),d=c.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var l=0,p=h[i],b=Math.ceil(n/p),g=1;g<=b;g++){d.writeUInt32BE(g,t.length);for(var y=s.run(d,s.ipad1),m=y,v=1;v<r;v++){m=s.run(m,s.ipad2);for(var _=0;_<p;_++)y[_]^=m[_]}y.copy(f,l),l+=p}return f}},{"./default-encoding":115,"./precondition":116,"create-hash/md5":53,ripemd160:143,"safe-buffer":144,"sha.js":146}],118:[function(e,t,r){(function(e){"use strict";void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return e.nextTick(function(){t.apply(null,s)})}}}:t.exports=e}).call(this,e("_process"))},{_process:119}],119:[function(e,t,r){var n,i,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var f,h=[],u=!1,d=-1;function l(){u&&f&&(u=!1,f.length?h=f.concat(h):d=-1,h.length&&p())}function p(){if(!u){var e=c(l);u=!0;for(var t=h.length;t;){for(f=h,h=[];++d<t;)f&&f[d].run();d=-1,t=h.length}f=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new b(e,t)),1!==h.length||u||c(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],120:[function(e,t,r){r.publicEncrypt=e("./publicEncrypt"),r.privateDecrypt=e("./privateDecrypt"),r.privateEncrypt=function(e,t){return r.publicEncrypt(e,t,!0)},r.publicDecrypt=function(e,t){return r.privateDecrypt(e,t,!0)}},{"./privateDecrypt":122,"./publicEncrypt":123}],121:[function(e,t,r){var n=e("create-hash"),i=e("safe-buffer").Buffer;function s(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}t.exports=function(e,t){for(var r,o=i.alloc(0),a=0;o.length<t;)r=s(a++),o=i.concat([o,n("sha1").update(e).update(r).digest()]);return o.slice(0,t)}},{"create-hash":52,"safe-buffer":144}],122:[function(e,t,r){var n=e("parse-asn1"),i=e("./mgf"),s=e("./xor"),o=e("bn.js"),a=e("browserify-rsa"),c=e("create-hash"),f=e("./withPublic"),h=e("safe-buffer").Buffer;t.exports=function(e,t,r){var u;u=e.padding?e.padding:r?1:4;var d,l=n(e),p=l.modulus.byteLength();if(t.length>p||new o(t).cmp(l.modulus)>=0)throw new Error("decryption error");d=r?f(new o(t),l):a(t,l);var b=h.alloc(p-d.length);if(d=h.concat([b,d],p),4===u)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(h.alloc(0)).digest(),o=n.length;if(0!==t[0])throw new Error("decryption error");var a=t.slice(1,o+1),f=t.slice(o+1),u=s(a,i(f,o)),d=s(f,i(u,r-o-1));if(function(e,t){e=h.from(e),t=h.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(n,d.slice(0,o)))throw new Error("decryption error");var l=o;for(;0===d[l];)l++;if(1!==d[l++])throw new Error("decryption error");return d.slice(l)}(l,d);if(1===u)return function(e,t,r){var n=t.slice(0,2),i=2,s=0;for(;0!==t[i++];)if(i>=t.length){s++;break}var o=t.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++;o.length<8&&s++;if(s)throw new Error("decryption error");return t.slice(i)}(0,d,r);if(3===u)return d;throw new Error("unknown padding")}},{"./mgf":121,"./withPublic":124,"./xor":125,"bn.js":16,"browserify-rsa":39,"create-hash":52,"parse-asn1":111,"safe-buffer":144}],123:[function(e,t,r){var n=e("parse-asn1"),i=e("randombytes"),s=e("create-hash"),o=e("./mgf"),a=e("./xor"),c=e("bn.js"),f=e("./withPublic"),h=e("browserify-rsa"),u=e("safe-buffer").Buffer;t.exports=function(e,t,r){var d;d=e.padding?e.padding:r?1:4;var l,p=n(e);if(4===d)l=function(e,t){var r=e.modulus.byteLength(),n=t.length,f=s("sha1").update(u.alloc(0)).digest(),h=f.length,d=2*h;if(n>r-d-2)throw new Error("message too long");var l=u.alloc(r-n-d-2),p=r-h-1,b=i(h),g=a(u.concat([f,l,u.alloc(1,1),t],p),o(b,p)),y=a(b,o(g,h));return new c(u.concat([u.alloc(1),y,g],r))}(p,t);else if(1===d)l=function(e,t,r){var n,s=t.length,o=e.modulus.byteLength();if(s>o-11)throw new Error("message too long");n=r?u.alloc(o-s-3,255):function(e){var t,r=u.allocUnsafe(e),n=0,s=i(2*e),o=0;for(;n<e;)o===s.length&&(s=i(2*e),o=0),(t=s[o++])&&(r[n++]=t);return r}(o-s-3);return new c(u.concat([u.from([0,r?1:2]),n,u.alloc(1),t],o))}(p,t,r);else{if(3!==d)throw new Error("unknown padding");if((l=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?h(l,p):f(l,p)}},{"./mgf":121,"./withPublic":124,"./xor":125,"bn.js":16,"browserify-rsa":39,"create-hash":52,"parse-asn1":111,randombytes:126,"safe-buffer":144}],124:[function(e,t,r){var n=e("bn.js"),i=e("safe-buffer").Buffer;t.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},{"bn.js":16,"safe-buffer":144}],125:[function(e,t,r){t.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},{}],126:[function(e,t,r){(function(r,n){"use strict";var i=65536,s=4294967295;var o=e("safe-buffer").Buffer,a=n.crypto||n.msCrypto;a&&a.getRandomValues?t.exports=function(e,t){if(e>s)throw new RangeError("requested too many random bytes");var n=o.allocUnsafe(e);if(e>0)if(e>i)for(var c=0;c<e;c+=i)a.getRandomValues(n.slice(c,c+i));else a.getRandomValues(n);if("function"==typeof t)return r.nextTick(function(){t(null,n)});return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:119,"safe-buffer":144}],127:[function(e,t,r){(function(t,n){"use strict";function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=e("safe-buffer"),o=e("randombytes"),a=s.Buffer,c=s.kMaxLength,f=n.crypto||n.msCrypto,h=Math.pow(2,32)-1;function u(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>h||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function d(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>h||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function l(e,r,n,i){if(t.browser){var s=e.buffer,a=new Uint8Array(s,r,n);return f.getRandomValues(a),i?void t.nextTick(function(){i(null,e)}):e}if(!i)return o(n).copy(e,r),e;o(n,function(t,n){if(t)return i(t);n.copy(e,r),i(null,e)})}f&&f.getRandomValues||!t.browser?(r.randomFill=function(e,t,r,i){if(!(a.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return u(t,e.length),d(r,t,e.length),l(e,t,r,i)},r.randomFillSync=function(e,t,r){void 0===t&&(t=0);if(!(a.isBuffer(e)||e instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');u(t,e.length),void 0===r&&(r=e.length-t);return d(r,t,e.length),l(e,t,r)}):(r.randomFill=i,r.randomFillSync=i)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:119,randombytes:126,"safe-buffer":144}],128:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":129}],129:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var s=e("core-util-is");s.inherits=e("inherits");var o=e("./_stream_readable"),a=e("./_stream_writable");s.inherits(u,o);for(var c=i(a.prototype),f=0;f<c.length;f++){var h=c[f];u.prototype[h]||(u.prototype[h]=a.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"./_stream_readable":131,"./_stream_writable":133,"core-util-is":50,inherits:100,"process-nextick-args":118}],130:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_transform"),i=e("core-util-is");function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":132,"core-util-is":50,inherits:100}],131:[function(e,t,r){(function(r,n){"use strict";var i=e("process-nextick-args");t.exports=v;var s,o=e("isarray");v.ReadableState=m;e("events").EventEmitter;var a=function(e,t){return e.listeners(t).length},c=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=n.Uint8Array||function(){};var u=e("core-util-is");u.inherits=e("inherits");var d=e("util"),l=void 0;l=d&&d.debuglog?d.debuglog("stream"):function(){};var p,b=e("./internal/streams/BufferList"),g=e("./internal/streams/destroy");u.inherits(v,c);var y=["error","close","destroy","pause","resume"];function m(t,r){t=t||{};var n=r instanceof(s=s||e("./_stream_duplex"));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function v(t){if(s=s||e("./_stream_duplex"),!(this instanceof v))return new v(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function _(e,t,r,n,i){var s,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,E(e)}(e,o)):(i||(s=function(e,t){var r;n=t,f.isBuffer(n)||n instanceof h||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=function(e){return f.from(e)}(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):k(e,o)):w(e,o,t,!1))):n||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&E(e)),k(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},v.prototype.unshift=function(e){return _(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var A=8388608;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){l("emit readable"),e.emit("readable"),M(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(S,e,t))}function S(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function x(e){l("readable nexttick read 0"),e.read(0)}function B(e,t){t.reading||(l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=f.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),0===(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):E(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,l("pipe count=%d opts=%j",s.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?h:v;function f(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",y),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",g),e.removeListener("unpipe",f),n.removeListener("end",h),n.removeListener("end",v),n.removeListener("data",b),d=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function h(){l("onend"),e.end()}s.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",f);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",u);var d=!1;var p=!1;function b(t){l("ondata"),p=!1,!1!==e.write(t)||p||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==j(s.pipes,e))&&!d&&(l("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){l("onerror",t),v(),e.removeListener("error",g),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",m),v()}function m(){l("onfinish"),e.removeListener("close",y),v()}function v(){l("unpipe"),n.unpipe(e)}return n.on("data",b),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",m),e.emit("pipe",n),s.flowing||(l("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=j(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},v.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):i.nextTick(x,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),this},v.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<y.length;s++)e.on(y[s],this.emit.bind(this,y[s]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=R}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":129,"./internal/streams/BufferList":134,"./internal/streams/destroy":135,"./internal/streams/stream":136,_process:119,"core-util-is":50,events:83,inherits:100,isarray:102,"process-nextick-args":118,"safe-buffer":137,"string_decoder/":138,util:18}],132:[function(e,t,r){"use strict";t.exports=o;var n=e("./_stream_duplex"),i=e("core-util-is");function s(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){c(e,t,r)}):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":129,"core-util-is":50,inherits:100}],133:[function(e,t,r){(function(r,n,i){"use strict";var s=e("process-nextick-args");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=m;var a,c=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?i:s.nextTick;m.WritableState=y;var f=e("core-util-is");f.inherits=e("inherits");var h={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,l=n.Uint8Array||function(){};var p,b=e("./internal/streams/destroy");function g(){}function y(t,r){a=a||e("./_stream_duplex"),t=t||{};var n=r instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,f=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(f||0===f)?f:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(s.nextTick(i,n),s.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,i);else{var o=A(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?c(_,e,r,o,i):_(e,r,o,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(t){if(a=a||e("./_stream_duplex"),!(p.call(m,this)||this instanceof a))return new m(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function v(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,v(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,h=r.encoding,u=r.callback;if(v(e,t,!1,t.objectMode?1:f.length,f,h,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var r=A(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(I,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}f.inherits(m,u),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===m&&(e&&e._writableState instanceof y)}})):p=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=e,d.isBuffer(n)||n instanceof l);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=g),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),s.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),s.nextTick(n,o),i=!1),i}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,n,i,s);return c}(this,i,a,e,t,r)),o},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?s.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=b.destroy,m.prototype._undestroy=b.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":129,"./internal/streams/destroy":135,"./internal/streams/stream":136,_process:119,"core-util-is":50,inherits:100,"process-nextick-args":118,"safe-buffer":137,timers:155,"util-deprecate":156}],134:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("util");t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,s=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=s,i=a,t.copy(r,i),a+=o.data.length,o=o.next;return s},e}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":137,util:18}],135:[function(e,t,r){"use strict";var n=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":118}],136:[function(e,t,r){t.exports=e("events").EventEmitter},{events:83}],137:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,r),r.Buffer=o),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:48}],138:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=f,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=u,t=3;break;default:return this.write=d,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function h(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function l(e){return e&&e.length?this.write(e):""}r.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":137}],139:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":140}],140:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":129,"./lib/_stream_passthrough.js":130,"./lib/_stream_readable.js":131,"./lib/_stream_transform.js":132,"./lib/_stream_writable.js":133}],141:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":140}],142:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":133}],143:[function(e,t,r){"use strict";var n=e("buffer").Buffer,i=e("inherits"),s=e("hash-base"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function l(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function b(e,t,r,n,i,s,o,a){return p(e+(t^r^n)+s+o|0,a)+i|0}function g(e,t,r,n,i,s,o,a){return p(e+(t&r|~t&n)+s+o|0,a)+i|0}function y(e,t,r,n,i,s,o,a){return p(e+((t|~r)^n)+s+o|0,a)+i|0}function m(e,t,r,n,i,s,o,a){return p(e+(t&n|r&~n)+s+o|0,a)+i|0}function v(e,t,r,n,i,s,o,a){return p(e+(t^(r|~n))+s+o|0,a)+i|0}i(l,s),l.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,l=0|this._e,_=0|this._a,w=0|this._b,A=0|this._c,I=0|this._d,E=0|this._e,C=0;C<80;C+=1){var k,S;C<16?(k=b(r,n,i,s,l,e[a[C]],u[0],f[C]),S=v(_,w,A,I,E,e[c[C]],d[0],h[C])):C<32?(k=g(r,n,i,s,l,e[a[C]],u[1],f[C]),S=m(_,w,A,I,E,e[c[C]],d[1],h[C])):C<48?(k=y(r,n,i,s,l,e[a[C]],u[2],f[C]),S=y(_,w,A,I,E,e[c[C]],d[2],h[C])):C<64?(k=m(r,n,i,s,l,e[a[C]],u[3],f[C]),S=g(_,w,A,I,E,e[c[C]],d[3],h[C])):(k=v(r,n,i,s,l,e[a[C]],u[4],f[C]),S=b(_,w,A,I,E,e[c[C]],d[4],h[C])),r=l,l=s,s=p(i,10),i=n,n=k,_=E,E=I,I=p(A,10),A=w,w=S}var x=this._b+i+I|0;this._b=this._c+s+E|0,this._c=this._d+l+_|0,this._d=this._e+r+w|0,this._e=this._a+n+A|0,this._a=x},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=l},{buffer:48,"hash-base":85,inherits:100}],144:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,r),r.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:48}],145:[function(e,t,r){var n=e("safe-buffer").Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,s=e.length,o=this._len,a=0;a<s;){for(var c=o%i,f=Math.min(s-a,i-c),h=0;h<f;h++)r[c+h]=e[a+h];a+=f,(o+=f)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},{"safe-buffer":144}],146:[function(e,t,r){(r=t.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t}).sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":147,"./sha1":148,"./sha224":149,"./sha256":150,"./sha384":151,"./sha512":152}],147:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function f(e){return e<<30|e>>>2}function h(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,u=0;u<16;++u)r[u]=e.readInt32BE(4*u);for(;u<80;++u)r[u]=r[u-3]^r[u-8]^r[u-14]^r[u-16];for(var d=0;d<80;++d){var l=~~(d/20),p=0|((t=n)<<5|t>>>27)+h(l,i,s,a)+c+r[d]+o[l];c=a,a=s,s=f(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=c},{"./hash":145,inherits:100,"safe-buffer":144}],148:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function f(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function u(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=(t=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|t>>>31;for(var l=0;l<80;++l){var p=~~(l/20),b=f(n)+u(p,i,s,a)+c+r[l]+o[p]|0;c=a,a=s,s=h(i),i=n,n=b}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=c},{"./hash":145,inherits:100,"safe-buffer":144}],149:[function(e,t,r){var n=e("inherits"),i=e("./sha256"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(64);function c(){this.init(),this._w=a,s.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=c},{"./hash":145,"./sha256":150,inherits:100,"safe-buffer":144}],150:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function f(e,t,r){return r^e&(t^r)}function h(e,t,r){return e&t|r&(e|t)}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,b=0|this._g,g=0|this._h,y=0;y<16;++y)r[y]=e.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((t=r[y-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[y-7]+l(r[y-15])+r[y-16];for(var m=0;m<64;++m){var v=g+d(c)+f(c,p,b)+o[m]+r[m]|0,_=u(n)+h(n,i,s)|0;g=b,b=p,p=c,c=a+v|0,a=s,s=i,i=n,n=v+_|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=c},{"./hash":145,inherits:100,"safe-buffer":144}],151:[function(e,t,r){var n=e("inherits"),i=e("./sha512"),s=e("./hash"),o=e("safe-buffer").Buffer,a=new Array(160);function c(){this.init(),this._w=a,s.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=c},{"./hash":145,"./sha512":152,inherits:100,"safe-buffer":144}],152:[function(e,t,r){var n=e("inherits"),i=e("./hash"),s=e("safe-buffer").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function f(e,t,r){return r^e&(t^r)}function h(e,t,r){return e&t|r&(e|t)}function u(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,c=0|this._fh,m=0|this._gh,v=0|this._hh,_=0|this._al,w=0|this._bl,A=0|this._cl,I=0|this._dl,E=0|this._el,C=0|this._fl,k=0|this._gl,S=0|this._hl,x=0;x<32;x+=2)t[x]=e.readInt32BE(4*x),t[x+1]=e.readInt32BE(4*x+4);for(;x<160;x+=2){var B=t[x-30],M=t[x-30+1],R=l(B,M),D=p(M,B),T=b(B=t[x-4],M=t[x-4+1]),j=g(M,B),O=t[x-14],Q=t[x-14+1],L=t[x-32],P=t[x-32+1],U=D+Q|0,F=R+O+y(U,D)|0;F=(F=F+T+y(U=U+j|0,j)|0)+L+y(U=U+P|0,P)|0,t[x]=F,t[x+1]=U}for(var N=0;N<160;N+=2){F=t[N],U=t[N+1];var q=h(r,n,i),K=h(_,w,A),z=u(r,_),H=u(_,r),Y=d(a,E),W=d(E,a),G=o[N],V=o[N+1],J=f(a,c,m),X=f(E,C,k),$=S+W|0,Z=v+Y+y($,S)|0;Z=(Z=(Z=Z+J+y($=$+X|0,X)|0)+G+y($=$+V|0,V)|0)+F+y($=$+U|0,U)|0;var ee=H+K|0,te=z+q+y(ee,H)|0;v=m,S=k,m=c,k=C,c=a,C=E,a=s+Z+y(E=I+$|0,I)|0,s=i,I=A,i=n,A=w,n=r,w=_,r=Z+te+y(_=$+ee|0,$)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+A|0,this._dl=this._dl+I|0,this._el=this._el+E|0,this._fl=this._fl+C|0,this._gl=this._gl+k|0,this._hl=this._hl+S|0,this._ah=this._ah+r+y(this._al,_)|0,this._bh=this._bh+n+y(this._bl,w)|0,this._ch=this._ch+i+y(this._cl,A)|0,this._dh=this._dh+s+y(this._dl,I)|0,this._eh=this._eh+a+y(this._el,E)|0,this._fh=this._fh+c+y(this._fl,C)|0,this._gh=this._gh+m+y(this._gl,k)|0,this._hh=this._hh+v+y(this._hl,S)|0},c.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=c},{"./hash":145,inherits:100,"safe-buffer":144}],153:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",c));var o=!1;function a(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function f(e){if(h(),0===n.listenerCount(this,"error"))throw e}function h(){r.removeListener("data",i),e.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return r.on("error",f),e.on("error",f),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e}},{events:83,inherits:100,"readable-stream/duplex.js":128,"readable-stream/passthrough.js":139,"readable-stream/readable.js":140,"readable-stream/transform.js":141,"readable-stream/writable.js":142}],154:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":144}],155:[function(e,t,r){(function(t,n){var i=e("process/browser.js").nextTick,s=Function.prototype.apply,o=Array.prototype.slice,a={},c=0;function f(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new f(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new f(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof t?t:function(e){var t=c++,n=!(arguments.length<2)&&o.call(arguments,1);return a[t]=!0,i(function(){a[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof n?n:function(e){delete a[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":119,timers:155}],156:[function(e,t,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],157:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],158:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],159:[function(e,t,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),c=n[r];r<s;c=n[++r])b(c)||!_(c)?o+=" "+c:o+=" "+a(c);return o},r.deprecate=function(e,i){if(m(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var s=!1;return function(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}};var s,o={};function a(e,t){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&r._extend(n,t),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),h(n,e,n.depth)}function c(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function f(e,t){return e}function h(e,t,n){if(e.customInspect&&t&&I(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return y(i)||(i=h(e,i,n)),i}var s=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(e,t);if(s)return s;var o=Object.keys(t),a=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),A(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(t);if(0===o.length){if(I(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(v(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(A(t))return u(t)}var f,_="",E=!1,C=["{","}"];(l(t)&&(E=!0,C=["[","]"]),I(t))&&(_=" [Function"+(t.name?": "+t.name:"")+"]");return v(t)&&(_=" "+RegExp.prototype.toString.call(t)),w(t)&&(_=" "+Date.prototype.toUTCString.call(t)),A(t)&&(_=" "+u(t)),0!==o.length||E&&0!=t.length?n<0?v(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),f=E?function(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)S(t,String(o))?s.push(d(e,t,r,n,String(o),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(d(e,t,r,n,i,!0))}),s}(e,t,n,a,o):o.map(function(r){return d(e,t,n,a,r,E)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(f,_,C)):C[0]+_+C[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,s){var o,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),S(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=b(r)?h(e,c.value,null):h(e,c.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),m(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function l(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function b(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function m(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===E(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===E(e)}function A(e){return _(e)&&("[object Error]"===E(e)||e instanceof Error)}function I(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(m(s)&&(s=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){var n=t.pid;o[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=l,r.isBoolean=p,r.isNull=b,r.isNullOrUndefined=function(e){return null==e},r.isNumber=g,r.isString=y,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=m,r.isRegExp=v,r.isObject=_,r.isDate=w,r.isError=A,r.isFunction=I,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],t].join(" ")),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":158,_process:119,inherits:157}],160:[function(require,module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var s=Object_keys(r),o=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(s,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}},{}],161:[function(e,t,r){const n=/\r?\n/;function i(){}t.exports=(({dnsProxy:e="gateway.mauve.moe"}={})=>{let t={};return{async resolveName(r,s,o){"function"==typeof s&&(o=s,s={}),o||(o=i);let a=r;if(a.startsWith("dat://")&&(a=r.slice("dat://".length)),t[a])return o?void o(null,t[a]):t[a];try{const r=`//${e}/${a}/.well-known/dat`,i=await fetch(r),s=(await i.text()).split(n)[0];t[a]=s,o&&o(null,s)}catch(e){if(!o)throw e;o(e)}},listCache:()=>t,flushCache(){t={}}}})},{}],162:[function(e,t,r){const n=e("path");n.posix||(n.posix=n);const i=e("hyperdiscovery"),s=e("universal-dat-storage"),o=e("dat-encoding"),a=e("hypercore-crypto"),c=e("random-access-memory"),f=e("fs"),h=e("dat-dns"),u=e("hyperdrive"),d=e("hypercore"),l={},p={extensions:[]},b={sparse:!0,persist:!0},g={sparse:!0,persist:!0},y={};t.exports=function({storageOpts:e,swarmOpts:t,driveOpts:r,coreOpts:m,dnsOpts:v}={}){const _=s(Object.assign({},l,e)),w=i(Object.assign({},p,t)),A=h(Object.assign({},y,v)),I=new Map,E=new Map;function C(e){if(!e||!e.length)return;const t=w._opts.extensions||[],r=new Set([...t,...e]);w._opts.extensions=[...r]}return{Hyperdrive:function(e,t){C((t=Object.assign({},b,r,t)).extensions);let i=null;if(!e){const{publicKey:r,secretKey:n}=a.keyPair();i=r,e=o.encode(r),t.secretKey=n}try{i=o.decode(e)}catch(e){}const s=i.toString("hex");if(I.has(s))return I.get(s);const{persist:h}=t;let d=null;try{d=h?t.storage?t.storage(e):_.getDrive(e):c}catch(r){if("Unable to create storage"!==r.message)throw r;const{publicKey:s,secretKey:c}=a.keyPair();f.writeFileSync(n.join(e,".dat"),s),i=s,e=o.encode(s),t.secretKey=c,d=t.storage?t.storage(e):_.getDrive(e)}const l=u(d,i,t);return I.set(s,l),l.ready(()=>{w.add(l)}),l.once("close",()=>{const e=o.encode(l.discoveryKey);w.leave(e),w._replicatingFeeds.delete(e),I.delete(s)}),l},Hypercore:function(e,t){C((t=Object.assign({},g,m,t)).extensions);let r=null;if(!e){const{publicKey:n,secretKey:i}=a.keyPair();r=n,e=o.encode(n),t.secretKey=i}try{r=o.decode(e)}catch(e){}const n=e.toString("hex");if(E.has(n))return E.get(n);const{persist:i}=t;let s=null;try{s=i?t.storage?t.storage(e):_.getCore(e):c}catch(e){if("Unable to create storage"!==e.message)throw e}const f=d(s,r,t);return E.set(n,f),f.ready(()=>{w.add(f)}),f.once("close",()=>{const e=o.encode(f.discoveryKey);w.leave(e),w._replicatingFeeds.delete(e),E.delete(n)}),f},resolveName:function(e,t){return A.resolveName(e,t)},deleteStorage:function(e,t){_.delete(e,t)},destroy:function(e){for(const e of I.values())e.close();for(const e of E.values())e.close();w.close().then(e,e)}}}},{"dat-dns":161,"dat-encoding":214,fs:46,hypercore:301,"hypercore-crypto":282,hyperdiscovery:307,hyperdrive:308,path:112,"random-access-memory":376,"universal-dat-storage":438}],163:[function(e,t,r){(function(r){const{EventEmitter:n}=e("events"),{Readable:i}=e("stream"),s=e("crypto"),o=e("pump"),a=e("mostly-minimal-spanning-tree"),c=e("p-debounce"),f=e("debug")("discovery-swarm-webrtc"),h=e("./lib/signal-client"),u=e("./lib/peer"),d=e("./lib/scheduler"),{toHex:l,SwarmError:p,callbackPromise:b,resolveCallback:g}=e("./lib/utils"),y="ERR_MAX_PEERS_REACHED",m="ERR_INVALID_CHANNEL",v="ERR_CONNECTION_DUPLICATED",_="ERR_REMOTE_MAX_PEERS_REACHED",w="ERR_REMOTE_INVALID_CHANNEL",A="ERR_REMOTE_CONNECTION_DUPLICATED";class I extends n{constructor(e={}){super(),f("opts",e),console.assert(Array.isArray(e.bootstrap)&&e.bootstrap.length>0,"The `bootstrap` options is required."),console.assert(!e.id||r.isBuffer(e.id),"The `id` option needs to be a Buffer."),this._id=e.id||s.randomBytes(32),this._stream=e.stream,this._simplePeer=e.simplePeer,this._peers=new Set,this._channels=new Map,this._mmsts=new Map,this._candidates=new Map,this._scheduler=new d,this._destroyed=!1,this._maxPeers=e.maxPeers,this.signal=new h({bootstrap:e.bootstrap,connectionTimeout:e.connectionTimeout||1e4,requestTimeout:e.requestTimeout||5e3}),this._updateCandidates=c(this._updateCandidates,500),this._initialize(e)}get id(){return this._id}get connecting(){return this.getPeers().filter(e=>!e.connected).length}get connected(){return this.getPeers().filter(e=>e.connected).length}listen(){}getPeers(e){console.assert(!e||r.isBuffer(e));const t=Array.from(this._peers.values());return e?t.filter(t=>t.channel.equals(e)):t}getCandidates(e){return console.assert(!e||r.isBuffer(e)),this._candidates.get(l(e))||{list:[],lastUpdate:0}}join(e){console.assert(r.isBuffer(e));const t=l(e);if(this._channels.has(t))return;this._channels.set(t,e);const n=new a({id:this._id,lookup:()=>this._lookup(e),connect:t=>this._createConnection(t,e),maxPeers:this._maxPeers,lookupTimeout:5e3});this._mmsts.set(t,n),this._scheduler.addTask(t,async t=>{if(this._isClosed(e))return t.destroy();await this._run(e);const r=this.getPeers(e),{list:n}=this.getCandidates(e);return 0===n.length||r.length===n.length?3e4:void 0},1e4),this.signal.connected&&this.signal.discover(this._id,e)}leave(e,t=b()){return g(this._leave(e),t),t.promise}close(e=b()){return g(this._close(),e),e.promise}info(...e){return this.signal.info(...e)}async _leave(e){console.assert(r.isBuffer(e));const t=l(e);this._scheduler.deleteTask(t),this._mmsts.get(t).destroy(),this._mmsts.delete(t),this._channels.delete(t),this._candidates.delete(t);try{await this.signal.leave(this._id,e)}catch(e){}await Promise.all(this.getPeers(e).map(async e=>this._disconnectPeer(e))),this.emit("leave",e)}async _close(){this._destroyed||(this._destroyed=!0,await this.signal.disconnect(),this._scheduler.clearTasks(),this._mmsts.forEach(e=>e.destroy()),this._mmsts.clear(),this._channels.clear(),this._candidates.clear(),await Promise.all(this.getPeers().map(async e=>this._disconnectPeer(e))),this.emit("close"))}_initialize(){const e=this.signal;this.on("error",(...e)=>f("error",...e)),e.on("error",e=>this.emit("error",e)),e.on("discover",async({peers:e,channel:t})=>{f("discover",{channel:t}),this._isClosed(t)||(await this._updateCandidates(t,e),await this._run(t),this._scheduler.startTask(l(t)))}),e.on("request",async e=>{const{initiator:t,channel:r}=e;try{await this._createConnection(t,r,e)}catch(e){}}),e.on("info",e=>this.emit("info",e)),e.on("connect",()=>{this._channels.forEach(t=>{e.discover(this._id,t)})})}async _disconnectPeer(e){await e.disconnect(),this._peers.delete(e)}_isClosed(e){return!this._channels.has(l(e))}async _createConnection(e,t,r){const n=new u(e,t,{connectionId:r&&r.connectionId,initiator:!r});this._peers.add(n),f(`createConnection from ${r?"request":"connect"}`,{request:r,info:n.printInfo()});try{const e=this._getMMST(n.channel);if(this._isClosed(n.channel))throw r&&r.reject({code:w}),new p(m);if(r&&!e.shouldHandleIncoming())throw r.reject({code:_}),new p(y);if(this._checkForDuplicate(n))throw r&&r.reject({code:A}),new p(v);let t=null;if(r?(e.addConnection(n.id,n),t=await r.accept({},this._simplePeer)):t=await this.signal.connect(n,this._simplePeer),await n.setSocket(t),this._isClosed(n.channel))throw new p(m);return this._bindSocketEvents(n),n}catch(e){if(e.code===w){const e=this.getCandidates(n.channel);e.list=e.filter(e=>!e.equals(n.id))}throw this.emit("connect-failed",e,n.getInfo()),await this._disconnectPeer(n).catch(e=>this.emit("error",e,n.getInfo())),this.emit("error",e,n.getInfo()),e}}_bindSocketEvents(e){const{socket:t}=e,r=e.getInfo();t.on("error",e=>{f("error",e),this.emit("connection-error",e,r)}),t.on("connect",()=>{if(f("connect",{peer:e}),this._isClosed(e.channel))return void e.disconnect();if(t.destroyed)return;if(!this._stream)return void this._handleConnection(t,r);const n=this._stream(r);this.emit("handshaking",n,r),n.on("handshake",this._handshake.bind(this,n,r)),o(t,n,t)}),t.on("close",()=>{f("close",{peer:e}),this._peers.delete(e),this.emit("connection-closed",t,r)})}_handshake(e,t){this._handleConnection(e,t)}_handleConnection(e,t){this.emit("connection",e,t)}async _updateCandidates(e,t){if(!this.signal.connected)return;const{lastUpdate:r}=this.getCandidates(e);if(Date.now()-r<5e3)return;let n=[];n=(n=t||await this.signal.candidates(this.id,e)).filter(e=>!e.equals(this._id)),this._candidates.set(l(e),{lastUpdate:Date.now(),list:n}),this.emit("candidates-updated",e,n)}async _run(e){if(this.signal.connected&&!(this.getPeers(e).filter(e=>e.initiator).length>0))try{this._isClosed(e)||await this._getMMST(e).run()}catch(e){f("run error",e.message)}}_getMMST(e){return this._mmsts.get(l(e))}_lookup(e){const t=new i({read(){},objectMode:!0});return this._updateCandidates(e).then(()=>{t.push(this.getCandidates(e).list),t.push(null)}).catch(()=>{t.push(this.getCandidates(e).list),t.push(null)}),t}_checkForDuplicate(e){const t=this.getPeers(e.channel).find(t=>t.id.equals(e.id)&&!t.connectionId.equals(e.connectionId));if(!t)return;const n=[e,t];if(e.initiator&&t.initiator||!e.initiator&&!t.initiator)return n.sort((e,t)=>r.compare(e.connectionId,t.connectionId))[0];const i=[this._id,e.id].sort(r.compare)[0];return n.find(e=>e.id.equals(i))}}t.exports=((...e)=>new I(...e))}).call(this,e("buffer").Buffer)},{"./lib/peer":164,"./lib/scheduler":165,"./lib/signal-client":166,"./lib/utils":167,buffer:48,crypto:56,debug:216,events:83,"mostly-minimal-spanning-tree":338,"p-debounce":349,pump:366,stream:153}],164:[function(e,t,r){(function(r){const{EventEmitter:n}=e("events"),i=e("crypto"),{toHex:s,SwarmError:o}=e("./utils");t.exports=class extends n{constructor(e,t,n={}){super(),console.assert(r.isBuffer(e)),console.assert(r.isBuffer(t));const{socket:s,connectionId:o=i.randomBytes(32),initiator:a=!0}=n;this.id=e,this.channel=t,this.socket=s,this.connectionId=o,this.initiator=a,this._destroyed=!1}get connected(){return!(!this.socket||!this.socket.connected)}async setSocket(e){if(this.socket=e,this.socket.destroyed)throw await this.disconnect(),new Error(new o("ERR_CONNECTION_CLOSED"));if(this._destroyed)throw this.socket.destroyed||this.socket.destroy(),new Error(new o("ERR_CONNECTION_CLOSED"));this.socket.once("close",()=>{this._handleClose()})}async disconnect(e){if(!this._destroyed){if(this._destroyed=!0,this.socket)return new Promise(t=>{if(this.socket.destroyed)return t();this.socket.once("close",()=>{t()}),this.socket.destroy(e)});this._handleClose()}}close(){this.disconnect().then(()=>{}).catch(()=>{})}getInfo(){return{id:this.id,channel:this.channel,initiator:this.initiator}}printInfo(){return{id:s(this.id),channel:s(this.channel),initiator:this.initiator}}_handleClose(){this.emit("close"),this.emit("end")}}}).call(this,{isBuffer:e("../../../../../../../app/node_modules/is-buffer/index.js")})},{"../../../../../../../app/node_modules/is-buffer/index.js":101,"./utils":167,crypto:56,events:83}],165:[function(e,t,r){const{EventEmitter:n}=e("events"),i=e("delay"),s=e("p-forever");class o extends n{constructor(e,t,r){super(),this._id=e,this._job=(e=>t(e)),this._ms=r,this._started=!1,this._destroyed=!1,this._delayedPromise=null}start(){if(this._started||this._destroyed)return;let e=this._ms;s(async()=>{try{if(this._destroyed)return s.end;if(this._delayedPromise=i(e),await this._delayedPromise,this._destroyed)return s.end;const t=await this._job(this);e=Number.isInteger(t)?t:this._ms}catch(e){console.warn(`Error in Task ${this._id}`,e.message)}}).finally(()=>{this.emit("destroy")}),this._started=!0}destroy(){this._destroyed||(this._destroyed=!0,this._delayedPromise&&this._delayedPromise.clear())}}t.exports=class{constructor(){this._tasks=new Map}addTask(e,t,r){const n=new o(e,t,r);return this._tasks.set(e,n),n.on("destroy",()=>{this._tasks.has(e)&&this._tasks.delete(e)}),n}startTask(e){const t=this._tasks.get(e);t&&t.start()}deleteTask(e){const t=this._tasks.get(e);t&&t.destroy()}clearTasks(){this._tasks.forEach(e=>{e.destroy()})}}},{delay:218,events:83,"p-forever":351}],166:[function(e,t,r){const n=e("crypto"),{EventEmitter:i}=e("events"),s=e("simple-signal-client"),o=e("socket.io-client"),a=e("socket.io-client/lib/url"),{SwarmError:c,toHex:f,toBuffer:h}=e("./utils"),u="ERR_TRANSACTION_TIMEOUT";class d{constructor(e){this._simpleRequest=e}get initiator(){return h(this._simpleRequest.initiator)}get channel(){return h(this._simpleRequest.metadata.channel)}get connectionId(){return h(this._simpleRequest.metadata.connectionId)}async accept(e,t){try{const{peer:r}=await this._simpleRequest.accept(e,t);return r}catch(e){throw l.parseMetadataError(e)}}async reject(e){return this._simpleRequest.reject(e)}}class l extends i{static parseMetadataError(e){if(e instanceof Error)return e;if(!e.metadata||!e.metadata.code)return new c(JSON.stringify(e));const{message:t,code:r}=e.metadata;return new c(t||r,r)}constructor(e={}){super();const{bootstrap:t,requestTimeout:r,...n}=e;this._urls=t.map(e=>a(e).source),this._simpleSignal=new s(o(this._urls[0]),n),this._transactions=new Map,this._requestTimeout=r,this._destroyed=!1,this._initialize()}get socket(){return this._simpleSignal.socket}get connected(){return this.socket.connected}async candidates(e,t){return this._emitTransaction("simple-signal[candidates]",{id:f(e),channel:f(t)},({peers:e=[]})=>e.map(e=>h(e)))}async leave(e,t){return this._emitTransaction("simple-signal[leave]",{id:f(e),channel:f(t)})}info(e={}){return this.socket.emit("simple-signal[info]",{discoveryData:e})}discover(e,t){return this._simpleSignal.discover({id:f(e),channel:f(t)})}async connect(e,t){try{const{peer:r}=await this._simpleSignal.connect(f(e.id),{channel:f(e.channel),connectionId:f(e.connectionId)},t);return r}catch(e){throw l.parseMetadataError(e)}}async disconnect(){if(!this._destroyed)return this._destroyed=!0,new Promise(e=>{this.socket.disconnected&&(this._simpleSignal.destroy(),e()),this.socket.once("disconnect",e),this._simpleSignal.destroy()})}_initialize(){this.socket.on("connect",()=>this.emit("connect")),this.socket.on("connect_error",e=>this.emit("error",new c(e.message,"socket-connect-error",e.stack))),this.socket.on("connect_timeout",e=>this.emit("error",new c(`connect-timeout ${e}`,"socket-connect-timeout"))),this.socket.on("error",e=>this.emit("error",new c(e.message,"socket-error",e.stack))),this.socket.on("reconnect_failed",()=>this.emit("error",new c("socket-reconnect-failed"))),this.socket.on("reconnect_error",e=>{this.emit("error",new c(e.message,"socket-reconnect-error",e.stack));const t=this.socket.io.uri,r=this._urls.indexOf(t),n=r===this._urls.length-1?0:r+1;this.socket.io.uri=this._urls[n]}),this._simpleSignal.on("discover",({channel:e,peers:t=[]})=>this.emit("discover",{channel:h(e),peers:t.map(e=>h(e))})),this._simpleSignal.on("request",e=>this.emit("request",new d(e))),this.socket.on("simple-signal[info]",(e={})=>this.emit("info",e))}async _emitTransaction(e,t,r=(e=>e)){const i=n.randomBytes(12).toString("hex"),s=new Promise((r,n)=>{this._transactions.set(i,{resolve:r,reject:n}),this.socket.emit(e,{transactionId:i,discoveryData:t},e=>{this._transactions.has(i)&&r(e.discoveryData)})}),o=setTimeout(()=>{if(this._transactions.has(i)){const{reject:t}=this._transactions.get(i);t(new c(`Timeout on event transaction: ${e}`,u))}},this._requestTimeout);return s.then(e=>(clearTimeout(o),this._transactions.delete(i),r(e))).catch(e=>{throw clearTimeout(o),this._transactions.delete(i),e})}}t.exports=l},{"./utils":167,crypto:56,events:83,"simple-signal-client":406,"socket.io-client":410,"socket.io-client/lib/url":414}],167:[function(e,t,r){(function(e){t.exports={toHex:t=>{if("string"==typeof t)return t;if(e.isBuffer(t))return t.toString("hex");throw new Error("Cannot convert the buffer to hex: ",t)},toBuffer:t=>{if(e.isBuffer(t))return t;if("string"==typeof t)return e.from(t,"hex");throw new Error("Cannot convert the string to buffer: ",t)},SwarmError:class extends Error{constructor(e,t,r){super(e),this.code=t||e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=r||new Error(this.message).stack}},callbackPromise:()=>{let e;const t=new Promise((t,r)=>{e=((e,n)=>{e?r(e):t(n)})});return e.promise=t,e},resolveCallback:(e,t)=>(e.then||(e=Promise.resolve()),e.then(e=>t(null,e)).catch(t))}}).call(this,e("buffer").Buffer)},{buffer:48}],168:[function(e,t,r){function n(){}t.exports=function(e,t,r){var i=!1;return r=r||n,s.count=e,0===e?t():s;function s(e,n){if(s.count<=0)throw new Error("after called too many times");--s.count,e?(i=!0,t(e),t=r):0!==s.count||i||t(null,n)}}},{}],169:[function(e,t,r){(function(r){var n=e("from2"),i=e("mutexify"),s=e("varint"),o=e("./messages"),a=e("codecs"),c=e("inherits"),f=e("events"),h=e("array-lru"),u=e("process-nextick-args");function d(e,t){if(!(this instanceof d))return new d(e,t);t||(t={}),f.EventEmitter.call(this),this._offset=t.offset||0,this._codec=t.codec||a(t.valueEncoding),this._head="number"==typeof t.checkout?t.checkout:-1,this._lock=i(),this._cache=function(e){if(!1===e.cache)return null;if(!0===e.cache||!e.cache){var t=e.cacheSize||65536;return h(t,{indexedValues:!0})}return e.cache}(t),this._wait=!1!==t.wait,this._cached=!!t.cached,this._asNode=!!t.node,this._readonly=!!t.readonly,this.feed=e,this.version=this._head;var r=this;this.ready(function(e){e||r.emit("ready")})}function l(e){return"/"+e.join("/")}function p(e){var t=e.split("/");return""===t[0]&&t.shift(),""===t[t.length-1]&&t.pop(),t}function b(e){var t=new Error(l(e)+" could not be found");return t.notFound=!0,t.status=404,t}function g(e,t){for(var r=0;r<e.length&&e[r]===t[r];)r++;return r}function y(e,t){this.index=t,this.name=e.name,this.value=e.value,this.paths=e.paths}t.exports=d,c(d,f.EventEmitter),d.prototype.put=function(e,t,r){var n=this,i=p(e);this._lock(function(e){function s(t){e(r,t)}n.head(function(e,r,o){return e?s(e):n._readonly?s(new Error("Cannot delete on a checkout")):void(r?n._put(r,o,i,t,s):n._init(i,t,s))})})},d.prototype._put=function(e,t,r,n,i){var s=this,a=0,c=r.length+1,f=[],h=s.feed.length;!function u(d,b,g){if(d)return i(d);if(b){for(var y=[],m=0;m<b.length;m++)p(b[m].name)[a-1]!==r[a-1]&&y.push(g[m]);y.push(h),f.push(y)}if(a===c){var v={name:l(r),value:s._codec.encode(n),paths:s._deflate(h,f)};return s.version=s.feed.length,void s.feed.append(o.Node.encode(v),i)}s._list(e,t,r.slice(0,a++),null,u)}(null,null,null)},d.prototype.list=function(e,t,r){if("function"==typeof t)return this.list(e,null,t);t=this._defaultOpts(t);var n=this,i=p(e),s=!(!t.node&&!t.nodes);this.head(t,function(e,o,a){if(e)return r(e);if(!o)return r(b(i));n._list(o,a,i,t,function(e,t,o){if(e)return r(e);if(!t.length)return r(b(i));for(var a=[],c=0;c<t.length;c++){var f=p(t[c].name);f.length>i.length&&a.push(s?n._node(t[c],o[c]):f[i.length])}r(null,a)})})},d.prototype._list=function(e,t,r,n,i){var s;try{s=this._inflate(t,e.paths)}catch(e){return i(e)}var o=g(p(e.name),r),a=o<s.length&&s[o];return o===r.length?a&&a.length?void this._getAll(a,n,i):i(null,[],[]):!a||!a.length||1===a.length&&a[0]===t?i(null,[],[]):void this._closer(r,o,a,n,i)},d.prototype.get=function(e,t,r){if("function"==typeof t)return this.get(e,null,t);t=this._defaultOpts(t);var n=p(e),i=this;this.head(t,function(e,s,o){return e?r(e):s?void i._get(s,o,n,null,t,r):r(b(n))})},d.prototype.path=function(e,t,r){if("function"==typeof t)return this.path(e,null,t);t=this._defaultOpts(t);var n=p(e),i=[],s=this;this.head(t,function(e,o,a){return e?r(e):o?void s._get(o,a,n,i,t,function(e){if(e&&!e.notFound)return r(e);r(null,i)}):r(b(n))})},d.prototype.checkout=function(e,t){return t=this._defaultOpts(t),new d(this.feed,{checkout:e,readonly:!0,offset:this._offset,codec:t.valueEncoding?a(t.valueEncoding):this._codec,cache:this._cache||t.cache||!1,node:t.node,wait:t.wait,cached:t.cached})},d.prototype._del=function(e,t,r,n){var i=this,s=0,a=r.length+1,c=[],f=i.feed.length,h=l(r);!function n(s,o){i._list(e,t,r.slice(0,s),null,function(e,t,r){if(e)return o(e);for(var i=t.length-1;i>=0;i--)if(t[i].name!==h&&t[i].value)return o(null,t[i],r[i]);if(s<=0)return o(null,null,-1);n(s-1,o)})}(r.length,function(u,d,b){if(u)return n(u);var y=d?p(d.name):[],m=g(r,y)+1;!function u(d,b,g){if(d)return n(d);if(b&&s<=m){for(var y=[],v=0;v<b.length;v++)p(b[v].name)[s-1]!==r[s-1]&&b[v].name!==h&&y.push(g[v]);s<m&&y.push(f),c.push(y)}if(s===a){var _={name:l(r),value:null,paths:i._deflate(f,c)};return i.version=i.feed.length,void i.feed.append(o.Node.encode(_),n)}i._list(e,t,r.slice(0,s++),null,u)}(null,null,null)})},d.prototype.del=function(e,t){var r=this,n=p(e);this._lock(function(e){function i(r){e(t,r)}r.head(function(e,t,s){return e?i(e):r._readonly?i(new Error("Cannot delete on a checkout")):t?void r._del(t,s,n,i):i(null)})})},d.prototype._get=function(e,t,r,n,i,s){var o,a=this,c=p(e.name),f=g(r,c);if(n&&n.push(t),f===c.length&&f===r.length)return i.node?s(null,this._node(e,t)):e.value?s(null,this._codec.decode(e.value)):s(b(r));try{o=this._inflate(t,e.paths)}catch(e){return s(e)}if(f>=o.length)return s(b(r));var h=o[f],u=h.length;if(h[u-1]===t&&u--,!u)return s(b(r));for(var d=f<r.length?r[f]:null,l=null,y=u,m=0;m<u;m++)this._getAndDecode(h[m],i,v);function v(e,t,o){if(e&&(l=e),t){var c=p(t.name);if((f<c.length?c[f]:null)===d)return a._get(t,o,r,n,i,s)}--y||s(l||b(r))}},d.prototype._closer=function(e,t,r,n,i){for(var s=this,o=e[t],a=null,c=r.length,f=!1,h=0;h<r.length;h++)this._getAndDecode(r[h],n,u);function u(r,h,u){f||(r&&(a=r),h&&p(h.name)[t]===o?s._list(h,u,e,n,i):--c||i(a,[],[]))}},d.prototype.head=function(e,t){if("function"==typeof e)return this.head(null,e);if(this._head>=this._offset)return this._getAndDecode(this._head,e,t);if(this._readonly)return t(null,null,-1);var r=this;this.ready(function(n){if(n)return t(n);r.feed.length>r._offset?r._getAndDecode(r.feed.length-1,e,t):t(null,null,-1)})},d.prototype.ready=function(e){var t=this;this.feed.ready(function(r){if(r)return e(r);(-1===t.version||-1===t._head)&&t.feed.length>t._offset&&(t.version=t.feed.length-1),e(null)})},d.prototype.history=function(e){e=this._defaultOpts(e),this._offset&&(e.start=Math.max(e.start||0,this._offset)),this._head>-1&&(e.end=this._head+1);var t=e.start||0,r=this;return e.valueEncoding={encode:function(){},decode:function(e){return r._node(o.Node.decode(e),t++)}},this.feed.createReadStream(e)},d.prototype.diff=function(e,t){"number"==typeof e&&(e=this.checkout(e)),t=this._defaultOpts(t);var r=this,i=!1!==t.puts,s=!1!==t.dels,o=["/"],a=!0,c={};t.reverse&&(r=e,e=this);var f=n.obj(h);return f;function h(t,n){return a?function(t,r){a=!1,e.head(function(e,n){if(e)return r(e);if(!n||n.value)return h(t,r);for(var i=n.name.split("/"),s=0;s<i.length;s++)c[i.slice(0,s).join("/")||"/"]=!0;h(t,r)})}(t,n):o.length?void function(t,n){var i={};e.list(t,{node:!0},function(e,s){if(e&&!e.notFound)return n(e);s||(s=[]),r.list(t,{node:!0},function(e,r){if(e&&!e.notFound)return n(e);r||(r=[]);for(var a=[],f=0,h=0;f<s.length&&h<r.length;)if(s[f].version===r[h].version){var l=d(t,s[f].name);c.hasOwnProperty(l)&&!i[l]&&(i[l]=!0,o.push(l)),f++,h++}else s[f].version<r[h].version?u(t,!0,s[f++],i,a):u(t,!1,r[h++],i,a);for(;f<s.length;f++)u(t,!0,s[f],i,a);for(;h<r.length;h++)u(t,!1,r[h],i,a);n(null,a)})})}(o.pop(),function(e,r){if(e)return n(e);if(!r.length)return h(t,n);for(var i=0;i<r.length-1;i++)f.push(r[i]);n(null,r[r.length-1])}):n(null,null)}function u(e,t,r,n,a){if((!t||i)&&(t||s)){var c=r.name,f=d(e,r.name);c===f&&a.push({type:t?"put":"del",name:r.name,version:r.version,value:r.value}),n.hasOwnProperty(f)||(n[f]=!0,o.push(f))}}function d(e,t){return"/"+p(t).slice(0,p(e).length+1).join("/")}},d.prototype._node=function(e,t){return{type:e.value?"put":"del",version:t,name:e.name,value:e.value&&this._codec.decode(e.value)}},d.prototype._init=function(e,t,r){for(var n=[];e.length>=n.length;)n.push([this.feed.length]);var i={name:l(e),value:this._codec.encode(t),paths:this._deflate(this.feed.length,n)};this.version=this.feed.length,this.feed.append(o.Node.encode(i),r)},d.prototype._getAndDecode=function(e,t,r){t&&t.cached&&(t.wait=!1);var n=this,i=this._cache&&this._cache.get(e);if(i)return u(r,null,i,e);this.feed.get(e,t,function(t,i){if(t)return r(t);try{var s=new y(o.Node.decode(i),e)}catch(t){return r(t)}n._cache&&n._cache.set(e,s),r(null,s,e)})},d.prototype._getAll=function(e,t,r){t&&t.cached&&(e=this._onlyCached(e));var n=new Array(e.length),i=e.length,s=null;if(!i)return r(null,n,e);for(var o=0;o<e.length;o++)this._getAndDecode(e[o],t,a);function a(t,o,a){t?s=t:n[e.indexOf(a)]=o,--i||(s?r(s):r(null,n,e))}},d.prototype._onlyCached=function(e){for(var t=[],r=0;r<e.length;r++)this.feed.has(e[r])&&t.push(e[r]);return t},d.prototype._deflate=function(e,t){var n,i=!0,o=11,a=0;for(a=0;a<t.length;a++)o+=11*(n=t[a]).length+11,n[n.length-1]!==e&&(i=!1);var c=0;i&&(c|=1);var f=new r(o),h=0;for(f[h++]=c,a=0;a<t.length;a++){n=t[a];var u=0,d=i?n.length-1:n.length;s.encode(d,f,h),h+=s.encode.bytes;for(var l=0;l<d;l++)s.encode(n[l]-u,f,h),h+=s.encode.bytes,u=n[l]}if(h>f.length)throw new Error("Assert error: buffer length too small");return f.slice(0,h)},d.prototype._inflate=function(e,t){var r=0,n=s.decode(t,r);r+=s.decode.bytes;for(var i=!!(1&n),o=[];r<t.length;){var a=s.decode(t,r);r+=s.decode.bytes;for(var c=new Array(i?a+1:a),f=0;f<a;f++){if(r>=t.length)throw new Error("Invalid index");c[f]=s.decode(t,r)+(f?c[f-1]:0),r+=s.decode.bytes}i&&(c[f]=e),o.push(c)}return o},d.prototype._defaultOpts=function(e){return e?(void 0===e.wait&&(e.wait=this._wait),void 0===e.cached&&(e.cached=this._cached),void 0===e.node&&(e.node=this._asNode),e):{wait:this._wait,cached:this._cached,node:this._asNode}}}).call(this,e("buffer").Buffer)},{"./messages":170,"array-lru":178,buffer:48,codecs:171,events:83,from2:266,inherits:313,mutexify:340,"process-nextick-args":172,varint:175}],170:[function(e,t,r){(function(t){var n=e("protocol-buffers-encodings"),i=n.varint,s=n.skip,o=r.Node={buffer:!0,encodingLength:null,encode:null,decode:null};function a(e){return null!=e&&("number"!=typeof e||!isNaN(e))}!function(){var e=[n.string,n.bytes];function r(t){var r=0;if(!a(t.name))throw new Error("name is required");var n=e[0].encodingLength(t.name);if(r+=1+n,a(t.value)){var n=e[1].encodingLength(t.value);r+=1+n}if(a(t.paths)){var n=e[1].encodingLength(t.paths);r+=1+n}return r}o.encodingLength=r,o.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var c=o;if(!a(i.name))throw new Error("name is required");s[o++]=10;e[0].encode(i.name,s,o);o+=e[0].encode.bytes;a(i.value)&&(s[o++]=18,e[1].encode(i.value,s,o),o+=e[1].encode.bytes);a(i.paths)&&(s[o++]=26,e[1].encode(i.paths,s,o),o+=e[1].encode.bytes);n.bytes=o-c;return s},o.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={name:"",value:null,paths:null};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.name=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.value=e[1].decode(r,n),n+=e[1].decode.bytes;break;case 3:c.paths=e[1].decode(r,n),n+=e[1].decode.bytes;break;default:n=s(7&h,r,n)}}}}()}).call(this,e("buffer").Buffer)},{buffer:48,"protocol-buffers-encodings":361}],171:[function(e,t,r){(function(e){t.exports=n;var r=e.from&&e.from!==Uint8Array.from?e.from:e;function n(e){if("object"==typeof e&&e&&e.encode&&e.decode)return e;switch(e){case"ndjson":return n.ndjson;case"json":return n.json;case"ascii":return n.ascii;case"utf-8":case"utf8":return n.utf8;case"hex":return n.hex;case"base64":return n.base64;case"ucs-2":case"ucs2":return n.ucs2;case"utf16-le":case"utf16le":return n.utf16le}return n.binary}function i(t){return{encode:t?function(t){return new e(JSON.stringify(t)+"\n")}:function(t){return new e(JSON.stringify(t))},decode:function(e){return JSON.parse(e.toString())}}}function s(e){return{encode:function(t){return"string"!=typeof t&&(t=t.toString()),r(t,e)},decode:function(t){return t.toString(e)}}}n.ascii=s("ascii"),n.utf8=s("utf-8"),n.hex=s("hex"),n.base64=s("base64"),n.ucs2=s("ucs2"),n.utf16le=s("utf16le"),n.ndjson=i(!0),n.json=i(!1),n.binary={encode:function(e){return"string"==typeof e?r(e,"utf-8"):e},decode:function(e){return e}}}).call(this,e("buffer").Buffer)},{buffer:48}],172:[function(e,t,r){(function(e){"use strict";!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return e.nextTick(function(){t.apply(null,s)})}}:t.exports=e.nextTick}).call(this,e("_process"))},{_process:119}],173:[function(e,t,r){t.exports=function e(t,r){var s,o=0,r=r||0,a=0,c=r,f=t.length;do{if(c>=f)throw e.bytes=0,new RangeError("Could not decode varint");s=t[c++],o+=a<28?(s&i)<<a:(s&i)*Math.pow(2,a),a+=7}while(s>=n);e.bytes=c-r;return o};var n=128,i=127},{}],174:[function(e,t,r){t.exports=function e(t,r,o){r=r||[];o=o||0;var a=o;for(;t>=s;)r[o++]=255&t|n,t/=128;for(;t&i;)r[o++]=255&t|n,t>>>=7;r[o]=0|t;e.bytes=o-a+1;return r};var n=128,i=-128,s=Math.pow(2,31)},{}],175:[function(e,t,r){t.exports={encode:e("./encode.js"),decode:e("./decode.js"),encodingLength:e("./length.js")}},{"./decode.js":173,"./encode.js":174,"./length.js":176}],176:[function(e,t,r){var n=Math.pow(2,7),i=Math.pow(2,14),s=Math.pow(2,21),o=Math.pow(2,28),a=Math.pow(2,35),c=Math.pow(2,42),f=Math.pow(2,49),h=Math.pow(2,56),u=Math.pow(2,63);t.exports=function(e){return e<n?1:e<i?2:e<s?3:e<o?4:e<a?5:e<c?6:e<f?7:e<h?8:e<u?9:10}},{}],177:[function(e,t,r){var n=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];t.exports=function(e){for(var t=0,r=0,i=0;i<8;i++)e=(e-(r=255&e))/256,t=65535&(t<<8^n[255&(t>>8^r)]);return t}},{}],178:[function(e,t,r){var n=e("./crc16");function i(e,t){if(!(this instanceof i))return new i(e,t);for(t||(t={}),this.collisions=a(t.collisions||t.bucketSize||4),this.buckets=function(e,t){e=a(e);for(;e&t-1;)e<<=1;return e}(e,this.collisions)/this.collisions;this.buckets>65536;)this.buckets>>=1,this.collisions<<=1;var r;this.size=this.buckets*this.collisions,this.wrap=!t.indexedValues,this.cache=new Array(this.size),this.hash=65536===this.buckets?n:(r=this.buckets-1,function(e){return n(e)&r}),this.evict=t.evict||null}function s(e,t,r,n){for(;r>t;)e[r]=e[--r];e[t]=n}function o(e,t){this.index=e,this.value=t}function a(e){if(e&&!(e&e-1))return e;for(var t=1;t<e;)t<<=1;return t}t.exports=i,i.prototype.set=function(e,t){for(var r=this.collisions*this.hash(e),n=r+this.collisions,i=r,a=null;i<n;){if(!(a=this.cache[i]))return a=this.cache[i]=this.wrap?new o(e,t):t,void s(this.cache,r,i,a);if(a.index===e)return this.wrap?a.value=t:this.cache[i]=t,void s(this.cache,r,i,a);i++}this.wrap?(this.evict&&this.evict(a.index,a.value),a.index=e,a.value=t):(this.evict&&this.evict(a.index,a),this.cache[i-1]=t),s(this.cache,r,i-1,a)},i.prototype.get=function(e){for(var t=this.collisions*this.hash(e),r=t+this.collisions,n=t;n<r;){var i=this.cache[n++];if(!i)return null;if(i.index===e)return s(this.cache,t,n-1,i),this.wrap?i.value:i}return null}},{"./crc16":177}],179:[function(e,t,r){t.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(e),s=new Uint8Array(r-t),o=t,a=0;o<r;o++,a++)s[a]=i[o];return s.buffer}},{}],180:[function(e,t,r){t.exports=function(e){var t=!1,r=null,n=null,i=null;return function(o,a){t?(r||(r=[],n=[]),function(e,t){Array.isArray(t)?function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])}(e,t):e.push(t)}(r,o),a&&n.push(a)):(a&&(i=[a]),t=!0,e(Array.isArray(o)?o:[o],s))};function s(o){i&&function(e,t){for(var r=0;r<e.length;r++)e[r](t)}(i,o),t=!1,i=n;var a=r;if(r=null,n=null,!a||!a.length){if(!i||!i.length)return void(i=null);a||(a=[])}t=!0,e(a,s)}}},{}],181:[function(e,t,r){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},{}],182:[function(e,t,r){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),n=0;n<e.length;n++)t[e.charCodeAt(n)]=n;r.encode=function(t){var r,n=new Uint8Array(t),i=n.length,s="";for(r=0;r<i;r+=3)s+=e[n[r]>>2],s+=e[(3&n[r])<<4|n[r+1]>>4],s+=e[(15&n[r+1])<<2|n[r+2]>>6],s+=e[63&n[r+2]];return i%3==2?s=s.substring(0,s.length-1)+"=":i%3==1&&(s=s.substring(0,s.length-2)+"=="),s},r.decode=function(e){var r,n,i,s,o,a=.75*e.length,c=e.length,f=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var h=new ArrayBuffer(a),u=new Uint8Array(h);for(r=0;r<c;r+=4)n=t[e.charCodeAt(r)],i=t[e.charCodeAt(r+1)],s=t[e.charCodeAt(r+2)],o=t[e.charCodeAt(r+3)],u[f++]=n<<2|i>>4,u[f++]=(15&i)<<4|s>>2,u[f++]=(3&s)<<6|63&o;return h}}()},{}],183:[function(e,t,r){var n=e("varint"),i=e("buffer-alloc-unsafe");t.exports=function e(t){var r={};r.align=e;r.encode=function e(t,r,n){n||(n=0);r||(r=i(o(t)));var a=new s(t,r,n);c(a);e.bytes=a.outputOffset-n;return r};r.encode.bytes=0;r.encodingLength=o;r.decode=function e(t,r){r||(r=0);var s=i(a(t,r));var o=0;for(;r<t.length;){var c=n.decode(t,r),f=1&c,h=f?(c-(3&c))/4:c/2;r+=n.decode.bytes,f?s.fill(2&c?255:0,o,o+h):(t.copy(s,o,r,r+h),r+=h),o+=h}s.fill(0,o);e.bytes=t.length-r;return s};r.decode.bytes=0;r.decodingLength=a;return r;function s(e,t,r){this.inputOffset=0,this.inputLength=e.length,this.input=e,this.outputOffset=r,this.output=t}function o(e){var t=new s(e,null,0);return c(t),t.outputOffset}function a(e,r){r||(r=0);for(var i=0;r<e.length;){var s=n.decode(e,r);r+=n.decode.bytes;var o=1&s,a=o?(s-(3&s))/4:s/2;i+=a,o||(r+=a)}if(r>e.length)throw new Error("Invalid RLE bitfield");return i&t-1?i+(t-(i&t-1)):i}function c(e){for(var t=0,r=0,i=e.input;e.inputLength>0&&!i[e.inputLength-1];)e.inputLength--;for(var s=0;s<e.inputLength;s++)i[s]!==r?(t&&h(e,s,t,r),0===i[s]||255===i[s]?(r=i[s],t=1):t=0):t++;t&&h(e,e.inputLength,t,r),function(e){var t=e.inputLength-e.inputOffset;if(!t)return;e.output?f(e,e.inputLength):e.outputOffset+=t+n.encodingLength(2*t);e.inputOffset=e.inputLength}(e)}function f(e,t){var r=t-e.inputOffset;n.encode(2*r,e.output,e.outputOffset),e.outputOffset+=n.encode.bytes,e.input.copy(e.output,e.outputOffset,e.inputOffset,t),e.outputOffset+=r}function h(e,t,r,i){var s=t-r-e.inputOffset,o=s?n.encodingLength(2*s)+s:0,a=4*r+(i?2:0)+1,c=o+n.encodingLength(a),h=n.encodingLength(2*(t-e.inputOffset))+t-e.inputOffset;if(!(c>=h)){if(!e.output)return e.outputOffset+=c,void(e.inputOffset=t);s&&f(e,t-r),n.encode(a,e.output,e.outputOffset),e.outputOffset+=n.encode.bytes,e.inputOffset=t}}}(1)},{"buffer-alloc-unsafe":188,varint:445}],184:[function(e,t,r){function n(t){if(!n.supported)return null;var r,s=t&&t.imports,o=(r="AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL","function"==typeof atob?new Uint8Array(atob(r).split("").map(i)):new(e("buffer").Buffer)(r,"base64")),a=null,c={buffer:o,memory:null,exports:null,realloc:function(e){c.exports.memory.grow(Math.ceil(Math.abs(e-c.memory.length)/65536)),c.memory=new Uint8Array(c.exports.memory.buffer)},onload:f};return f(function(){}),c;function f(e){if(c.exports)return e();if(a)a.then(e.bind(null,null)).catch(e);else{try{if(t&&t.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(o),s)})}catch(e){a=WebAssembly.instantiate(o,s).then(h)}f(e)}}function h(e){c.exports=e.instance.exports,c.memory=c.exports.memory&&c.exports.memory.buffer&&new Uint8Array(c.exports.memory.buffer)}}function i(e){return e.charCodeAt(0)}t.exports=n,n.supported="undefined"!=typeof WebAssembly},{}],185:[function(e,t,r){var n=e("nanoassert"),i=e("./blake2b")(),s=64,o=[];t.exports=l;var a=t.exports.BYTES_MIN=16,c=t.exports.BYTES_MAX=64,f=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),h=t.exports.KEYBYTES_MAX=64,u=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),d=t.exports.PERSONALBYTES=16;function l(e,t,r,p,b){if(!(this instanceof l))return new l(e,t,r,p,b);if(!i||!i.exports)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),!0!==b&&(n(e>=a,"digestLength must be at least "+a+", was given "+e),n(e<=c,"digestLength must be at most "+c+", was given "+e),null!=t&&n(t.length>=f,"key must be at least "+f+", was given "+t.length),null!=t&&n(t.length<=h,"key must be at least "+h+", was given "+t.length),null!=r&&n(r.length===u,"salt must be exactly "+u+", was given "+r.length),null!=p&&n(p.length===d,"personal must be exactly "+d+", was given "+p.length)),o.length||(o.push(s),s+=216),this.digestLength=e,this.finalized=!1,this.pointer=o.pop(),i.memory.fill(0,0,64),i.memory[0]=this.digestLength,i.memory[1]=t?t.length:0,i.memory[2]=1,i.memory[3]=1,r&&i.memory.set(r,32),p&&i.memory.set(p,48),this.pointer+216>i.memory.length&&i.realloc(this.pointer+216),i.exports.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),i.memory.fill(0,s,s+t.length),i.memory[this.pointer+200]=128)}function p(){}function b(e){return e<16?"0"+e.toString(16):e.toString(16)}l.prototype.update=function(e){return n(!1===this.finalized,"Hash instance finalized"),n(e,"input must be TypedArray or Buffer"),s+e.length>i.memory.length&&i.realloc(s+e.length),i.memory.set(e,s),i.exports.blake2b_update(this.pointer,s,s+e.length),this},l.prototype.digest=function(e){if(n(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,o.push(this.pointer),i.exports.blake2b_final(this.pointer),!e||"binary"===e)return i.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("hex"===e)return function(e,t,r){for(var n="",i=0;i<r;i++)n+=b(e[t+i]);return n}(i.memory,this.pointer+128,this.digestLength);n(e.length>=this.digestLength,"input must be TypedArray or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=i.memory[this.pointer+128+t];return e},l.prototype.final=l.prototype.digest,l.WASM=i&&i.buffer,l.SUPPORTED="undefined"!=typeof WebAssembly,l.ready=function(e){return e||(e=p),i?new Promise(function(t,r){i.onload(function(n){n?r():t(),e(n)})}):e(new Error("WebAssembly not supported"))},l.prototype.ready=l.ready},{"./blake2b":184,nanoassert:341}],186:[function(e,t,r){var n=e("nanoassert"),i=e("blake2b-wasm");function s(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function o(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var s=e[t+1]+n;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function a(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function c(e,t,r,n,i,a){var c=d[i],f=d[i+1],h=d[a],l=d[a+1];s(u,e,t),o(u,e,c,f);var p=u[n]^u[e],b=u[n+1]^u[e+1];u[n]=b,u[n+1]=p,s(u,r,n),p=u[t]^u[r],b=u[t+1]^u[r+1],u[t]=p>>>24^b<<8,u[t+1]=b>>>24^p<<8,s(u,e,t),o(u,e,h,l),p=u[n]^u[e],b=u[n+1]^u[e+1],u[n]=p>>>16^b<<16,u[n+1]=b>>>16^p<<16,s(u,r,n),p=u[t]^u[r],b=u[t+1]^u[r+1],u[t]=b>>>31^p<<1,u[t+1]=p>>>31^b<<1}var f=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),h=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),d=new Uint32Array(32);function l(e,t){var r=0;for(r=0;r<16;r++)u[r]=e.h[r],u[r+16]=f[r];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),r=0;r<32;r++)d[r]=a(e.b,4*r);for(r=0;r<12;r++)c(0,8,16,24,h[16*r+0],h[16*r+1]),c(2,10,18,26,h[16*r+2],h[16*r+3]),c(4,12,20,28,h[16*r+4],h[16*r+5]),c(6,14,22,30,h[16*r+6],h[16*r+7]),c(0,10,20,30,h[16*r+8],h[16*r+9]),c(2,12,22,24,h[16*r+10],h[16*r+11]),c(4,14,16,26,h[16*r+12],h[16*r+13]),c(6,8,18,28,h[16*r+14],h[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^u[r]^u[r+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function b(e,t,r,n){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,r&&p.set(r,32),n&&p.set(n,48);for(var i=0;i<16;i++)this.h[i]=f[i]^a(p,4*i);t&&(g(this,t),this.c=128)}function g(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,l(e,!1),e.c=0),e.b[e.c++]=t[r]}function y(e){return e<16?"0"+e.toString(16):e.toString(16)}b.prototype.update=function(e){return n(null!=e,"input must be Uint8Array or Buffer"),g(this,e),this},b.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return n(t.length>=this.outlen,"out must have at least outlen bytes of space"),function(e,t){e.t+=e.c;for(;e.c<128;)e.b[e.c++]=0;l(e,!0);for(var r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)}(this,t),"hex"===e?function(e){for(var t="",r=0;r<e.length;r++)t+=y(e[r]);return t}(t):t},b.prototype.final=b.prototype.digest,b.ready=function(e){i.ready(function(){e()})};var m=b;t.exports=function(e,t,r,i,s){return!0!==s&&(n(e>=v,"outlen must be at least "+v+", was given "+e),n(e<=_,"outlen must be at most "+_+", was given "+e),null!=t&&n(t.length>=w,"key must be at least "+w+", was given "+t.length),null!=t&&n(t.length<=A,"key must be at most "+A+", was given "+t.length),null!=r&&n(r.length===I,"salt must be exactly "+I+", was given "+r.length),null!=i&&n(i.length===E,"personal must be exactly "+E+", was given "+i.length)),new m(e,t,r,i)},t.exports.ready=function(e){i.ready(function(){e()})},t.exports.WASM_SUPPORTED=i.SUPPORTED,t.exports.WASM_LOADED=!1;var v=t.exports.BYTES_MIN=16,_=t.exports.BYTES_MAX=64,w=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),A=t.exports.KEYBYTES_MAX=64,I=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),E=t.exports.PERSONALBYTES=16;i.ready(function(e){e||(t.exports.WASM_LOADED=!0,m=i)})},{"blake2b-wasm":185,nanoassert:341}],187:[function(e,t,r){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),s=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e})}function c(e,t){t=t||{};var r=new n;return a(e).forEach(function(e){r.append(e)}),t.type?r.getBlob(t.type):r.getBlob()}function f(e,t){return new Blob(a(e),t||{})}"undefined"!=typeof Blob&&(c.prototype=Blob.prototype,f.prototype=Blob.prototype),t.exports=i?s?Blob:f:o?c:void 0},{}],188:[function(e,t,r){(function(e){t.exports=function(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return e.allocUnsafe?e.allocUnsafe(t):new e(t)}}).call(this,e("buffer").Buffer)},{buffer:48}],189:[function(e,t,r){(function(r){var n=e("buffer-fill"),i=e("buffer-alloc-unsafe");t.exports=function(e,t,s){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative');if(r.alloc)return r.alloc(e,t,s);var o=i(e);return 0===e?o:void 0===t?n(o,0):("string"!=typeof s&&(s=void 0),n(o,t,s))}}).call(this,e("buffer").Buffer)},{buffer:48,"buffer-alloc-unsafe":188,"buffer-fill":190}],190:[function(e,t,r){(function(e){var r=function(){try{if(!e.isEncoding("latin1"))return!1;var t=e.alloc?e.alloc(4):new e(4);return t.fill("ab","ucs2"),"61006200"===t.toString("hex")}catch(e){return!1}}();function n(e,t,r,n){if(r<0||n>e.length)throw new RangeError("Out of range index");return r>>>=0,(n=void 0===n?e.length:n>>>0)>r&&e.fill(t,r,n),e}t.exports=function(t,i,s,o,a){if(r)return t.fill(i,s,o,a);if("number"==typeof i)return n(t,i,s,o);if("string"==typeof i){if("string"==typeof s?(a=s,s=0,o=t.length):"string"==typeof o&&(a=o,o=t.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("latin1"===a&&(a="binary"),"string"==typeof a&&!e.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(""===i)return n(t,0,s,o);if(function(e){return 1===e.length&&e.charCodeAt(0)<256}(i))return n(t,i.charCodeAt(0),s,o);i=new e(i,a)}return e.isBuffer(i)?function(e,t,r,n){if(r<0||n>e.length)throw new RangeError("Out of range index");if(n<=r)return e;r>>>=0,n=void 0===n?e.length:n>>>0;for(var i=r,s=t.length;i<=n-s;)t.copy(e,i),i+=s;return i!==n&&t.copy(e,i,0,n-i),e}(t,i,s,o):n(t,0,s,o)}}).call(this,e("buffer").Buffer)},{buffer:48}],191:[function(e,t,r){(function(e){var r=Object.prototype.toString,n="function"==typeof e.alloc&&"function"==typeof e.allocUnsafe&&"function"==typeof e.from;t.exports=function(t,i,s){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return o=t,"ArrayBuffer"===r.call(o).slice(8,-1)?function(t,r,i){r>>>=0;var s=t.byteLength-r;if(s<0)throw new RangeError("'offset' is out of bounds");if(void 0===i)i=s;else if((i>>>=0)>s)throw new RangeError("'length' is out of bounds");return n?e.from(t.slice(r,r+i)):new e(new Uint8Array(t.slice(r,r+i)))}(t,i,s):"string"==typeof t?function(t,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return n?e.from(t,r):new e(t,r)}(t,i):n?e.from(t):new e(t);var o}}).call(this,e("buffer").Buffer)},{buffer:48}],192:[function(e,t,r){var n=e("readable-stream"),i=e("inherits"),s=e("buffer-from")([0]),o=function(e,t,r){if(!(this instanceof o))return new o(e,t,r);"function"==typeof e&&(r=t,t=e,e={}),n.Writable.call(this,e),this._worker=t,this._flush=r,this.destroyed=!1};i(o,n.Writable),o.obj=function(e,t,r){return"function"==typeof e?o.obj(null,e,t):(e||(e={}),e.objectMode=!0,new o(e,t,r))},o.prototype.end=function(e,t,r){return this._flush?"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(e&&this.write(e),this._writableState.ending||this.write(s),n.Writable.prototype.end.call(this,r)):n.Writable.prototype.end.apply(this,arguments)},o.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error"),this.emit("close"))},o.prototype._write=function(e,t,r){e===s?this._flush(r):this._worker([e],r)},o.prototype._writev=function(e,t){var r=e.length;if(e[e.length-1].chunk===s&&(t=this._flusher(t),!--r))return t();for(var n=new Array(r),i=0;i<r;i++)n[i]=e[i].chunk;this._worker(n,t)},o.prototype._flusher=function(e){var t=this;return function(r){if(r)return e(r);t._flush(e)}},t.exports=o},{"buffer-from":191,inherits:313,"readable-stream":201}],193:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var s=Object.create(e("core-util-is"));s.inherits=e("inherits");var o=e("./_stream_readable"),a=e("./_stream_writable");s.inherits(u,o);for(var c=i(a.prototype),f=0;f<c.length;f++){var h=c[f];u.prototype[h]||(u.prototype[h]=a.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"./_stream_readable":195,"./_stream_writable":197,"core-util-is":208,inherits:313,"process-nextick-args":359}],194:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_transform"),i=Object.create(e("core-util-is"));function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(s,n),s.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":196,"core-util-is":208,inherits:313}],195:[function(e,t,r){(function(r,n){"use strict";var i=e("process-nextick-args");t.exports=v;var s,o=e("isarray");v.ReadableState=m;e("events").EventEmitter;var a=function(e,t){return e.listeners(t).length},c=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=n.Uint8Array||function(){};var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var d=e("util"),l=void 0;l=d&&d.debuglog?d.debuglog("stream"):function(){};var p,b=e("./internal/streams/BufferList"),g=e("./internal/streams/destroy");u.inherits(v,c);var y=["error","close","destroy","pause","resume"];function m(t,r){t=t||{};var n=r instanceof(s=s||e("./_stream_duplex"));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function v(t){if(s=s||e("./_stream_duplex"),!(this instanceof v))return new v(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function _(e,t,r,n,i){var s,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,E(e)}(e,o)):(i||(s=function(e,t){var r;n=t,f.isBuffer(n)||n instanceof h||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=function(e){return f.from(e)}(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):k(e,o)):w(e,o,t,!1))):n||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&E(e)),k(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},v.prototype.unshift=function(e){return _(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var A=8388608;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(C,e):C(e))}function C(e){l("emit readable"),e.emit("readable"),M(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(S,e,t))}function S(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function x(e){l("readable nexttick read 0"),e.read(0)}function B(e,t){t.reading||(l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0===(e-=o)){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=f.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),0===(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):E(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,l("pipe count=%d opts=%j",s.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?h:v;function f(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",y),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",g),e.removeListener("unpipe",f),n.removeListener("end",h),n.removeListener("end",v),n.removeListener("data",b),d=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function h(){l("onend"),e.end()}s.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",f);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",u);var d=!1;var p=!1;function b(t){l("ondata"),p=!1,!1!==e.write(t)||p||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==j(s.pipes,e))&&!d&&(l("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){l("onerror",t),v(),e.removeListener("error",g),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",m),v()}function m(){l("onfinish"),e.removeListener("close",y),v()}function v(){l("unpipe"),n.unpipe(e)}return n.on("data",b),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",m),e.emit("pipe",n),s.flowing||(l("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=j(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},v.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):i.nextTick(x,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),this},v.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<y.length;s++)e.on(y[s],this.emit.bind(this,y[s]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=R}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":193,"./internal/streams/BufferList":198,"./internal/streams/destroy":199,"./internal/streams/stream":200,_process:119,"core-util-is":208,events:83,inherits:313,isarray:316,"process-nextick-args":359,"safe-buffer":202,"string_decoder/":203,util:18}],196:[function(e,t,r){"use strict";t.exports=o;var n=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function s(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){c(e,t,r)}):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":193,"core-util-is":208,inherits:313}],197:[function(e,t,r){(function(r,n,i){"use strict";var s=e("process-nextick-args");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=m;var a,c=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?i:s.nextTick;m.WritableState=y;var f=Object.create(e("core-util-is"));f.inherits=e("inherits");var h={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,l=n.Uint8Array||function(){};var p,b=e("./internal/streams/destroy");function g(){}function y(t,r){a=a||e("./_stream_duplex"),t=t||{};var n=r instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,f=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(f||0===f)?f:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(s.nextTick(i,n),s.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,i);else{var o=A(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?c(_,e,r,o,i):_(e,r,o,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(t){if(a=a||e("./_stream_duplex"),!(p.call(m,this)||this instanceof a))return new m(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function v(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,v(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,h=r.encoding,u=r.callback;if(v(e,t,!1,t.objectMode?1:f.length,f,h,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var r=A(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(I,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}f.inherits(m,u),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===m&&(e&&e._writableState instanceof y)}})):p=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=e,d.isBuffer(n)||n instanceof l);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=g),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),s.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),s.nextTick(n,o),i=!1),i}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,n,i,s);return c}(this,i,a,e,t,r)),o},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?s.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=b.destroy,m.prototype._undestroy=b.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":193,"./internal/streams/destroy":199,"./internal/streams/stream":200,_process:119,"core-util-is":208,inherits:313,"process-nextick-args":359,"safe-buffer":202,timers:155,"util-deprecate":442}],198:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{dup:134,"safe-buffer":202,util:18}],199:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{dup:135,"process-nextick-args":359}],200:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{dup:136,events:83}],201:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./lib/_stream_duplex.js":193,"./lib/_stream_passthrough.js":194,"./lib/_stream_readable.js":195,"./lib/_stream_transform.js":196,"./lib/_stream_writable.js":197,dup:140}],202:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{buffer:48,dup:137}],203:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":202}],204:[function(e,t,r){(function(e){function r(e){if("object"==typeof e&&e&&e.encode&&e.decode)return e;switch(e){case"ndjson":return r.ndjson;case"json":return r.json;case"ascii":return r.ascii;case"utf-8":case"utf8":return r.utf8;case"hex":return r.hex;case"base64":return r.base64;case"ucs-2":case"ucs2":return r.ucs2;case"utf16-le":case"utf16le":return r.utf16le}return r.binary}function n(t){return{encode:t?function(t){return e.from(JSON.stringify(t)+"\n")}:function(t){return e.from(JSON.stringify(t))},decode:function(e){return JSON.parse(e.toString())}}}function i(t){return{encode:function(r){return"string"!=typeof r&&(r=r.toString()),e.from(r,t)},decode:function(e){return e.toString(t)}}}t.exports=r,r.ascii=i("ascii"),r.utf8=i("utf-8"),r.hex=i("hex"),r.base64=i("base64"),r.ucs2=i("ucs2"),r.utf16le=i("utf16le"),r.ndjson=n(!0),r.json=n(!1),r.binary={encode:function(t){return"string"==typeof t?e.from(t,"utf-8"):e.isBuffer(t)?t:e.from(t.buffer,t.byteOffset,t.byteLength)},decode:function(e){return e}}}).call(this,e("buffer").Buffer)},{buffer:48}],205:[function(e,t,r){var n=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},{}],206:[function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}void 0!==t&&(t.exports=n),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],207:[function(e,t,r){t.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],208:[function(e,t,r){(function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../../../../../app/node_modules/is-buffer/index.js")})},{"../../../../../../app/node_modules/is-buffer/index.js":101}],209:[function(e,t,r){t.exports=function(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}},{}],210:[function(e,t,r){var n=e("./lib/fingerprint.js"),i=e("./lib/pad.js"),s=e("./lib/getRandomValue.js"),o=0,a=4,c=36,f=Math.pow(c,a);function h(){return i((s()*f<<0).toString(c),a)}function u(){return o=o<f?o:0,++o-1}function d(){return"c"+(new Date).getTime().toString(c)+i(u().toString(c),a)+n()+(h()+h())}d.slug=function(){var e=(new Date).getTime().toString(36),t=u().toString(36).slice(-4),r=n().slice(0,1)+n().slice(-1),i=h().slice(-2);return e.slice(-2)+t+r+i},d.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},d.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return t>=7&&t<=10},d.fingerprint=n,t.exports=d},{"./lib/fingerprint.js":211,"./lib/getRandomValue.js":212,"./lib/pad.js":213}],211:[function(e,t,r){var n=e("./pad.js"),i="object"==typeof window?window:self,s=Object.keys(i).length,o=n(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+s.toString(36),4);t.exports=function(){return o}},{"./pad.js":213}],212:[function(e,t,r){var n,i="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(i){var s=Math.pow(2,32)-1;n=function(){return Math.abs(i.getRandomValues(new Uint32Array(1))[0]/s)}}else n=Math.random;t.exports=n},{}],213:[function(e,t,r){t.exports=function(e,t){var r="000000000"+e;return r.substr(r.length-t)}},{}],214:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer;function i(e){if("string"==typeof e)return i(s(e));if(!n.isBuffer(e))throw new Error("Not a buffer");if(32!==e.length)throw new Error("Invalid buffer");return e.toString("hex")}function s(e){if(n.isBuffer(e))return s(i(e));if("string"!=typeof e)throw new Error("Not a string");var t=/([a-f0-9]{64,65})/i.exec(e);if(!t||64!==t[1].length)throw new Error("Invalid key");return n.from(t[1],"hex")}r.encode=r.toStr=i,r.decode=r.toBuf=s},{"safe-buffer":399}],215:[function(e,t,r){var n={dns:{server:["discovery1.datprotocol.com","discovery2.datprotocol.com"],domain:"dat.local"},dht:{bootstrap:["bootstrap1.datprotocol.com:6881","bootstrap2.datprotocol.com:6881","bootstrap3.datprotocol.com:6881","bootstrap4.datprotocol.com:6881"]}};t.exports=function(e){return Object.assign({},n,e)}},{}],216:[function(e,t,r){(function(n){r.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),e.splice(i,0,r)},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=function(){let e;try{e=r.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},r.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage=function(){try{return localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=e("./common")(r);const{formatters:i}=t.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,e("_process"))},{"./common":217,_process:119}],217:[function(e,t,r){t.exports=function(t){function r(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let t;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),s=i-(t||i);r.diff=s,r.prev=t,r.curr=i,t=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return t;a++;const s=n.formatters[i];if("function"==typeof s){const n=e[a];t=s.call(r,n),e.splice(a,1),a--}return t}),n.formatArgs.call(r,e),(r.log||n.log).apply(r,e)}return o.namespace=e,o.enabled=n.enabled(e),o.useColors=n.useColors(),o.color=r(e),o.destroy=i,o.extend=s,"function"==typeof n.init&&n.init(o),n.instances.push(o),o}function i(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),Object.keys(t).forEach(e=>{n[e]=t[e]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=r,n.enable(n.load()),n}},{ms:339}],218:[function(e,t,r){"use strict";const n=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},i=({clearTimeout:e,setTimeout:t,willResolve:r})=>(i,{value:s,signal:o}={})=>{if(o&&o.aborted)return Promise.reject(n());let a,c,f;const h=e||clearTimeout,u=()=>{h(a),f(n())},d=()=>{o&&o.removeEventListener("abort",u)},l=new Promise((e,n)=>{c=(()=>{d(),r?e(s):n(s)}),f=n,a=(t||setTimeout)(c,i)});return o&&o.addEventListener("abort",u,{once:!0}),l.clear=(()=>{h(a),a=null,d(),c()}),l},s=i({willResolve:!0});s.reject=i({willResolve:!1}),s.createWithTimers=(({clearTimeout:e,setTimeout:t})=>{const r=i({clearTimeout:e,setTimeout:t,willResolve:!0});return r.reject=i({clearTimeout:e,setTimeout:t,willResolve:!1}),r}),t.exports=s,t.exports.default=s},{}],219:[function(e,t,r){(function(r){var n=e("events"),i=e("./"),s=e("./proxystream");t.exports=class extends n{constructor(e){super();var t=e.connection;if(!t)throw new TypeError("Must specify `connection` in options");this.connecting=0,this.queued=0,this.connected=0,this._handleOpen=this._handleOpen.bind(this),this._handleEnd=this._handleEnd.bind(this),e.stream&&(this._replicate=e.stream),this._channels=new Set,this.reconnect(t)}reconnect(e){this._protocol&&(this._protocol.removeListener("close",this._handleEnd),this._protocol.end()),this._protocol=new i(e),this._protocol.on("swarm:open",this._handleOpen),this._protocol.connect(),this._protocol.once("close",this._handleEnd);for(let e of this._channels)this.join(e)}_handleEnd(){this._protocol=null,this.emit("disconnected")}_handleOpen(e,t){var r=new s(this._protocol,e),n={type:"proxy",initiator:!1,id:null,host:e.toString("hex"),port:-1,channel:t},i=this._replicate(n),o=this;o.emit("handshaking",r,n),i.once("handshake",function(e){if(e){var t=e.toString("hex");n.id=t}o.emit("connection",r,n)}),i.pipe(r).pipe(i)}join(e,t,n){"string"==typeof e&&(e=r.from(e,"hex")),n||"function"!=typeof t||(n=t),this._protocol.join(e),this._channels.add(e.toString("hex")),n&&n()}leave(e,t){"string"==typeof e&&(e=r.from(e,"hex")),this._protocol.leave(e),this._channels.delete(e.toString("hex")),t&&t()}listen(){}close(e){this._protocol.end(e)}_replicate(e){throw new Error("Missing `stream` in options")}}}).call(this,e("buffer").Buffer)},{"./":220,"./proxystream":233,buffer:48,events:83}],220:[function(e,t,r){var n=e("readable-stream").Duplex,i=e("length-prefixed-stream"),s=e("./messages");t.exports=class extends n{constructor(e){super(),this.setMaxListeners(256),e.pipe(i.decode()).pipe(this).pipe(i.encode()).pipe(e)}sendEvent(e,t,r){this.push(s.SwarmEvent.encode({type:s.EventType[e],id:t,data:r}))}connect(){this.sendEvent("CONNECT")}join(e){this.sendEvent("JOIN",e)}leave(e){this.sendEvent("LEAVE",e)}openStream(e,t){this.sendEvent("OPEN",e,t)}closeStream(e){this.sendEvent("CLOSE",e)}streamData(e,t){this.sendEvent("DATA",e,t)}_write(e,t,r){try{var n=s.SwarmEvent.decode(e);switch(n.type){case s.EventType.CONNECT:this.emit("swarm:connect");break;case s.EventType.JOIN:this.emit("swarm:join",n.id);break;case s.EventType.LEAVE:this.emit("swarm:leave",n.id);break;case s.EventType.OPEN:this.emit("swarm:open",n.id,n.data);break;case s.EventType.CLOSE:this.emit("swarm:close",n.id);break;case s.EventType.DATA:this.emit("swarm:data",n.id,n.data)}r()}catch(e){r(e)}}_read(){}}},{"./messages":221,"length-prefixed-stream":320,"readable-stream":230}],221:[function(e,t,r){(function(t){var n=e("protocol-buffers-encodings"),i=n.varint,s=n.skip;r.EventType={CONNECT:1,JOIN:2,LEAVE:3,OPEN:4,CLOSE:5,DATA:6};var o=r.SwarmEvent={buffer:!0,encodingLength:null,encode:null,decode:null};function a(e){return null!=e&&("number"!=typeof e||!isNaN(e))}!function(){var e=[n.enum,n.bytes];function r(t){var r=0;if(!a(t.type))throw new Error("type is required");var n=e[0].encodingLength(t.type);if(r+=1+n,a(t.id)){var n=e[1].encodingLength(t.id);r+=1+n}if(a(t.data)){var n=e[1].encodingLength(t.data);r+=1+n}return r}o.encodingLength=r,o.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var c=o;if(!a(i.type))throw new Error("type is required");s[o++]=8;e[0].encode(i.type,s,o);o+=e[0].encode.bytes;a(i.id)&&(s[o++]=18,e[1].encode(i.id,s,o),o+=e[1].encode.bytes);a(i.data)&&(s[o++]=26,e[1].encode(i.data,s,o),o+=e[1].encode.bytes);n.bytes=o-c;return s},o.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={type:1,id:null,data:null};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.type=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.id=e[1].decode(r,n),n+=e[1].decode.bytes;break;case 3:c.data=e[1].decode(r,n),n+=e[1].decode.bytes;break;default:n=s(7&h,r,n)}}}}()}).call(this,e("buffer").Buffer)},{buffer:48,"protocol-buffers-encodings":361}],222:[function(e,t,r){arguments[4][193][0].apply(r,arguments)},{"./_stream_readable":224,"./_stream_writable":226,"core-util-is":208,dup:193,inherits:313,"process-nextick-args":359}],223:[function(e,t,r){arguments[4][194][0].apply(r,arguments)},{"./_stream_transform":225,"core-util-is":208,dup:194,inherits:313}],224:[function(e,t,r){arguments[4][195][0].apply(r,arguments)},{"./_stream_duplex":222,"./internal/streams/BufferList":227,"./internal/streams/destroy":228,"./internal/streams/stream":229,_process:119,"core-util-is":208,dup:195,events:83,inherits:313,isarray:316,"process-nextick-args":359,"safe-buffer":231,"string_decoder/":232,util:18}],225:[function(e,t,r){arguments[4][196][0].apply(r,arguments)},{"./_stream_duplex":222,"core-util-is":208,dup:196,inherits:313}],226:[function(e,t,r){arguments[4][197][0].apply(r,arguments)},{"./_stream_duplex":222,"./internal/streams/destroy":228,"./internal/streams/stream":229,_process:119,"core-util-is":208,dup:197,inherits:313,"process-nextick-args":359,"safe-buffer":231,timers:155,"util-deprecate":442}],227:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{dup:134,"safe-buffer":231,util:18}],228:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{dup:135,"process-nextick-args":359}],229:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{dup:136,events:83}],230:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./lib/_stream_duplex.js":222,"./lib/_stream_passthrough.js":223,"./lib/_stream_readable.js":224,"./lib/_stream_transform.js":225,"./lib/_stream_writable.js":226,dup:140}],231:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{buffer:48,dup:137}],232:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":231}],233:[function(e,t,r){var n=e("readable-stream").Duplex;t.exports=class extends n{constructor(e,t){super(),this._id=t,this._protocol=e,this._isClosed=!1,this._handle_data=this._handleData.bind(this),this._handle_close=this._handleClose.bind(this),this._protocol.on("swarm:data",this._handle_data),this._protocol.on("swarm:close",this._handle_close)}_handleData(e,t){this._isId(e)&&this.push(t)}_handleClose(e){this._isId(e)&&(this.end(),this.emit("close"),this._cleanup())}_cleanup(){this._isClosed=!0,this._protocol.removeListener("swarm:data",this._handle_data),this._protocol.removeListener("swarm:close",this._handle_close)}_isId(e){return e.toString("hex")===this._id.toString("hex")}_read(){}_write(e,t,r){this._protocol.streamData(this._id,e),r()}_final(e){this._isClosed||(this._protocol.closeStream(this._id),this._cleanup()),e()}}},{"readable-stream":230}],234:[function(e,t,r){(function(r){const n=e("@geut/discovery-swarm-webrtc"),i=e("discovery-swarm-stream/client"),s=e("websocket-stream"),o=e("randombytes"),a=e("events"),c=["https://geut-webrtc-signal.herokuapp.com/"],f="wss://discoveryswarm.mauve.moe",h="ws://localhost:3472",u=1/0,d=2e3,l=5e3,p=e=>`Could not connect to local gateway at ${h}, trying remote gateway at ${e}.\nThis isn't an error unless you're trying to use a local gateway. `,b=self.location.href.startsWith("https"),g=e=>r.isBuffer(e)?e:r.from(e);class y extends a{constructor(e={}){super();const t=e.bootstrap||c,r=e.discovery||f,i=e.id||o(32),s=e.stream;this.id=i,this.stream=s,this.maxConnections=e.maxConnections||u,this.channels=new Map,this.webrtc=n({id:g(i),bootstrap:t,stream:s}),this.dss=new m({id:i,stream:s,discovery:v(r)}),this.webrtc.on("connection",(e,t)=>this._handleConnection(e,t)),this.dss.on("connection",(e,t)=>this._handleConnection(e,t))}_handleConnection(e,t){const r=t.channel.toString("hex"),n=this.channels.get(r);if(n>=this.maxConnections)e.end();else{this.channels.set(r,n+1);let i=!1;const s=()=>{if(i)return;if(i=!0,!this.channels.has(r))return;const e=this.channels.get(r);this.channels.set(r,e-1),e||(this.leave(r),this.join(r))};e.once("close",s),e.once("error",s),this.emit("connection",e,t)}}join(e,t={}){const r=(e=g(e)).toString("hex");if(this.channels.has(r))return;this.channels.set(r,0),this.webrtc.join(e);const n=()=>{this.channels.has(r)&&(this.removeListener("connection",i),this.dss.join(e,t))},i=(e,t)=>{t.channel.toString("hex")===r&&(this.removeListener("connection",i),clearTimeout(s),s=setTimeout(n,l))};let s=setTimeout(n,d);this.on("connection",i)}leave(e){const t=(e=g(e)).toString("hex");this.channels.has(t)&&(this.channels.delete(t),this.webrtc.leave(e),this.dss.leave(e))}listen(){setTimeout(()=>{this.emit("listening")},0)}address(){return{port:-1}}close(e){this.dss.close(()=>{this.webrtc.close(e)})}destroy(e){this.close(e)}}class m extends i{constructor(e){const t=e.discovery,r=e.stream,n=e.id;let i=null;try{i=s(h)}catch(e){console.warn(p(t),e),i=s(t)}super({id:n,connection:i,stream:r}),this.connection=i,this._handleDisconnected=(()=>{this._reconnect()}),this.discoveryURL=t,this.connection.once("error",this._handleDisconnected),this.on("disconnected",this._handleDisconnected)}_reconnect(){this.connection=s(this.discoveryURL),this.reconnect(this.connection)}close(e){this.removeListener("disconnected",this._handleDisconnected),this.connection=null,super.close(e)}}function v(e){return b?e.startsWith("http:")?"https:"+e.slice(6):e.startsWith("ws:")?"wss:"+e.slice(3):e:e.startsWith("https:")?"http:"+e.slice(7):e.startsWith("wss:")?"ws:"+e.slice(4):e}t.exports=(e=>new y(e)),t.exports.DiscoverySwarmWeb=y,t.exports.DiscoverySwarmStreamWebsocket=m}).call(this,e("buffer").Buffer)},{"@geut/discovery-swarm-webrtc":163,buffer:48,"discovery-swarm-stream/client":219,events:83,randombytes:380,"websocket-stream":459}],235:[function(e,t,r){(function(r,n){var i=e("readable-stream"),s=e("end-of-stream"),o=e("inherits"),a=e("stream-shift"),c=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),f=function(e,t){e._corked?e.once("uncork",t):t()},h=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},u=function(e,t,r){if(!(this instanceof u))return new u(e,t,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};o(u,i.Duplex),u.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new u(e,t,r)},u.prototype.cork=function(){1==++this._corked&&this.emit("cork")},u.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},u.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,n=s(e,{writable:!0,readable:!1},h(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),n()},this.uncork()}else this.end()},u.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=s(e,{writable:!1,readable:!0},h(this)),o=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",o),this._readable2.on("end",a),this._unread=function(){r._readable2.removeListener("readable",o),r._readable2.removeListener("end",a),n()},this._forward()}},u.prototype._read=function(){this._drained=!0,this._forward()},u.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},u.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;r.nextTick(function(){t._destroy(e)})}},u.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},u.prototype._write=function(e,t,r){return this.destroyed?r():this._corked?f(this,this._write.bind(this,e,t,r)):e===c?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:r()):r()},u.prototype._finish=function(e){var t=this;this.emit("preend"),f(this,function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),f(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()})},u.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(c),i.Writable.prototype.end.call(this,r))},t.exports=u}).call(this,e("_process"),e("buffer").Buffer)},{_process:119,buffer:48,"end-of-stream":248,inherits:313,"readable-stream":244,"stream-shift":433}],236:[function(e,t,r){arguments[4][193][0].apply(r,arguments)},{"./_stream_readable":238,"./_stream_writable":240,"core-util-is":208,dup:193,inherits:313,"process-nextick-args":359}],237:[function(e,t,r){arguments[4][194][0].apply(r,arguments)},{"./_stream_transform":239,"core-util-is":208,dup:194,inherits:313}],238:[function(e,t,r){arguments[4][195][0].apply(r,arguments)},{"./_stream_duplex":236,"./internal/streams/BufferList":241,"./internal/streams/destroy":242,"./internal/streams/stream":243,_process:119,"core-util-is":208,dup:195,events:83,inherits:313,isarray:316,"process-nextick-args":359,"safe-buffer":245,"string_decoder/":246,util:18}],239:[function(e,t,r){arguments[4][196][0].apply(r,arguments)},{"./_stream_duplex":236,"core-util-is":208,dup:196,inherits:313}],240:[function(e,t,r){arguments[4][197][0].apply(r,arguments)},{"./_stream_duplex":236,"./internal/streams/destroy":242,"./internal/streams/stream":243,_process:119,"core-util-is":208,dup:197,inherits:313,"process-nextick-args":359,"safe-buffer":245,timers:155,"util-deprecate":442}],241:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{dup:134,"safe-buffer":245,util:18}],242:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{dup:135,"process-nextick-args":359}],243:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{dup:136,events:83}],244:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./lib/_stream_duplex.js":236,"./lib/_stream_passthrough.js":237,"./lib/_stream_readable.js":238,"./lib/_stream_transform.js":239,"./lib/_stream_writable.js":240,dup:140}],245:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{buffer:48,dup:137}],246:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":245}],247:[function(e,t,r){var n=e("end-of-stream");t.exports=function(e,t={}){return new Promise((r,i)=>{n(e,t,function(e){e?i(e):r()})})}},{"end-of-stream":248}],248:[function(e,t,r){(function(r){var n=e("once"),i=function(){},s=function(e,t,o){if("function"==typeof t)return s(e,null,t);t||(t={}),o=n(o||i);var a=e._writableState,c=e._readableState,f=t.readable||!1!==t.readable&&e.readable,h=t.writable||!1!==t.writable&&e.writable,u=!1,d=function(){e.writable||l()},l=function(){h=!1,f||o.call(e)},p=function(){f=!1,h||o.call(e)},b=function(t){o.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){o.call(e,t)},y=function(){r.nextTick(m)},m=function(){if(!u)return(!f||c&&c.ended&&!c.destroyed)&&(!h||a&&a.ended&&!a.destroyed)?void 0:o.call(e,new Error("premature close"))},v=function(){e.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?h&&!a&&(e.on("end",d),e.on("close",d)):(e.on("complete",l),e.on("abort",y),e.req?v():e.on("request",v)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",b),e.on("end",p),e.on("finish",l),!1!==t.error&&e.on("error",g),e.on("close",y),function(){u=!0,e.removeListener("complete",l),e.removeListener("abort",y),e.removeListener("request",v),e.req&&e.req.removeListener("finish",l),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",l),e.removeListener("exit",b),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",y)}};t.exports=s}).call(this,e("_process"))},{_process:119,once:348}],249:[function(e,t,r){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},{}],250:[function(e,t,r){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":251,"engine.io-parser":260}],251:[function(e,t,r){var n=e("./transports/index"),i=e("component-emitter"),s=e("debug")("engine.io-client:socket"),o=e("indexof"),a=e("engine.io-parser"),c=e("parseuri"),f=e("parseqs");function h(e,t){if(!(this instanceof h))return new h(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=h,h.priorWebsocketSuccess=!1,i(h.prototype),h.protocol=a.protocol,h.Socket=h,h.Transport=e("./transport"),h.transports=e("./transports/index"),h.parser=e("engine.io-parser"),h.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var r=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},h.prototype.open=function(){var e;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},h.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},h.prototype.probe=function(e){s('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,n=this;function i(){if(n.onlyBinaryUpgrades){var i=!this.supportsBinary&&n.transport.supportsBinary;r=r||i}r||(s('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!r)if("pong"===i.type&&"probe"===i.data){if(s('probe transport "%s" pong',e),n.upgrading=!0,n.emit("upgrading",t),!t)return;h.priorWebsocketSuccess="websocket"===t.name,s('pausing current transport "%s"',n.transport.name),n.transport.pause(function(){r||"closed"!==n.readyState&&(s("changing transport and sending upgrade packet"),d(),n.setTransport(t),t.send([{type:"upgrade"}]),n.emit("upgrade",t),t=null,n.upgrading=!1,n.flush())})}else{s('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,n.emit("upgradeError",o)}}))}function o(){r||(r=!0,d(),t.close(),t=null)}function a(r){var i=new Error("probe error: "+r);i.transport=t.name,o(),s('probe transport "%s" failed because of error: %s',e,r),n.emit("upgradeError",i)}function c(){a("transport closed")}function f(){a("socket closed")}function u(e){t&&e.name!==t.name&&(s('"%s" works - aborting "%s"',e.name,t.name),o())}function d(){t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",c),n.removeListener("close",f),n.removeListener("upgrading",u)}h.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",a),t.once("close",c),this.once("close",f),this.once("upgrading",u),t.open()},h.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},h.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},h.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},h.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},h.prototype.sendPacket=function(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:e,data:t,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}},h.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}function t(){e.onClose("forced close"),s("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function n(){e.once("upgrade",r),e.once("upgradeError",r)}return this},h.prototype.onError=function(e){s("socket error %j",e),h.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},h.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},h.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~o(this.transports,e[r])&&t.push(e[r]);return t}},{"./transport":252,"./transports/index":253,"component-emitter":259,debug:216,"engine.io-parser":260,indexof:312,parseqs:356,parseuri:357}],252:[function(e,t,r){var n=e("engine.io-parser"),i=e("component-emitter");function s(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}t.exports=s,i(s.prototype),s.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},s.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},s.prototype.onPacket=function(e){this.emit("packet",e)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":259,"engine.io-parser":260}],253:[function(e,t,r){var n=e("xmlhttprequest-ssl"),i=e("./polling-xhr"),s=e("./polling-jsonp"),o=e("./websocket");r.polling=function(e){var t=!1,r=!1,o=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),t=e.hostname!==location.hostname||c!==e.port,r=e.secure!==a}if(e.xdomain=t,e.xscheme=r,"open"in new n(e)&&!e.forceJSONP)return new i(e);if(!o)throw new Error("JSONP disabled");return new s(e)},r.websocket=o},{"./polling-jsonp":254,"./polling-xhr":255,"./websocket":257,"xmlhttprequest-ssl":258}],254:[function(e,t,r){var n=e("./polling"),i=e("component-inherit"),s=e("../globalThis");t.exports=h;var o,a=/\n/g,c=/\\n/g;function f(){}function h(e){n.call(this,e),this.query=this.query||{},o||(o=s.___eio=s.___eio||[]),this.index=o.length;var t=this;o.push(function(e){t.onData(e)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=f)},!1)}i(h,n),h.prototype.supportsBinary=!1,h.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},h.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},h.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,i=document.createElement("form"),s=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=o,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}function f(){h(),t()}function h(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(e){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),h(),e=e.replace(c,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&f()}:this.iframe.onload=f}},{"../globalThis":249,"./polling":256,"component-inherit":207}],255:[function(e,t,r){var n=e("xmlhttprequest-ssl"),i=e("./polling"),s=e("component-emitter"),o=e("component-inherit"),a=e("debug")("engine.io-client:polling-xhr"),c=e("../globalThis");function f(){}function h(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(t.exports=h,t.exports.Request=u,o(h,i),h.prototype.supportsBinary=!0,h.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},h.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),i=this;n.on("success",t),n.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=n},h.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},s(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),r=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(r.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout(function(){r.onError("number"==typeof t.status?t.status:0)},0))},a("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}"undefined"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=f:this.xhr.onreadystatechange=f,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",d);else if("function"==typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",d,!1)}function d(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}},{"../globalThis":249,"./polling":256,"component-emitter":259,"component-inherit":207,debug:216,"xmlhttprequest-ssl":258}],256:[function(e,t,r){var n=e("../transport"),i=e("parseqs"),s=e("engine.io-parser"),o=e("component-inherit"),a=e("yeast"),c=e("debug")("engine.io-client:polling");t.exports=h;var f=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function h(e){var t=e&&e.forceBase64;f&&!t||(this.supportsBinary=!1),n.call(this,e)}o(h,n),h.prototype.name="polling",h.prototype.doOpen=function(){this.poll()},h.prototype.pause=function(e){var t=this;function r(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){c("pre-pause polling complete"),--n||r()})),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",function(){c("pre-pause writing complete"),--n||r()}))}else r()},h.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},h.prototype.onData=function(e){var t=this;c("polling got data %s",e);s.decodePayload(e,this.socket.binaryType,function(e,r,n){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},h.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},h.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,r)})},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(r=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e}},{"../transport":252,"component-inherit":207,debug:216,"engine.io-parser":260,parseqs:356,"xmlhttprequest-ssl":258,yeast:465}],257:[function(e,t,r){(function(r){var n,i,s=e("../transport"),o=e("engine.io-parser"),a=e("parseqs"),c=e("component-inherit"),f=e("yeast"),h=e("debug")("engine.io-client:websocket");if("undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=e("ws")}catch(e){}var u=n||i;function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(u=i),s.call(this,e)}t.exports=d,c(d,s),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new u(e,t):new u(e):new u(e,t,r)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,i=0,s=n;i<s;i++)!function(e){o.encodePacket(e,t.supportsBinary,function(i){if(!t.usingBrowserWebSocket){var s={};if(e.options&&(s.compress=e.options.compress),t.perMessageDeflate)("string"==typeof i?r.byteLength(i):i.length)<t.perMessageDeflate.threshold&&(s.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(i):t.ws.send(i,s)}catch(e){h("websocket closed before onclose event")}--n||a()})}(e[i]);function a(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}},d.prototype.onClose=function(){s.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=f()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e},d.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===d.prototype.name)}}).call(this,e("buffer").Buffer)},{"../transport":252,buffer:48,"component-inherit":207,debug:216,"engine.io-parser":260,parseqs:356,ws:18,yeast:465}],258:[function(e,t,r){var n=e("has-cors"),i=e("./globalThis");t.exports=function(e){var t=e.xdomain,r=e.xscheme,s=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!r&&s)return new XDomainRequest}catch(e){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},{"./globalThis":249,"has-cors":281}],259:[function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}void 0!==t&&(t.exports=n),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],260:[function(e,t,r){var n,i=e("./keys"),s=e("has-binary2"),o=e("arraybuffer.slice"),a=e("after"),c=e("./utf8");"undefined"!=typeof ArrayBuffer&&(n=e("base64-arraybuffer"));var f="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),u=f||h;r.protocol=3;var d=r.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},l=i(d),p={type:"error",data:"parser error"},b=e("blob");function g(e,t,r){for(var n=new Array(e.length),i=a(e.length,r),s=function(e,r,i){t(r,function(t,r){n[e]=r,i(t,n)})},o=0;o<e.length;o++)s(o,e[o],i)}r.encodePacket=function(e,t,n,i){"function"==typeof t&&(i=t,t=!1),"function"==typeof n&&(i=n,n=null);var s=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return function(e,t,n){if(!t)return r.encodeBase64Packet(e,n);var i=e.data,s=new Uint8Array(i),o=new Uint8Array(1+i.byteLength);o[0]=d[e.type];for(var a=0;a<s.length;a++)o[a+1]=s[a];return n(o.buffer)}(e,t,i);if(void 0!==b&&s instanceof b)return function(e,t,n){if(!t)return r.encodeBase64Packet(e,n);if(u)return function(e,t,n){if(!t)return r.encodeBase64Packet(e,n);var i=new FileReader;return i.onload=function(){r.encodePacket({type:e.type,data:i.result},t,!0,n)},i.readAsArrayBuffer(e.data)}(e,t,n);var i=new Uint8Array(1);i[0]=d[e.type];var s=new b([i.buffer,e.data]);return n(s)}(e,t,i);if(s&&s.base64)return function(e,t){var n="b"+r.packets[e.type]+e.data.data;return t(n)}(e,i);var o=d[e.type];return void 0!==e.data&&(o+=n?c.encode(String(e.data),{strict:!1}):String(e.data)),i(""+o)},r.encodeBase64Packet=function(e,t){var n,i="b"+r.packets[e.type];if(void 0!==b&&e.data instanceof b){var s=new FileReader;return s.onload=function(){var e=s.result.split(",")[1];t(i+e)},s.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var o=new Uint8Array(e.data),a=new Array(o.length),c=0;c<o.length;c++)a[c]=o[c];n=String.fromCharCode.apply(null,a)}return i+=btoa(n),t(i)},r.decodePacket=function(e,t,n){if(void 0===e)return p;if("string"==typeof e){if("b"===e.charAt(0))return r.decodeBase64Packet(e.substr(1),t);if(n&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return p;var i=e.charAt(0);return Number(i)==i&&l[i]?e.length>1?{type:l[i],data:e.substring(1)}:{type:l[i]}:p}i=new Uint8Array(e)[0];var s=o(e,1);return b&&"blob"===t&&(s=new b([s])),{type:l[i],data:s}},r.decodeBase64Packet=function(e,t){var r=l[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var i=n.decode(e.substr(1));return"blob"===t&&b&&(i=new b([i])),{type:r,data:i}},r.encodePayload=function(e,t,n){"function"==typeof t&&(n=t,t=null);var i=s(e);if(t&&i)return b&&!u?r.encodePayloadAsBlob(e,n):r.encodePayloadAsArrayBuffer(e,n);if(!e.length)return n("0:");g(e,function(e,n){r.encodePacket(e,!!i&&t,!1,function(e){n(null,function(e){return e.length+":"+e}(e))})},function(e,t){return n(t.join(""))})},r.decodePayload=function(e,t,n){if("string"!=typeof e)return r.decodePayloadAsBinary(e,t,n);var i;if("function"==typeof t&&(n=t,t=null),""===e)return n(p,0,1);for(var s,o,a="",c=0,f=e.length;c<f;c++){var h=e.charAt(c);if(":"===h){if(""===a||a!=(s=Number(a)))return n(p,0,1);if(a!=(o=e.substr(c+1,s)).length)return n(p,0,1);if(o.length){if(i=r.decodePacket(o,t,!1),p.type===i.type&&p.data===i.data)return n(p,0,1);if(!1===n(i,c+s,f))return}c+=s,a=""}else a+=h}return""!==a?n(p,0,1):void 0},r.encodePayloadAsArrayBuffer=function(e,t){if(!e.length)return t(new ArrayBuffer(0));g(e,function(e,t){r.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,r){var n=r.reduce(function(e,t){var r;return e+(r="string"==typeof t?t.length:t.byteLength).toString().length+r+2},0),i=new Uint8Array(n),s=0;return r.forEach(function(e){var t="string"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);r=n.buffer}i[s++]=t?0:1;var a=r.byteLength.toString();for(o=0;o<a.length;o++)i[s++]=parseInt(a[o]);i[s++]=255;for(n=new Uint8Array(r),o=0;o<n.length;o++)i[s++]=n[o]}),t(i.buffer)})},r.encodePayloadAsBlob=function(e,t){g(e,function(e,t){r.encodePacket(e,!0,!0,function(e){var r=new Uint8Array(1);if(r[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);e=n.buffer,r[0]=0}var s=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(s.length+1);for(i=0;i<s.length;i++)o[i]=parseInt(s[i]);if(o[s.length]=255,b){var a=new b([r.buffer,o.buffer,e]);t(null,a)}})},function(e,r){return t(new b(r))})},r.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var i=e,s=[];i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],f="",h=1;255!==a[h];h++){if(f.length>310)return n(p,0,1);f+=a[h]}i=o(i,2+f.length),f=parseInt(f);var u=o(i,0,f);if(c)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(e){var d=new Uint8Array(u);u="";for(h=0;h<d.length;h++)u+=String.fromCharCode(d[h])}s.push(u),i=o(i,f)}var l=s.length;s.forEach(function(e,i){n(r.decodePacket(e,t,!0),i,l)})}},{"./keys":261,"./utf8":262,after:168,"arraybuffer.slice":179,"base64-arraybuffer":182,blob:187,"has-binary2":279}],261:[function(e,t,r){t.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},{}],262:[function(e,t,r){var n,i,s,o=String.fromCharCode;function a(e){for(var t,r,n=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function c(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function f(e,t){return o(e>>t&63|128)}function h(e,t){if(0==(4294967168&e))return o(e);var r="";return 0==(4294965248&e)?r=o(e>>6&31|192):0==(4294901760&e)?(c(e,t)||(e=65533),r=o(e>>12&15|224),r+=f(e,6)):0==(4292870144&e)&&(r=o(e>>18&7|240),r+=f(e,12),r+=f(e,6)),r+=o(63&e|128)}function u(){if(s>=i)throw Error("Invalid byte index");var e=255&n[s];if(s++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,r;if(s>i)throw Error("Invalid byte index");if(s==i)return!1;if(t=255&n[s],s++,0==(128&t))return t;if(192==(224&t)){if((r=(31&t)<<6|u())>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&t)){if((r=(15&t)<<12|u()<<6|u())>=2048)return c(r,e)?r:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(r=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&r<=1114111)return r;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=a(e),i=n.length,s=-1,o="";++s<i;)o+=h(n[s],r);return o},decode:function(e,t){var r=!1!==(t=t||{}).strict;n=a(e),i=n.length,s=0;for(var c,f=[];!1!==(c=d(r));)f.push(c);return function(e){for(var t,r=e.length,n=-1,i="";++n<r;)(t=e[n])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(f)}}},{}],263:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function s(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,r,n,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,n||e,s),c=i?i+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function f(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(i=!1)),f.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},f.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,o=new Array(s);n<s;n++)o[n]=r[n].fn;return o},f.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},f.prototype.emit=function(e,t,r,n,s,o){var a=i?i+e:e;if(!this._events[a])return!1;var c,f,h=this._events[a],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,r),!0;case 4:return h.fn.call(h.context,t,r,n),!0;case 5:return h.fn.call(h.context,t,r,n,s),!0;case 6:return h.fn.call(h.context,t,r,n,s,o),!0}for(f=1,c=new Array(u-1);f<u;f++)c[f-1]=arguments[f];h.fn.apply(h.context,c)}else{var d,l=h.length;for(f=0;f<l;f++)switch(h[f].once&&this.removeListener(e,h[f].fn,void 0,!0),u){case 1:h[f].fn.call(h[f].context);break;case 2:h[f].fn.call(h[f].context,t);break;case 3:h[f].fn.call(h[f].context,t,r);break;case 4:h[f].fn.call(h[f].context,t,r,n);break;default:if(!c)for(d=1,c=new Array(u-1);d<u;d++)c[d-1]=arguments[d];h[f].fn.apply(h[f].context,c)}}return!0},f.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},f.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},f.prototype.removeListener=function(e,t,r,n){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return c(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||c(this,s);else{for(var a=0,f=[],h=o.length;a<h;a++)(o[a].fn!==t||n&&!o[a].once||r&&o[a].context!==r)&&f.push(o[a]);f.length?this._events[s]=1===f.length?f[0]:f:c(this,s)}return this},f.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&c(this,t)):(this._events=new s,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=i,f.EventEmitter=f,void 0!==t&&(t.exports=f)},{}],264:[function(e,t,r){"use strict";const n=e("count-trailing-zeros");t.exports=(()=>new h);class i{constructor(e){const t=new Uint8Array(e?8456:4360),r=t.byteOffset;this.buffer=t,this.bits=e?null:new Uint32Array(t.buffer,r,1024),this.children=e?new Array(32768):null,this.level=e,this.allOne=e?[new Uint32Array(t.buffer,r,1024),new Uint32Array(t.buffer,r+4096,32),new Uint32Array(t.buffer,r+4224,1)]:[this.bits,new Uint32Array(t.buffer,r+4096,32),new Uint32Array(t.buffer,r+4224,1)],this.oneOne=e?[new Uint32Array(t.buffer,r+4228,1024),new Uint32Array(t.buffer,r+8324,32),new Uint32Array(t.buffer,r+8452,1)]:[this.bits,new Uint32Array(t.buffer,r+4228,32),new Uint32Array(t.buffer,r+4356,1)]}}const s=[new i(0),new i(1),new i(2),new i(3)],o=new Uint32Array(32),a=new Uint32Array(32);for(var c=0;c<32;c++)o[c]=Math.pow(2,31-c)-1,a[c]=Math.pow(2,32-c)-1;const f=255===new Uint8Array(o.buffer,o.byteOffset,1)[0];class h{constructor(){this.length=32768,this.littleEndian=f,this._path=new Uint16Array(5),this._offsets=new Uint16Array(this._path.buffer,this._path.byteOffset+2,4),this._parents=new Array(4).fill(null),this._page=new i(0),this._allocs=1}last(){for(var e=this._page,t=0;;){for(var r=2;r>=0;r--){const i=n(e.oneOne[r][t]);if(32===i)return-1;t=31-i+(t<<5)}if(this._path[e.level]=t,!e.level)return d(this._path);e=e.children[t],t=0}}set(e,t){const r=this._getPage(e,t);if(!r)return!1;const n=this._path[0],i=31&n,s=n>>>5,o=r.bits[s];r.bits[s]=t?o|2147483648>>>i:o&~(2147483648>>>i);const a=r.bits[s];return a!==o&&(this._updateAllOne(r,s,a),this._updateOneOne(r,s,a),!0)}get(e){const t=this._getPage(e,!1);if(!t)return!1;const r=this._path[0],n=31&r;return 0!=(t.bits[r>>>5]&2147483648>>>n)}iterator(){return new u(this)}fill(e,t,r){return t||(t=0),!0===e?this._fillBit(!0,t,0===r?r:r||this.length):!1===e?this._fillBit(!1,t,0===r?r:r||this.length):void this._fillBuffer(e,t,0===r?r:r||t+8*e.length)}grow(){if(3===this._page.level)throw new Error("Cannot grow beyond "+this.length);const e=this._page;this._page=new i(e.level+1),this._page.children[0]=e,3===this._page.level?this.length=Number.MAX_SAFE_INTEGER:this.length*=32768}_fillBuffer(e,t,r){if(7&t||7&r)throw new Error("Offsets must be a multiple of 8");for(t/=8;r>this.length;)this.grow();r/=8;const n=t;for(var i=this._getPage(8*t,!0);t<r;){const s=r-t<4096?r-t:4096,o=t-n;(t+=this._setPageBuffer(i,e.subarray(o,o+s),1023&t))!==r&&(i=this._nextPage(i,8*t))}}_fillBit(e,t,r){for(var n=this._getPage(t,e);t<r;){const i=r-t<32768?r-t:32768;(t+=this._setPageBits(n,e,32767&t,i))!==r&&(n=this._nextPage(n,t))}}_nextPage(e,t){const r=++this._offsets[e.level];return 32768===r?this._getPage(t,!0):this._parents[e.level].children[r]||this._addPage(this._parents[e.level],r)}_setPageBuffer(e,t,r){return new Uint8Array(e.bits.buffer,e.bits.byteOffset,4*e.bits.length).set(t,r),r>>>=2,this._update(e,r,r+(t.length>>>2)+(3&t.length?1:0)),t.length}_setPageBits(e,t,r,n){const i=r>>>5,s=n>>>5,o=4294967295>>>(31&r),a=~(4294967295>>>(31&n));return i===s?(e.bits[i]=t?e.bits[i]|o&a:e.bits[i]&~(o&a),this._update(e,i,i+1),n-r):(e.bits[i]=t?e.bits[i]|o:e.bits[i]&~o,s-i>2&&e.bits.fill(t?4294967295:0,i+1,s-1),1024===s?(e.bits[s-1]=t?4294967295:0,this._update(e,i,s),n-r):(e.bits[s]=t?e.bits[s]|a:e.bits[s]&~a,this._update(e,i,s+1),n-r))}_update(e,t,r){for(;t<r;t++){const r=e.bits[t];this._updateAllOne(e,t,r),this._updateOneOne(e,t,r)}}_updateAllOne(e,t,r){var n=1;do{for(;n<3;n++){const i=e.allOne[n],s=31&t,o=i[t>>>=5];if(i[t]=4294967295===r?o|2147483648>>>s:o&~(2147483648>>>s),(r=i[t])===o)return}t+=this._offsets[e.level],e=this._parents[e.level],n=0}while(e)}_updateOneOne(e,t,r){var n=1;do{for(;n<3;n++){const i=e.oneOne[n],s=31&t,o=i[t>>>=5];if(i[t]=0!==r?o|2147483648>>>s:o&~(2147483648>>>s),(r=i[t])===o)return}t+=this._offsets[e.level],e=this._parents[e.level],n=0,0===r&&e&&(e.children[this._offsets[e.level-1]]=void 0)}while(e)}_getPage(e,t){for(l(e,this._path);e>=this.length;){if(!t)return null;this.grow()}for(var r=this._page,n=r.level;n>0&&r;n--){const e=this._path[n];this._parents[n-1]=r,r=r.children[e]||(t?this._addPage(r,e):null)}return r}_addPage(e,t){return this._allocs++,e=e.children[t]=new i(e.level-1)}}class u{constructor(e){this._bitfield=e,this._path=new Uint16Array(5),this._offsets=new Uint16Array(this._path.buffer,this._path.byteOffset+2,4),this._parents=new Array(4).fill(null),this._page=null,this._allocs=e._allocs,this.seek(0)}seek(e){if(this._allocs=this._bitfield._allocs,e>=this._bitfield.length)return this._page=null,this;l(e,this._path),this._page=this._bitfield._page;for(var t=this._page.level;t>0;t--)this._parents[t-1]=this._page,this._page=this._page.children[this._path[t]]||s[t-1];return this}next(e){return e?this.nextTrue():this.nextFalse()}nextFalse(){this._allocs!==this._bitfield._allocs&&this.seek(d(this._path));for(var e=this._page,t=this._path[0],r=a;e;){for(var n=0;n<3;n++){const i=31&t,s=Math.clz32(~e.allOne[n][t>>>=5]&r[i]);if(32!==s)return this._downLeftFalse(e,n,t,s);r=o}t=this._offsets[e.level],e=this._parents[e.level]}return-1}_downLeftFalse(e,t,r,n){for(;;){for(;t;)r=(r<<5)+n,n=Math.clz32(~e.allOne[--t][r]);if(r=(r<<5)+n,!e.level)break;this._parents[e.level-1]=e,this._path[e.level]=r,e=e.children[r],t=3,n=r=0}return this._page=e,this._path[0]=r,this._inc()}nextTrue(){for(var e=this._page,t=this._path[0],r=a;e;){for(var n=0;n<3;n++){const i=31&t,s=Math.clz32(e.oneOne[n][t>>>=5]&r[i]);if(32!==s)return this._downLeftTrue(e,n,t,s);r=o}t=this._offsets[e.level],e=this._parents[e.level]}return-1}_downLeftTrue(e,t,r,n){for(;;){for(;t;)r=(r<<5)+n,n=Math.clz32(e.oneOne[--t][r]);if(r=(r<<5)+n,!e.level)break;this._parents[e.level-1]=e,this._path[e.level]=r,e=e.children[r],t=3,n=r=0}return this._page=e,this._path[0]=r,this._inc()}_inc(){const e=d(this._path);return this._path[0]<32767?this._path[0]++:this.seek(e+1),e}}function d(e){return 32768*(32768*(32768*e[3]+e[2])+e[1])+e[0]}function l(e,t){e=((e=(e-(t[0]=32767&e))/32768)-(t[1]=32767&e))/32768,t[3]=(e-(t[2]=32767&e))/32768&32767}},{"count-trailing-zeros":209}],265:[function(e,t,r){function n(e){return e<31?1<<e:(1<<30)*(1<<e-30)}function i(e){return(e-(1&e))/2}function s(e){this.index=0,this.offset=0,this.factor=0}r.fullRoots=function(e,t){if(1&e)throw new Error("You can only look up roots for depth(0) blocks");t||(t=[]),e/=2;for(var r=0,n=1;;){if(!e)return t;for(;2*n<=e;)n*=2;t.push(r+n-1),r+=2*n,e-=n,n=1}},r.depth=function(e){var t=0;for(e+=1;!(1&e);)t++,e=i(e);return t},r.sibling=function(e,t){t||(t=r.depth(e));var n=r.offset(e,t);return r.index(t,1&n?n-1:n+1)},r.parent=function(e,t){t||(t=r.depth(e));var n=r.offset(e,t);return r.index(t+1,i(n))},r.leftChild=function(e,t){return 1&e?(t||(t=r.depth(e)),r.index(t-1,2*r.offset(e,t))):-1},r.rightChild=function(e,t){return 1&e?(t||(t=r.depth(e)),r.index(t-1,1+2*r.offset(e,t))):-1},r.children=function(e,t){if(!(1&e))return null;t||(t=r.depth(e));var n=2*r.offset(e,t);return[r.index(t-1,n),r.index(t-1,n+1)]},r.leftSpan=function(e,t){return 1&e?(t||(t=r.depth(e)),r.offset(e,t)*n(t+1)):e},r.rightSpan=function(e,t){return 1&e?(t||(t=r.depth(e)),(r.offset(e,t)+1)*n(t+1)-2):e},r.count=function(e,t){return 1&e?(t||(t=r.depth(e)),n(t+1)-1):1},r.spans=function(e,t){if(!(1&e))return[e,e];t||(t=r.depth(e));var i=r.offset(e,t),s=n(t+1);return[i*s,(i+1)*s-2]},r.index=function(e,t){return(1+2*t)*n(e)-1},r.offset=function(e,t){return 1&e?(t||(t=r.depth(e)),((e+1)/n(t)-1)/2):e/2},r.iterator=function(e){var t=new s;return t.seek(e||0),t},s.prototype.seek=function(e){this.index=e,1&this.index?(this.offset=r.offset(e),this.factor=n(r.depth(e)+1)):(this.offset=e/2,this.factor=2)},s.prototype.isLeft=function(){return!(1&this.offset)},s.prototype.isRight=function(){return!this.isLeft()},s.prototype.prev=function(){return this.offset?(this.offset--,this.index-=this.factor,this.index):this.index},s.prototype.next=function(){return this.offset++,this.index+=this.factor,this.index},s.prototype.sibling=function(){return this.isLeft()?this.next():this.prev()},s.prototype.parent=function(){return 1&this.offset?(this.index-=this.factor/2,this.offset=(this.offset-1)/2):(this.index+=this.factor/2,this.offset/=2),this.factor*=2,this.index},s.prototype.leftSpan=function(){return this.index=this.index-this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},s.prototype.rightSpan=function(){return this.index=this.index+this.factor/2-1,this.offset=this.index/2,this.factor=2,this.index},s.prototype.leftChild=function(){return 2===this.factor?this.index:(this.factor/=2,this.index-=this.factor/2,this.offset*=2,this.index)},s.prototype.rightChild=function(){return 2===this.factor?this.index:(this.factor/=2,this.index+=this.factor/2,this.offset=2*this.offset+1,this.index)}},{}],266:[function(e,t,r){(function(r){var n=e("readable-stream").Readable,i=e("inherits");t.exports=o,o.ctor=a,o.obj=function(e,t){("function"==typeof e||Array.isArray(e))&&(t=e,e={});return(e=f(e)).objectMode=!0,e.highWaterMark=16,o(e,t)};var s=a();function o(e,t){("object"!=typeof e||Array.isArray(e))&&(t=e,e={});var r,n=new s(e);return n._from=Array.isArray(t)?(r=(r=t).slice(),function(e,t){var n=null,i=r.length?r.shift():null;i instanceof Error&&(n=i,i=null),t(n,i)}):t||c,n}function a(e,t){function s(t){if(!(this instanceof s))return new s(t);this._reading=!1,this._callback=function(e,t){if(r.destroyed)return;if(e)return r.destroy(e);if(null===t)return r.push(null);r._reading=!1,r.push(t)&&r._read(i)},this.destroyed=!1,n.call(this,t||e);var r=this,i=this._readableState.highWaterMark}return"function"==typeof e&&(t=e,e={}),e=f(e),i(s,n),s.prototype._from=t||c,s.prototype._read=function(e){this._reading||this.destroyed||(this._reading=!0,this._from(e,this._callback))},s.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;r.nextTick(function(){e&&t.emit("error",e),t.emit("close")})}},s}function c(){}function f(e){return e=e||{}}}).call(this,e("_process"))},{_process:119,inherits:313,"readable-stream":275}],267:[function(e,t,r){arguments[4][193][0].apply(r,arguments)},{"./_stream_readable":269,"./_stream_writable":271,"core-util-is":208,dup:193,inherits:313,"process-nextick-args":359}],268:[function(e,t,r){arguments[4][194][0].apply(r,arguments)},{"./_stream_transform":270,"core-util-is":208,dup:194,inherits:313}],269:[function(e,t,r){arguments[4][195][0].apply(r,arguments)},{"./_stream_duplex":267,"./internal/streams/BufferList":272,"./internal/streams/destroy":273,"./internal/streams/stream":274,_process:119,"core-util-is":208,dup:195,events:83,inherits:313,isarray:316,"process-nextick-args":359,"safe-buffer":276,"string_decoder/":277,util:18}],270:[function(e,t,r){arguments[4][196][0].apply(r,arguments)},{"./_stream_duplex":267,"core-util-is":208,dup:196,inherits:313}],271:[function(e,t,r){arguments[4][197][0].apply(r,arguments)},{"./_stream_duplex":267,"./internal/streams/destroy":273,"./internal/streams/stream":274,_process:119,"core-util-is":208,dup:197,inherits:313,"process-nextick-args":359,"safe-buffer":276,timers:155,"util-deprecate":442}],272:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{dup:134,"safe-buffer":276,util:18}],273:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{dup:135,"process-nextick-args":359}],274:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{dup:136,events:83}],275:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./lib/_stream_duplex.js":267,"./lib/_stream_passthrough.js":268,"./lib/_stream_readable.js":269,"./lib/_stream_transform.js":270,"./lib/_stream_writable.js":271,dup:140}],276:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{buffer:48,dup:137}],277:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":276}],278:[function(e,t,r){t.exports=function(){if("undefined"==typeof window)return null;var e={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},{}],279:[function(e,t,r){(function(r){var n=e("isarray"),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(n(t)){for(var i=0,a=t.length;i<a;i++)if(e(t[i]))return!0;return!1}if("function"==typeof r&&r.isBuffer&&r.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||o&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&e(t[c]))return!0;return!1}}).call(this,e("buffer").Buffer)},{buffer:48,isarray:280}],280:[function(e,t,r){arguments[4][102][0].apply(r,arguments)},{dup:102}],281:[function(e,t,r){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],282:[function(e,t,r){var n=e("sodium-universal"),i=e("uint64be"),s=e("buffer-from"),o=e("buffer-alloc-unsafe"),a=s([0]),c=s([1]),f=s([2]),h=s("hypercore");function u(e){return i.encode(e,o(8))}function d(e){var t=o(32);return n.crypto_generichash_batch(t,e),t}r.keyPair=function(e){var t=o(n.crypto_sign_PUBLICKEYBYTES),r=o(n.crypto_sign_SECRETKEYBYTES);return e?n.crypto_sign_seed_keypair(t,r,e):n.crypto_sign_keypair(t,r),{publicKey:t,secretKey:r}},r.sign=function(e,t){var r=o(n.crypto_sign_BYTES);return n.crypto_sign_detached(r,e,t),r},r.verify=function(e,t,r){return n.crypto_sign_verify_detached(t,e,r)},r.data=function(e){return d([a,u(e.length),e])},r.leaf=function(e){return r.data(e.data)},r.parent=function(e,t){if(e.index>t.index){var r=e;e=t,t=r}return d([c,u(e.size+t.size),e.hash,t.hash])},r.tree=function(e){var t=new Array(3*e.length+1),r=0;t[r++]=f;for(var n=0;n<e.length;n++){var i=e[n];t[r++]=i.hash,t[r++]=u(i.index),t[r++]=u(i.size)}return d(t)},r.randomBytes=function(e){var t=o(e);return n.randombytes_buf(t),t},r.discoveryKey=function(e){var t=o(32);return n.crypto_generichash(t,h,e),t}},{"buffer-alloc-unsafe":188,"buffer-from":191,"sodium-universal":428,uint64be:437}],283:[function(e,t,r){(function(r){var n=e("events"),i=e("inherits"),s=e("varint"),o=e("./messages"),a=e("buffer-alloc-unsafe");function c(e){if(!(this instanceof c))return new c(e);n.EventEmitter.call(this),this.key=null,this.discoveryKey=null,this.stream=e,this.peer=null,this.id=-1,this.remoteId=-1,this.header=0,this.headerLength=0,this.closed=!1,this._buffer=[]}function f(e,t,r,n){try{return e.decode(t,r,n)}catch(e){return null}}t.exports=c,i(c,n.EventEmitter),c.prototype.handshake=function(e){return this._send(1,o.Handshake,e)},c.prototype.info=function(e){return this._send(2,o.Info,e)},c.prototype.have=function(e){return this._send(3,o.Have,e)},c.prototype.unhave=function(e){return this._send(4,o.Unhave,e)},c.prototype.want=function(e){return this._send(5,o.Want,e)},c.prototype.unwant=function(e){return this._send(6,o.Unwant,e)},c.prototype.request=function(e){return this._send(7,o.Request,e)},c.prototype.cancel=function(e){return this._send(8,o.Cancel,e)},c.prototype.data=function(e){return this._send(9,o.Data,e)},c.prototype.extension=function(e,t){var r=this.stream.extensions.indexOf(e);if(-1===r)return!1;var n=15|this.header,i=this.headerLength+s.encodingLength(r)+t.length,o=a(s.encodingLength(i)+i),c=0;return s.encode(i,o,c),c+=s.encode.bytes,s.encode(n,o,c),c+=s.encode.bytes,s.encode(r,o,c),c+=s.encode.bytes,t.copy(o,c),this.stream._push(o)},c.prototype.remoteSupports=function(e){return this.stream.remoteSupports(e)},c.prototype.destroy=function(e){this.stream.destroy(e)},c.prototype.close=function(){var e=this.stream.feeds.indexOf(this);if(e>-1){if(this.stream.feeds[e]=this.stream.feeds[this.stream.feeds.length-1],this.stream.feeds.pop(),this.stream._localFeeds[this.id]=null,this.id=-1,this.stream.destroyed)return;if(this.stream.expectedFeeds<=0||--this.stream.expectedFeeds)return;this.stream._prefinalize()}},c.prototype._onclose=function(){if(!this.closed){if(this.closed=!0,!this.stream.destroyed){this.close(),this.remoteId>-1&&(this.stream._remoteFeeds[this.remoteId]=null);var e=this.discoveryKey.toString("hex");this.stream._feeds[e]===this&&delete this.stream._feeds[e]}this.peer?this.peer.onclose():this.emit("close")}},c.prototype._resume=function(){var e=this;r.nextTick(function(){for(;e._buffer.length;){var t=e._buffer.shift();e._emit(t.type,t.message)}e._buffer=null})},c.prototype._onextension=function(e,t,r){if(!(r<=t)){var n=s.decode(e,t),i=this.stream.remoteExtensions,o=!i||n>=i.length?-1:i[n];if(-1!==o){var a=e.slice(t+s.decode.bytes,r),c=this.stream.extensions[o];this.peer&&this.peer.onextension?this.peer.onextension(c,a):this.emit("extension",c,a)}}},c.prototype._onmessage=function(e,t,r,n){var i=function(e,t,r,n){switch(e){case 1:return f(o.Handshake,t,r,n);case 2:return f(o.Info,t,r,n);case 3:return f(o.Have,t,r,n);case 4:return f(o.Unhave,t,r,n);case 5:return f(o.Want,t,r,n);case 6:return f(o.Unwant,t,r,n);case 7:return f(o.Request,t,r,n);case 8:return f(o.Cancel,t,r,n);case 9:return f(o.Data,t,r,n)}}(e,t,r,n);if(i&&!this.closed)return 1===e?this.stream._onhandshake(i):void(this._buffer?this._buffer.length>16?this.destroy(new Error("Remote sent too many messages on an unopened feed")):this._buffer.push({type:e,message:i}):this._emit(e,i))},c.prototype._emit=function(e,t){if(this.peer)switch(e){case 2:return this.peer.oninfo(t);case 3:return this.peer.onhave(t);case 4:return this.peer.onunhave(t);case 5:return this.peer.onwant(t);case 6:return this.peer.onunwant(t);case 7:return this.peer.onrequest(t);case 8:return this.peer.oncancel(t);case 9:return this.peer.ondata(t)}else switch(e){case 2:return this.emit("info",t);case 3:return this.emit("have",t);case 4:return this.emit("unhave",t);case 5:return this.emit("want",t);case 6:return this.emit("unwant",t);case 7:return this.emit("request",t);case 8:return this.emit("cancel",t);case 9:return this.emit("data",t)}},c.prototype._send=function(e,t,r){var n=this.header|e,i=this.headerLength+t.encodingLength(r),o=a(s.encodingLength(i)+i),c=0;return s.encode(i,o,c),c+=s.encode.bytes,s.encode(n,o,c),c+=s.encode.bytes,t.encode(r,o,c),this.stream._push(o)}}).call(this,e("_process"))},{"./messages":285,_process:119,"buffer-alloc-unsafe":188,events:83,inherits:313,varint:299}],284:[function(e,t,r){(function(r){var n=e("readable-stream"),i=e("inherits"),s=e("varint"),o=e("sodium-universal"),a=e("sorted-indexof"),c=e("./feed"),f=e("./messages"),h=e("buffer-alloc-unsafe"),u=e("buffer-from");function d(e){if(!(this instanceof d))return new d(e);e||(e={}),n.Duplex.call(this);var t=this;this.id=e.id||p(32),this.live=!!e.live,this.ack=!!e.ack,this.userData=e.userData||null,this.remoteId=null,this.remoteLive=!1,this.remoteUserData=null,this.destroyed=!1,this.encrypted=!1!==e.encrypt,this.key=null,this.discoveryKey=null,this.remoteDiscoveryKey=null,this.feeds=[],this.expectedFeeds=e.expectedFeeds||0,this.extensions=e.extensions||[],this.remoteExtensions=null,this.maxFeeds=e.maxFeeds||256,this._localFeeds=[],this._remoteFeeds=[],this._feeds={},this._nonce=null,this._remoteNonce=null,this._xor=null,this._remoteXor=null,this._needsKey=!1,this._length=h(s.encodingLength(8388608)),this._missing=0,this._buf=null,this._pointer=0,this._data=null,this._start=0,this._cb=null,this._interval=null,this._keepAlive=0,this._remoteKeepAlive=0,this._maybeFinalize=function(e){if(e)return t.destroy(e);t.expectedFeeds||t.finalize()},this._utp=null,0!==e.timeout&&!1!==e.timeout&&this.setTimeout(e.timeout||5e3,this._ontimeout),this.on("finish",this.finalize),this.on("pipe",this._onpipe)}function l(e){var t=h(32);return o.crypto_generichash(t,u("hypercore"),e),t}function p(e){var t=h(e);return o.randombytes_buf(t),t}t.exports=d,i(d,n.Duplex),d.prototype._onpipe=function(e){"function"==typeof e.setContentSize&&(this._utp=e)},d.prototype._prefinalize=function(){this.emit("prefinalize",this._maybeFinalize)||this.finalize()},d.prototype.setTimeout=function(e,t){if(!this.destroyed){t&&this.once("timeout",t);var r=this;this._keepAlive=0,this._remoteKeepAlive=0,clearInterval(this._interval),e&&(this._interval=setInterval(function(){r._kick()},e/4|0),this._interval.unref&&this._interval.unref())}},d.prototype.has=function(e){var t=l(e).toString("hex");return!!this._feeds[t]},d.prototype.feed=function(e,t){if(this.destroyed)return null;t||(t={});var r=t.discoveryKey||l(e),n=this._feed(r);if(n.id>-1)return t.peer&&(n.peer=t.peer),n;if(this._localFeeds.length>=this.maxFeeds)return this._tooManyFeeds(),null;n.id=this._localFeeds.push(n)-1,n.header=n.id<<4,n.headerLength=s.encodingLength(n.header),n.key=e,n.discoveryKey=r,t.peer&&(n.peer=t.peer),this.feeds.push(n);var i=!this.key,a={discoveryKey:r,nonce:null};if(i){if(this.key=e,this.discoveryKey=r,!this._sameKey())return null;this.encrypted&&(a.nonce=this._nonce=p(24),this._xor=o.crypto_stream_xor_instance(this._nonce,this.key),this._remoteNonce&&(this._remoteXor=o.crypto_stream_xor_instance(this._remoteNonce,this.key))),this._needsKey&&(this._needsKey=!1,this._resume())}var c=function(e,t){var r=t<<4,n=s.encodingLength(r)+f.Feed.encodingLength(e),i=h(s.encodingLength(n)+n),o=0;return s.encode(n,i,o),o+=s.encode.bytes,s.encode(r,i,o),o+=s.encode.bytes,f.Feed.encode(e,i,o),i}(a,n.id);return!a.nonce&&this.encrypted&&this._xor.update(c,c),this._keepAlive=0,this.push(c),this.destroyed?null:(i&&n.handshake({id:this.id,live:this.live,userData:this.userData,extensions:this.extensions,ack:this.ack}),n._buffer.length?n._resume():n._buffer=null,n)},d.prototype._resume=function(){var e=this;r.nextTick(function(){if(!e._data)return;var t=e._data,r=e._start,n=e._cb;e._data=null,e._start=0,e._cb=null,e._parse(t,r,n)})},d.prototype._kick=function(){if(this._remoteKeepAlive>4)return clearInterval(this._interval),void this.emit("timeout");for(var e=0;e<this.feeds.length;e++){var t=this.feeds[e];t.peer?t.peer.ontick():t.emit("tick")}this._remoteKeepAlive++,this._keepAlive>2?(this.ping(),this._keepAlive=0):this._keepAlive++},d.prototype.ping=function(){if(!this.key)return!0;var e=u([0]);return this._xor&&this._xor.update(e,e),this.push(e)},d.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e),this._close(),this.emit("close"))},d.prototype.finalize=function(){this.destroyed||(this.destroyed=!0,this._close(),this.push(null))},d.prototype._close=function(){clearInterval(this._interval);var e=this.feeds;this.feeds=[];for(var t=0;t<e.length;t++)e[t]._onclose();this._xor&&(this._xor.final(),this._xor=null)},d.prototype._read=function(){},d.prototype._push=function(e){if(!this.destroyed)return this._keepAlive=0,this._xor&&this._xor.update(e,e),this.push(e)},d.prototype._write=function(e,t,r){this._remoteKeepAlive=0,this._parse(e,0,r)},d.prototype._feed=function(e){var t=e.toString("hex"),r=this._feeds[t];return r||(r=this._feeds[t]=c(this))},d.prototype.remoteSupports=function(e){var t=this.extensions.indexOf(e);return t>-1&&!!this.remoteExtensions&&this.remoteExtensions.indexOf(t)>-1},d.prototype._onhandshake=function(e){this.remoteId||(this.remoteId=e.id||p(32),this.remoteLive=e.live,this.remoteUserData=e.userData,this.remoteExtensions=a(this.extensions,e.extensions),this.remoteAck=e.ack,this.emit("handshake"))},d.prototype._onopen=function(e,t,r,n){var i=function(e,t,r){var n=null;try{n=f.Feed.decode(e,t,r)}catch(e){return null}return 32!==n.discoveryKey.length?null:n.nonce&&24!==n.nonce.length?null:n}(t,r,n);if(!i)return this._badFeed();if(!this.remoteDiscoveryKey){if(this.remoteDiscoveryKey=i.discoveryKey,!this._sameKey())return;if(this.encrypted&&!this._remoteNonce){if(!i.nonce)return void this.destroy(new Error("Remote did not include a nonce"));this._remoteNonce=i.nonce}this.encrypted&&this.key&&!this._remoteXor&&(this._remoteXor=o.crypto_stream_xor_instance(this._remoteNonce,this.key))}this._remoteFeeds[e]=this._feed(i.discoveryKey),this._remoteFeeds[e].remoteId=e,this.emit("feed",i.discoveryKey)},d.prototype._onmessage=function(e,t,r){if(!(r-t<2)){var n=function(e,t){try{return s.decode(e,t)}catch(e){return-1}}(e,t);if(-1===n)return this.destroy(new Error("Remote sent invalid header"));t+=s.decode.bytes;var i=n>>4,o=15&n;if(i>=this.maxFeeds)return this._tooManyFeeds();for(;this._remoteFeeds.length<i;)this._remoteFeeds.push(null);var a=this._remoteFeeds[i];return 0===o?(a&&a._onclose(),this._onopen(i,e,t,r)):a?15===o?a._onextension(e,t,r):void a._onmessage(o,e,t,r):this._badFeed()}},d.prototype._parse=function(e,t,r){var n=!!this._remoteXor;for(t&&(e=e.slice(t),t=0),this._remoteXor&&this._remoteXor.update(e,e);t<e.length&&!this.destroyed;){if(t=this._missing?this._parseMessage(e,t):this._parseLength(e,t),this._needsKey)return this._data=e,this._start=t,void(this._cb=r);if(!n&&this._remoteXor)return this._parse(e,t,r)}r()},d.prototype._parseMessage=function(e,t){var r=t+this._missing;if(r<=e.length){var n=r;return this._buf&&(e.copy(this._buf,this._pointer,t),t=0,r=(e=this._buf).length,this._buf=null),this._missing=0,this._pointer=0,this.encrypted&&!this.key&&(this._needsKey=!0),this._onmessage(e,t,r),n}this._buf||(this._buf=h(this._missing),this._pointer=0);var i=e.length-t;return e.copy(this._buf,this._pointer,t),this._pointer+=i,this._missing-=i,e.length},d.prototype._parseLength=function(e,t){for(;!this._missing&&t<e.length;){if(!(128&(this._length[this._pointer++]=e[t++]))){if(this._missing=s.decode(this._length),this._pointer=0,this._missing>8388608)return this._tooBig(e.length);if(this._utp){var r=this._missing-(e.length-t);r>0&&!this._needsKey&&this._utp.setContentSize(r)}return t}if(this._pointer>=this._length.length)return this._tooBig(e.length)}return t},d.prototype._sameKey=function(){return!this.encrypted||(!this.discoveryKey||!this.remoteDiscoveryKey||(this.remoteDiscoveryKey.toString("hex")===this.discoveryKey.toString("hex")||(this.destroy(new Error("First shared hypercore must be the same")),!1)))},d.prototype._tooManyFeeds=function(){this.destroy(new Error("Only "+this.maxFeeds+" feeds currently supported. Open a Github issue if you need more"))},d.prototype._tooBig=function(e){return this.destroy(new Error("Remote message is larger than 8MB (max allowed)")),e},d.prototype._badFeed=function(){this.destroy(new Error("Remote sent invalid feed message"))},d.prototype._ontimeout=function(){this.destroy(new Error("Remote timed out"))}}).call(this,e("_process"))},{"./feed":283,"./messages":285,_process:119,"buffer-alloc-unsafe":188,"buffer-from":191,inherits:313,"readable-stream":294,"sodium-universal":428,"sorted-indexof":429,varint:299}],285:[function(e,t,r){(function(t){var n=e("protocol-buffers-encodings"),i=n.varint,s=n.skip,o=r.Feed={buffer:!0,encodingLength:null,encode:null,decode:null},a=r.Handshake={buffer:!0,encodingLength:null,encode:null,decode:null},c=r.Info={buffer:!0,encodingLength:null,encode:null,decode:null},f=r.Have={buffer:!0,encodingLength:null,encode:null,decode:null},h=r.Unhave={buffer:!0,encodingLength:null,encode:null,decode:null},u=r.Want={buffer:!0,encodingLength:null,encode:null,decode:null},d=r.Unwant={buffer:!0,encodingLength:null,encode:null,decode:null},l=r.Request={buffer:!0,encodingLength:null,encode:null,decode:null},p=r.Cancel={buffer:!0,encodingLength:null,encode:null,decode:null},b=r.Data={buffer:!0,encodingLength:null,encode:null,decode:null};function g(e){return null!=e&&("number"!=typeof e||!isNaN(e))}!function(){var e=[n.bytes];function r(t){var r=0;if(!g(t.discoveryKey))throw new Error("discoveryKey is required");var n=e[0].encodingLength(t.discoveryKey);if(r+=1+n,g(t.nonce)){var n=e[0].encodingLength(t.nonce);r+=1+n}return r}o.encodingLength=r,o.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!g(i.discoveryKey))throw new Error("discoveryKey is required");s[o++]=10;e[0].encode(i.discoveryKey,s,o);o+=e[0].encode.bytes;g(i.nonce)&&(s[o++]=18,e[0].encode(i.nonce,s,o),o+=e[0].encode.bytes);n.bytes=o-a;return s},o.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={discoveryKey:null,nonce:null};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.discoveryKey=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.nonce=e[0].decode(r,n),n+=e[0].decode.bytes;break;default:n=s(7&h,r,n)}}}}(),function(){var e=[n.bytes,n.bool,n.string];function r(t){var r=0;if(g(t.id)){var n=e[0].encodingLength(t.id);r+=1+n}if(g(t.live)){var n=e[1].encodingLength(t.live);r+=1+n}if(g(t.userData)){var n=e[0].encodingLength(t.userData);r+=1+n}if(g(t.extensions))for(var i=0;i<t.extensions.length;i++)if(g(t.extensions[i])){var n=e[2].encodingLength(t.extensions[i]);r+=1+n}if(g(t.ack)){var n=e[1].encodingLength(t.ack);r+=1+n}return r}a.encodingLength=r,a.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;g(i.id)&&(s[o++]=10,e[0].encode(i.id,s,o),o+=e[0].encode.bytes);g(i.live)&&(s[o++]=16,e[1].encode(i.live,s,o),o+=e[1].encode.bytes);g(i.userData)&&(s[o++]=26,e[0].encode(i.userData,s,o),o+=e[0].encode.bytes);if(g(i.extensions))for(var c=0;c<i.extensions.length;c++)g(i.extensions[c])&&(s[o++]=34,e[2].encode(i.extensions[c],s,o),o+=e[2].encode.bytes);g(i.ack)&&(s[o++]=40,e[1].encode(i.ack,s,o),o+=e[1].encode.bytes);n.bytes=o-a;return s},a.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={id:null,live:!1,userData:null,extensions:[],ack:!1};for(;;){if(o<=n)return t.bytes=n-a,c;var f=i.decode(r,n);n+=i.decode.bytes;var h=f>>3;switch(h){case 1:c.id=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 2:c.live=e[1].decode(r,n),n+=e[1].decode.bytes;break;case 3:c.userData=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 4:c.extensions.push(e[2].decode(r,n)),n+=e[2].decode.bytes;break;case 5:c.ack=e[1].decode(r,n),n+=e[1].decode.bytes;break;default:n=s(7&f,r,n)}}}}(),function(){var e=[n.bool];function r(t){var r=0;if(g(t.uploading)){var n=e[0].encodingLength(t.uploading);r+=1+n}if(g(t.downloading)){var n=e[0].encodingLength(t.downloading);r+=1+n}return r}c.encodingLength=r,c.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;g(i.uploading)&&(s[o++]=8,e[0].encode(i.uploading,s,o),o+=e[0].encode.bytes);g(i.downloading)&&(s[o++]=16,e[0].encode(i.downloading,s,o),o+=e[0].encode.bytes);n.bytes=o-a;return s},c.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={uploading:!1,downloading:!1};for(;;){if(o<=n)return t.bytes=n-a,c;var f=i.decode(r,n);n+=i.decode.bytes;var h=f>>3;switch(h){case 1:c.uploading=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 2:c.downloading=e[0].decode(r,n),n+=e[0].decode.bytes;break;default:n=s(7&f,r,n)}}}}(),function(){var e=[n.varint,n.bytes,n.bool];function r(t){var r=0;if(!g(t.start))throw new Error("start is required");var n=e[0].encodingLength(t.start);if(r+=1+n,g(t.length)){var n=e[0].encodingLength(t.length);r+=1+n}if(g(t.bitfield)){var n=e[1].encodingLength(t.bitfield);r+=1+n}if(g(t.ack)){var n=e[2].encodingLength(t.ack);r+=1+n}return r}f.encodingLength=r,f.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!g(i.start))throw new Error("start is required");s[o++]=8;e[0].encode(i.start,s,o);o+=e[0].encode.bytes;g(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes);g(i.bitfield)&&(s[o++]=26,e[1].encode(i.bitfield,s,o),o+=e[1].encode.bytes);g(i.ack)&&(s[o++]=32,e[2].encode(i.ack,s,o),o+=e[2].encode.bytes);n.bytes=o-a;return s},f.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={start:0,length:1,bitfield:null,ack:!1};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.start=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.length=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 3:c.bitfield=e[1].decode(r,n),n+=e[1].decode.bytes;break;case 4:c.ack=e[2].decode(r,n),n+=e[2].decode.bytes;break;default:n=s(7&h,r,n)}}}}(),function(){var e=[n.varint];function r(t){var r=0;if(!g(t.start))throw new Error("start is required");var n=e[0].encodingLength(t.start);if(r+=1+n,g(t.length)){var n=e[0].encodingLength(t.length);r+=1+n}return r}h.encodingLength=r,h.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!g(i.start))throw new Error("start is required");s[o++]=8;e[0].encode(i.start,s,o);o+=e[0].encode.bytes;g(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes);n.bytes=o-a;return s},h.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={start:0,length:1};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.start=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.length=e[0].decode(r,n),n+=e[0].decode.bytes;break;default:n=s(7&h,r,n)}}}}(),function(){var e=[n.varint];function r(t){var r=0;if(!g(t.start))throw new Error("start is required");var n=e[0].encodingLength(t.start);if(r+=1+n,g(t.length)){var n=e[0].encodingLength(t.length);r+=1+n}return r}u.encodingLength=r,u.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!g(i.start))throw new Error("start is required");s[o++]=8;e[0].encode(i.start,s,o);o+=e[0].encode.bytes;g(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes);n.bytes=o-a;return s},u.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={start:0,length:0};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.start=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.length=e[0].decode(r,n),n+=e[0].decode.bytes;break;default:n=s(7&h,r,n)}}}}(),function(){var e=[n.varint];function r(t){var r=0;if(!g(t.start))throw new Error("start is required");var n=e[0].encodingLength(t.start);if(r+=1+n,g(t.length)){var n=e[0].encodingLength(t.length);r+=1+n}return r}d.encodingLength=r,d.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!g(i.start))throw new Error("start is required");s[o++]=8;e[0].encode(i.start,s,o);o+=e[0].encode.bytes;g(i.length)&&(s[o++]=16,e[0].encode(i.length,s,o),o+=e[0].encode.bytes);n.bytes=o-a;return s},d.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={start:0,length:0};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.start=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.length=e[0].decode(r,n),n+=e[0].decode.bytes;break;default:n=s(7&h,r,n)}}}}(),function(){var e=[n.varint,n.bool];function r(t){var r=0;if(!g(t.index))throw new Error("index is required");var n=e[0].encodingLength(t.index);if(r+=1+n,g(t.bytes)){var n=e[0].encodingLength(t.bytes);r+=1+n}if(g(t.hash)){var n=e[1].encodingLength(t.hash);r+=1+n}if(g(t.nodes)){var n=e[0].encodingLength(t.nodes);r+=1+n}return r}l.encodingLength=r,l.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!g(i.index))throw new Error("index is required");s[o++]=8;e[0].encode(i.index,s,o);o+=e[0].encode.bytes;g(i.bytes)&&(s[o++]=16,e[0].encode(i.bytes,s,o),o+=e[0].encode.bytes);g(i.hash)&&(s[o++]=24,e[1].encode(i.hash,s,o),o+=e[1].encode.bytes);g(i.nodes)&&(s[o++]=32,e[0].encode(i.nodes,s,o),o+=e[0].encode.bytes);n.bytes=o-a;return s},l.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={index:0,bytes:0,hash:!1,nodes:0};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.index=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.bytes=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 3:c.hash=e[1].decode(r,n),n+=e[1].decode.bytes;break;case 4:c.nodes=e[0].decode(r,n),n+=e[0].decode.bytes;break;default:n=s(7&h,r,n)}}}}(),function(){var e=[n.varint,n.bool];function r(t){var r=0;if(!g(t.index))throw new Error("index is required");var n=e[0].encodingLength(t.index);if(r+=1+n,g(t.bytes)){var n=e[0].encodingLength(t.bytes);r+=1+n}if(g(t.hash)){var n=e[1].encodingLength(t.hash);r+=1+n}return r}p.encodingLength=r,p.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!g(i.index))throw new Error("index is required");s[o++]=8;e[0].encode(i.index,s,o);o+=e[0].encode.bytes;g(i.bytes)&&(s[o++]=16,e[0].encode(i.bytes,s,o),o+=e[0].encode.bytes);g(i.hash)&&(s[o++]=24,e[1].encode(i.hash,s,o),o+=e[1].encode.bytes);n.bytes=o-a;return s},p.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={index:0,bytes:0,hash:!1};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.index=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.bytes=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 3:c.hash=e[1].decode(r,n),n+=e[1].decode.bytes;break;default:n=s(7&h,r,n)}}}}(),function(){var e=b.Node={buffer:!0,encodingLength:null,encode:null,decode:null};!function(){var r=[n.varint,n.bytes];function o(e){var t=0;if(!g(e.index))throw new Error("index is required");var n=r[0].encodingLength(e.index);if(t+=1+n,!g(e.hash))throw new Error("hash is required");var n=r[1].encodingLength(e.hash);if(t+=1+n,!g(e.size))throw new Error("size is required");var n=r[0].encodingLength(e.size);return t+=1+n}e.encodingLength=o,e.encode=function e(n,i,s){s||(s=0);i||(i=t.allocUnsafe(o(n)));var a=s;if(!g(n.index))throw new Error("index is required");i[s++]=8;r[0].encode(n.index,i,s);s+=r[0].encode.bytes;if(!g(n.hash))throw new Error("hash is required");i[s++]=18;r[1].encode(n.hash,i,s);s+=r[1].encode.bytes;if(!g(n.size))throw new Error("size is required");i[s++]=24;r[0].encode(n.size,i,s);s+=r[0].encode.bytes;e.bytes=s-a;return i},e.decode=function e(t,n,o){n||(n=0);o||(o=t.length);if(!(o<=t.length&&n<=t.length))throw new Error("Decoded message is not valid");var a=n;var c={index:0,hash:null,size:0};var f=!1;var h=!1;var u=!1;for(;;){if(o<=n){if(!f||!h||!u)throw new Error("Decoded message is not valid");return e.bytes=n-a,c}var d=i.decode(t,n);n+=i.decode.bytes;var l=d>>3;switch(l){case 1:c.index=r[0].decode(t,n),n+=r[0].decode.bytes,f=!0;break;case 2:c.hash=r[1].decode(t,n),n+=r[1].decode.bytes,h=!0;break;case 3:c.size=r[0].decode(t,n),n+=r[0].decode.bytes,u=!0;break;default:n=s(7&d,t,n)}}}}();var r=[n.varint,n.bytes,e];function o(e){var t=0;if(!g(e.index))throw new Error("index is required");var n=r[0].encodingLength(e.index);if(t+=1+n,g(e.value)){var n=r[1].encodingLength(e.value);t+=1+n}if(g(e.nodes))for(var s=0;s<e.nodes.length;s++)if(g(e.nodes[s])){var n=r[2].encodingLength(e.nodes[s]);t+=i.encodingLength(n),t+=1+n}if(g(e.signature)){var n=r[1].encodingLength(e.signature);t+=1+n}return t}b.encodingLength=o,b.encode=function e(n,s,a){a||(a=0);s||(s=t.allocUnsafe(o(n)));var c=a;if(!g(n.index))throw new Error("index is required");s[a++]=8;r[0].encode(n.index,s,a);a+=r[0].encode.bytes;g(n.value)&&(s[a++]=18,r[1].encode(n.value,s,a),a+=r[1].encode.bytes);if(g(n.nodes))for(var f=0;f<n.nodes.length;f++)g(n.nodes[f])&&(s[a++]=26,i.encode(r[2].encodingLength(n.nodes[f]),s,a),a+=i.encode.bytes,r[2].encode(n.nodes[f],s,a),a+=r[2].encode.bytes);g(n.signature)&&(s[a++]=34,r[1].encode(n.signature,s,a),a+=r[1].encode.bytes);e.bytes=a-c;return s},b.decode=function e(t,n,o){n||(n=0);o||(o=t.length);if(!(o<=t.length&&n<=t.length))throw new Error("Decoded message is not valid");var a=n;var c={index:0,value:null,nodes:[],signature:null};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return e.bytes=n-a,c}var h=i.decode(t,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.index=r[0].decode(t,n),n+=r[0].decode.bytes,f=!0;break;case 2:c.value=r[1].decode(t,n),n+=r[1].decode.bytes;break;case 3:var d=i.decode(t,n);n+=i.decode.bytes,c.nodes.push(r[2].decode(t,n,n+d)),n+=r[2].decode.bytes;break;case 4:c.signature=r[1].decode(t,n),n+=r[1].decode.bytes;break;default:n=s(7&h,t,n)}}}}()}).call(this,e("buffer").Buffer)},{buffer:48,"protocol-buffers-encodings":361}],286:[function(e,t,r){arguments[4][193][0].apply(r,arguments)},{"./_stream_readable":288,"./_stream_writable":290,"core-util-is":208,dup:193,inherits:313,"process-nextick-args":359}],287:[function(e,t,r){arguments[4][194][0].apply(r,arguments)},{"./_stream_transform":289,"core-util-is":208,dup:194,inherits:313}],288:[function(e,t,r){arguments[4][195][0].apply(r,arguments)},{"./_stream_duplex":286,"./internal/streams/BufferList":291,"./internal/streams/destroy":292,"./internal/streams/stream":293,_process:119,"core-util-is":208,dup:195,events:83,inherits:313,isarray:316,"process-nextick-args":359,"safe-buffer":295,"string_decoder/":296,util:18}],289:[function(e,t,r){arguments[4][196][0].apply(r,arguments)},{"./_stream_duplex":286,"core-util-is":208,dup:196,inherits:313}],290:[function(e,t,r){arguments[4][197][0].apply(r,arguments)},{"./_stream_duplex":286,"./internal/streams/destroy":292,"./internal/streams/stream":293,_process:119,"core-util-is":208,dup:197,inherits:313,"process-nextick-args":359,"safe-buffer":295,timers:155,"util-deprecate":442}],291:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{dup:134,"safe-buffer":295,util:18}],292:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{dup:135,"process-nextick-args":359}],293:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{dup:136,events:83}],294:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./lib/_stream_duplex.js":286,"./lib/_stream_passthrough.js":287,"./lib/_stream_readable.js":288,"./lib/_stream_transform.js":289,"./lib/_stream_writable.js":290,dup:140}],295:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{buffer:48,dup:137}],296:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":295}],297:[function(e,t,r){arguments[4][173][0].apply(r,arguments)},{dup:173}],298:[function(e,t,r){arguments[4][174][0].apply(r,arguments)},{dup:174}],299:[function(e,t,r){arguments[4][175][0].apply(r,arguments)},{"./decode.js":297,"./encode.js":298,"./length.js":300,dup:175}],300:[function(e,t,r){arguments[4][176][0].apply(r,arguments)},{dup:176}],301:[function(e,t,r){(function(r,n){var i=e("last-one-wins"),s=e("unordered-array-remove"),o=e("unordered-set"),a=e("merkle-tree-stream/generator"),c=e("flat-tree"),f=e("bulk-write-stream"),h=e("from2"),u=e("codecs"),d=e("thunky"),l=e("atomic-batcher"),p=e("inherits"),b=e("events"),g=e("random-access-file"),y=e("./lib/bitfield"),m=e("sparse-bitfield"),v=e("./lib/tree-index"),_=e("./lib/storage"),w=e("hypercore-crypto"),A=e("inspect-custom-symbol"),I=e("pretty-hash"),E=e("nanoguard"),C=e("./lib/safe-buffer-equals"),k=null,S={sign:(e,t,r)=>r(null,w.sign(e,t)),verify:(e,t,r,n)=>n(null,w.verify(e,t,r))};function x(t,r,s){if(!(this instanceof x))return new x(t,r,s);var o;if(b.EventEmitter.call(this),"string"==typeof t&&(o=t,t=function(t){try{var r="bitfield"===t?e("fd-lock"):null}catch(e){}return g(t,{directory:o,lock:r})}),"function"!=typeof t)throw new Error("Storage should be a function or string");"string"==typeof r&&(r=n.from(r,"hex")),n.isBuffer(r)||s||(s=r,r=null),s||(s={});var a=this,c=s.secretKey||null;"string"==typeof c&&(c=n.from(c,"hex")),this.id=s.id||w.randomBytes(32),this.live=!1!==s.live,this.sparse=!!s.sparse,this.length=0,this.byteLength=0,this.maxRequests=s.maxRequests||16,this.key=r||s.key||null,this.discoveryKey=this.key&&w.discoveryKey(this.key),this.secretKey=c,this.bitfield=null,this.tree=null,this.writable=!!s.writable,this.readable=!0,this.opened=!1,this.closed=!1,this.allowPush=!!s.allowPush,this.peers=[],this.ifAvailable=new E,this.extensions=(s.extensions||[]).sort(),this.crypto=s.crypto||S,this._onwrite=s.onwrite||null,this._ready=d(function(e){a._open(e)}),this._indexing=!!s.indexing,this._createIfMissing=!1!==s.createIfMissing,this._overwrite=!!s.overwrite,this._storeSecretKey=!1!==s.storeSecretKey,this._merkle=null,this._storage=_(t,s.storageCacheSize),this._batch=l(this._onwrite?function e(t,r){if(!a._merkle)return a._reloadMerkleStateBeforeAppend(e,t,r);a._appendHook(t,r)}:function e(t,r){if(!a._merkle)return a._reloadMerkleStateBeforeAppend(e,t,r);a._append(t,r)}),this._seq=0,this._waiting=[],this._selections=[],this._reserved=m(),this._synced=null,this._stats=void 0===s.stats||s.stats?{downloadedBlocks:0,downloadedBytes:0,uploadedBlocks:0,uploadedBytes:0}:null,this._codec=T(s.valueEncoding),this._sync=i(function(e,t){a._syncBitfield(t)}),this.sparse||this.download({start:0,end:-1}),this.sparse&&s.eagerUpdate&&this.update(function e(t){t&&this.emit("update-error",t),a.update(e)}),this._ready(function(e){e&&a.emit("error",e)})}function B(){}function M(e,t){return e&&e.index===t.index&&0===n.compare(e.hash,t.hash)}function R(e,t){return e+t.size}function D(e){return 0==(1&e)}function T(e){return u("json"===e?"ndjson":e)}function j(e,t){return function(r,n){if(r)return t(r);try{n=e.decode(n)}catch(r){return t(r)}t(null,n)}}function O(e,t){var r=!1,n=setTimeout(function(){r=!0;var t=new Error("ETIMEDOUT");t.code="ETIMEDOUT",e(t)},t);return function(t,i){if(r)return;clearTimeout(n),e(t,i)}}function Q(e){return 1024*Math.floor(e/1024/1024)*1024}function L(e,t,r){var n=new Error(r);return n.code=e,n.errno=t,n}t.exports=x,p(x,b.EventEmitter),x.discoveryKey=w.discoveryKey,x.prototype[A]=function(e,t){var r="";if("number"==typeof t.indentationLvl)for(;r.length<t.indentationLvl;)r+=" ";return"Hypercore(\n"+r+"  key: "+t.stylize(this.key&&I(this.key),"string")+"\n"+r+"  discoveryKey: "+t.stylize(this.discoveryKey&&I(this.discoveryKey),"string")+"\n"+r+"  opened: "+t.stylize(this.opened,"boolean")+"\n"+r+"  sparse: "+t.stylize(this.sparse,"boolean")+"\n"+r+"  writable: "+t.stylize(this.writable,"boolean")+"\n"+r+"  length: "+t.stylize(this.length,"number")+"\n"+r+"  byteLength: "+t.stylize(this.byteLength,"number")+"\n"+r+"  peers: "+t.stylize(this.peers.length,"number")+"\n"+r+")"},Object.defineProperty(x.prototype,"remoteLength",{enumerable:!0,get:function(){for(var e=0,t=0;t<this.peers.length;t++){var r=this.peers[t].remoteLength;r>e&&(e=r)}return e}}),Object.defineProperty(x.prototype,"stats",{enumerable:!0,get:function(){if(!this._stats)return null;for(var e=[],t=0;t<this.peers.length;t++){var r=this.peers[t];e[t]=r._stats}return{peers:e,totals:this._stats}}}),x.prototype.replicate=function(t){k||(k=e("./lib/replicate")),this._selections.length&&-1===this._selections[0].end||this.sparse||t&&t.live||this.download({start:0,end:-1}),(t=t||{}).stats=!!this._stats,t.extensions||(t.extensions=this.extensions);var r=k(this,t);return this.emit("replicating",r),r},x.prototype.ready=function(e){this._ready(function(t){t||e()})},x.prototype.update=function(e,t){if("function"==typeof e)return this.update(-1,e);"number"==typeof e&&(e={minLength:e}),e||(e={}),t||(t=B);var r=this,n="number"==typeof e.minLength?e.minLength:-1;this.ready(function(i){if(i)return t(i);if(-1===n&&(n=r.length+1),r.length>=n)return t(null);r.writable&&(t=r._writeStateReloader(t));var s={hash:!1!==e.hash,bytes:0,index:n-1,update:!0,options:e,callback:t};r._waiting.push(s),e.ifAvailable&&r._ifAvailable(s,n),r._updatePeers()})},x.prototype._ifAvailable=function(e,t){var r=e.callback,n=!1,i=this;function s(t){if(!n){n=!0;var s=i._waiting.indexOf(e);s>-1&&i._waiting.splice(s,1),r(t)}}e.callback=s,this.ifAvailable.ready(function(){if(i.closed)return s(new Error("Closed"));i.length>=t||i.remoteLength>=t||s(new Error("No update available from peers"))})},x.prototype._ifAvailableGet=function(e){var t=e.callback,r=!1,n=this;function i(i,s){if(!r){r=!0;var o=n._waiting.indexOf(e);o>-1&&n._waiting.splice(o,1),t(i,s)}}e.callback=i,this.ifAvailable.ready(function(){if(n.closed)return i(new Error("Closed"));for(var t=0;t<n.peers.length;t++){if(n.peers[t].remoteBitfield.get(e.index))return}i(new Error("Block not available from peers"))})},x.prototype._writeStateReloader=function(e){var t=this;return function(r){if(r)return e(r);t._reloadMerkleState(e)}},x.prototype._reloadMerkleState=function(e){var t=this;this._roots(t.length,function(r,n){if(r)return e(r);t._merkle=a(w,n),e(null)})},x.prototype._reloadMerkleStateBeforeAppend=function(e,t,r){this._reloadMerkleState(function(n){if(n)return r(n);e(t,r)})},x.prototype._open=function(e){var t=this,r=!1,i=!0;function s(s,o){if(s)return e(s);if(!o.key&&o.bitfield.length&&(t._overwrite=!0),t._overwrite&&(o.bitfield=[],o.key=o.secretKey=null),t.bitfield=y(o.bitfieldPageSize,o.bitfield),t.tree=v(t.bitfield.tree),t.length=t.tree.blocks(),t._seq=t.length,o.key&&t.key&&0!==n.compare(o.key,t.key))return t._forceCloseAndError(e,new Error("Another hypercore is stored here"));if(o.key&&(t.key=o.key),o.secretKey&&(t.secretKey=o.secretKey),!t.length)return c(null,null);function c(n,s){if(t.length&&(t.live=!!s),(r||!t.key)&&!t._createIfMissing)return t._forceCloseAndError(e,new Error("No hypercore is stored here"));if(!t.key&&t.live){var f=w.keyPair();t.secretKey=f.secretKey,t.key=f.publicKey}var h=!!t.secretKey||null===t.key;if(!h&&t.writable)return t._forceCloseAndError(e,new Error("Feed is not writable"));t.writable=h,t.discoveryKey=t.key&&w.discoveryKey(t.key),t._storeSecretKey&&!t.secretKey&&(t._storeSecretKey=!1);var u=r||!C(t.key,o.key),d=t._storeSecretKey&&(r||!C(t.secretKey,o.secretKey)),l=1+(u?1:0)+(d?1:0)+(t._overwrite?1:0),p=null;function b(r){if(r&&(p=r),!--l)return p?t._forceCloseAndError(e,p):void t._roots(t.length,g)}function g(r,n){return r&&i?(i=!1,t.length--,void t._storage.getSignature(t.length-1,c)):r?t._forceCloseAndError(e,r):(t._merkle=a(w,n),t.byteLength=n.reduce(R,0),t.opened=!0,t.emit("ready"),void e(null))}u&&t._storage.key.write(0,t.key,b),d&&t._storage.secretKey.write(0,t.secretKey,b),t._overwrite&&t._storage.bitfield.del(32,1/0,b),b(null)}t._storage.getSignature(t.length-1,c)}this._storage.openKey(function(e,n){if(!n||t._overwrite||t.key||(t.key=n),!t.key&&t.live){var i=w.keyPair();t.secretKey=i.secretKey,t.key=i.publicKey,r=!0}t.discoveryKey=t.key&&w.discoveryKey(t.key),t._storage.open({key:t.key,discoveryKey:t.discoveryKey},s)})},x.prototype.download=function(e,t){if("function"==typeof e)return this.download(null,e);if("number"==typeof e&&(e={start:e,end:e+1}),e||(e={}),t||(t=B),!this.readable)return t(new Error("Feed is closed"));var r={_index:this._selections.length,hash:!!e.hash,iterator:null,start:e.start||0,end:e.end||-1,want:0,linear:!!e.linear,callback:t};return r.want=Q(r.start),this._selections.push(r),this._updatePeers(),r},x.prototype.undownload=function(e){if("number"==typeof e&&(e={start:e,end:e+1}),e||(e={}),e.callback&&e._index>-1)return o.remove(this._selections,e),void r.nextTick(e.callback,L("ECANCELED",-11,"Download was cancelled"));for(var t=e.start||0,n=e.end||-1,i=!!e.hash,s=!!e.linear,a=0;a<this._selections.length;a++){var c=this._selections[a];if(c.start===t&&c.end===n&&c.hash===i&&c.linear===s)return o.remove(this._selections,c),void r.nextTick(e.callback,L("ECANCELED",-11,"Download was cancelled"))}},x.prototype.digest=function(e){return this.tree.digest(2*e)},x.prototype.proof=function(e,t,r){if("function"==typeof t)return this.proof(e,null,t);if(!this.opened)return this._readyAndProof(e,t,r);t||(t={});var n=this.tree.proof(2*e,t);if(!n)return r(new Error("No proof available for this index"));var i=this.live&&!!n.verifiedBy,s=n.nodes.length+(i?1:0),o=null,a=null,c=new Array(n.nodes.length);if(!s)return r(null,{nodes:c,signature:null});for(var f=0;f<n.nodes.length;f++)this._storage.getNode(n.nodes[f],h);function h(e,t){if(e&&(o=e),t&&(c[n.nodes.indexOf(t.index)]=t),!--s)return o?r(o):void r(null,{nodes:c,signature:a})}i&&this._storage.getSignature(n.verifiedBy/2-1,function(e,t){t&&(a=t);h(e,null)})},x.prototype._readyAndProof=function(e,t,r){var n=this;this._ready(function(i){if(i)return r(i);n.proof(e,t,r)})},x.prototype.put=function(e,t,r,n){if(!this.opened)return this._readyAndPut(e,t,r,n);this._putBuffer(e,this._codec.encode(t),r,null,n)},x.prototype.cancel=function(e,t){t||(t=e+1);for(var r=this._selections.length-1;r>=0;r--){var n=this._selections[r];e<=n.start&&n.end<=t&&this.undownload(n)}this.opened?this._cancel(e,t):this._readyAndCancel(e,t)},x.prototype._cancel=function(e,t){var n=0;for(n=e;n<t;n++)this._reserved.set(n,!1);for(n=this._waiting.length-1;n>=0;n--){var i=this._waiting[n];(e<=i.start&&i.end<=t||e<=i.index&&i.index<t)&&(s(this._waiting,n),i.callback&&r.nextTick(i.callback,new Error("Request cancelled")))}},x.prototype.clear=function(e,t,n,i){if("function"==typeof t)return this.clear(e,e+1,null,t);if("function"==typeof n)return this.clear(e,t,null,n);n||(n={}),t||(t=e+1),i||(i=B);var s=this,o=0===e?0:"number"==typeof n.byteOffset?n.byteOffset:-1,a="number"==typeof n.byteLength?n.byteLength:-1;this._ready(function(c){if(c)return i(c);for(var f=!1,h=e;h<t;h++)s.bitfield.set(h,!1)&&(f=!0);if(!f)return r.nextTick(i);if(s._unannounce({start:e,length:t-e}),!1===n.delete||s._indexing)return u();if(o>-1)return d(null,o);function u(){s.emit("clear",e,t),s._sync(null,i)}function d(e,r){return e?i(e):(o=r,a>-1?l(null,a+o):t===s.length?l(null,s.byteLength):void s._storage.dataOffset(t,[],l))}function l(e,t){return e?i(e):s._storage.data.del?void s._storage.data.del(o,t-o,u):u()}s._storage.dataOffset(e,[],d)})},x.prototype.signature=function(e,t){return"function"==typeof e?this.signature(this.length-1,e):e<0||e>=this.length?t(new Error("No signature available for this index")):void this._storage.nextSignature(e,t)},x.prototype.verify=function(e,t,r){var n=this;this.rootHashes(e,function(e,i){if(e)return r(e);var s=w.tree(i);n.crypto.verify(s,t,n.key,function(e,t){return e?r(e):t?r(null,!0):r(new Error("Signature verification failed"))})})},x.prototype.rootHashes=function(e,t){this._getRootsToVerify(2*e+2,{},[],t)},x.prototype.seek=function(e,t,n){if("function"==typeof t)return this.seek(e,null,t);if(t||(t={}),!this.opened)return this._readyAndSeek(e,t,n);var i=this;if(e===this.byteLength)return r.nextTick(n,null,this.length,0);this._seek(e,function(r,s,o){if(!r&&D(s))return function(t,r){for(var s=0;s<i.peers.length;s++)i.peers[s].haveBytes(e);n(null,t,r)}(s/2,o);if(!1===t.wait)return n(r||new Error("Unable to seek to this offset"));var a=t.start||0,f=t.end||-1;if(!r){var h=c.leftSpan(s)/2,u=c.rightSpan(s)/2+1;h>a&&(a=h),(u<f||-1===f)&&(f=u)}if(f>-1&&f<=a)return n(new Error("Unable to seek to this offset"));i._waiting.push({hash:!1!==t.hash,bytes:e,index:-1,start:a,end:f,want:Q(a),callback:n||B}),i._updatePeers()})},x.prototype._seek=function(e,t){if(0===e)return t(null,0,0);var r=this,n=c.fullRoots(2*this.length),i=0;function s(n){if(D(n))return t(null,i,e);for(var s=c.leftChild(n);!r.tree.get(s);){if(D(s))return t(null,i,e);s=c.leftChild(s)}r._storage.getNode(s,o)}function o(r,n){if(r)return t(r);n.size>e?(i=n.index,s(n.index)):(e-=n.size,c.parent(n.index)===i?s(i=c.sibling(n.index)):s(c.sibling(n.index)))}!function o(a,c){if(a)return t(a);if(c){if(c.size>e)return i=c.index,s(c.index);e-=c.size}if(!n.length)return t(new Error("Out of bounds"));r._storage.getNode(n.shift(),o)}(null,null)},x.prototype._readyAndSeek=function(e,t,r){var n=this;this._ready(function(i){if(i)return r(i);n.seek(e,t,r)})},x.prototype._getBuffer=function(e,t){this._storage.getData(e,t)},x.prototype._putBuffer=function(e,t,r,n,i){for(var s=this,o=-1,a=[],f=2*e,h=t?0:1;;){if(this.tree.get(f)){o=f;break}var u=c.sibling(f);if(f=c.parent(f),h<r.nodes.length&&r.nodes[h].index===u)h++;else{if(!this.tree.get(u))break;a.push(u)}}-1===o&&this.tree.get(f)&&(o=f);var d=null,l=null,p=new Array(a.length),b=a.length+(o>-1?1:0);for(h=0;h<a.length;h++)this._storage.getNode(a[h],g);function g(e,t){e&&(d=e),t&&(p[a.indexOf(t.index)]=t),--b||y(d)}function y(o){if(o)return i(o);s._verifyAndWrite(e,t,r,p,l,n,i)}o>-1&&this._storage.getNode(o,function(e,t){e&&(d=e);t&&(l=t);--b||y(d)}),a.length||-1!==o||y(null)},x.prototype._readyAndPut=function(e,t,r,n){var i=this;this._ready(function(s){if(s)return n(s);i.put(e,t,r,n)})},x.prototype._write=function(e,t,r,n,i,s){if(!this._onwrite)return this._writeAfterHook(e,t,r,n,i,s);this._onwrite(e,t,i,function(e,t,r,n,i,s,o){return function(a){if(a)return o(a);e._writeAfterHook(t,r,n,i,s,o)}}(this,e,t,r,n,i,s))},x.prototype._writeAfterHook=function(e,t,r,n,i,s){for(var o=this,a=r.length+1+(n?1:0),c=null,f=0;f<r.length;f++)this._storage.putNode(r[f].index,r[f],h);function h(n){if(n&&(c=n),!--a)return c?s(c):void o._writeDone(e,t,r,i,s)}t?this._storage.putData(e,t,r,h):h(),n&&this._storage.putSignature(n.index,n.signature,h)},x.prototype._writeDone=function(e,t,r,n,i){for(var s=0;s<r.length;s++)this.tree.set(r[s].index);this.tree.set(2*e),t&&(this.bitfield.set(e,!0)&&(this._stats&&(this._stats.downloadedBlocks+=1,this._stats.downloadedBytes+=t.length),this.emit("download",e,t,n)),this.peers.length&&this._announce({start:e},n),this.writable||(this._synced||(this._synced=this.bitfield.iterator(0,this.length)),-1===this._synced.next()&&(this._synced.range(0,this.length),this._synced.seek(0),-1===this._synced.next()&&this.emit("sync")))),this._sync(null,i)},x.prototype._verifyAndWrite=function(e,t,r,n,i,s,o){var a=[],f=r.nodes,h=t?new _.Node(2*e,w.data(t),t.length):f.shift();if(M(i,h))this._write(e,t,a,null,s,o);else for(;;){var u=null,d=c.sibling(h.index);if(f.length&&f[0].index===d)u=f.shift(),a.push(u);else{if(!n.length||n[0].index!==d)return void this._verifyRootsAndWrite(e,t,h,r,a,s,o);u=n.shift()}if(a.push(h),M(i,h=new _.Node(c.parent(h.index),w.parent(h,u),h.size+u.size)))return void this._write(e,t,a,null,s,o)}},x.prototype._verifyRootsAndWrite=function(e,t,r,i,s,o,a){var f=i.nodes,h=f.length?f[f.length-1].index:r.index,u=Math.max(c.rightSpan(r.index),c.rightSpan(h))+2,d=this;this._getRootsToVerify(u,r,f,function(r,c,f){if(r)return a(r);var h=w.tree(c),l=null;if(d.length&&d.live&&!i.signature)return a(new Error("Remote did not include a signature"));if(i.signature)d.crypto.verify(h,i.signature,d.key,function(e,t){return e?a(e):t?(l={index:u/2-1,signature:i.signature},void p()):a(new Error("Remote signature could not be verified"))});else{if(0!==n.compare(h,d.key))return a(new Error("Remote checksum failed"));p()}function p(){d.live=!!l;var r=u/2;r>d.length&&(d.writable&&(d._merkle=null),d.length=r,d._seq=r,d.byteLength=c.reduce(R,0),d._synced&&d._synced.seek(0,d.length),d.emit("append")),d._write(e,t,s.concat(f),l,o,a)}})},x.prototype._getRootsToVerify=function(e,t,r,n){for(var i=c.fullRoots(e),s=new Array(i.length),o=[],a=null,f=s.length,h=0;h<i.length;h++)i[h]===t.index?(o.push(t),u(null,t)):r.length&&i[h]===r[0].index?(o.push(r[0]),u(null,r.shift())):this.tree.get(i[h])?this._storage.getNode(i[h],u):u(new Error("Missing tree roots needed for verify"));function u(e,t){e&&(a=e),t&&(s[i.indexOf(t.index)]=t),--f||function(e){if(e)return n(e);n(null,s,o)}(a)}},x.prototype._announce=function(e,t){for(var r=0;r<this.peers.length;r++){var n=this.peers[r];n!==t&&n.have(e)}},x.prototype._unannounce=function(e){for(var t=0;t<this.peers.length;t++)this.peers[t].unhave(e)},x.prototype.downloaded=function(e,t){return this.bitfield.total(e,t)},x.prototype.has=function(e,t){return void 0===t?this.bitfield.get(e):t-e===this.bitfield.total(e,t)},x.prototype.head=function(e,t){if("function"==typeof e)return this.head({},e);var r=this;this._ready(function(n){if(n)return t(n);0===r.length?t(new Error("feed is empty")):r.get(r.length-1,e,t)})},x.prototype.get=function(e,t,r){if("function"==typeof t)return this.get(e,null,t);if(!this.opened)return this._readyAndGet(e,t,r);if(!this.readable)return r(new Error("Feed is closed"));if(t&&t.timeout&&(r=O(r,t.timeout)),!this.bitfield.get(e)){if(t&&!1===t.wait)return r(new Error("Block not downloaded"));var n={bytes:0,hash:!1,index:e,options:t,callback:r};return this._waiting.push(n),t&&t.ifAvailable&&this._ifAvailableGet(n),void this._updatePeers()}t&&t.valueEncoding?r=j(T(t.valueEncoding),r):this._codec!==u.binary&&(r=j(this._codec,r)),this._getBuffer(e,r)},x.prototype._readyAndGet=function(e,t,r){var n=this;this._ready(function(i){if(i)return r(i);n.get(e,t,r)})},x.prototype.getBatch=function(e,t,r,n){if("function"==typeof r)return this.getBatch(e,t,null,r);if(!this.opened)return this._readyAndGetBatch(e,t,r,n);var i=this,s=!r||!1!==r.wait;return this.has(e,t)?this._getBatch(e,t,r,n):s?(r&&r.timeout&&(n=O(n,r.timeout)),void this.download({start:e,end:t},function(s){if(s)return n(s);i._getBatch(e,t,r,n)})):n(new Error("Block not downloaded"))},x.prototype._getBatch=function(e,t,r,n){var i=r&&r.valueEncoding,s=i?T(i):this._codec;this._storage.getDataBatch(e,t-e,function(e,t){if(e)return n(e);for(var r=new Array(t.length),i=0;i<t.length;i++)try{r[i]=s?s.decode(t[i]):t[i]}catch(e){return n(e)}n(null,r)})},x.prototype._readyAndGetBatch=function(e,t,r,n){var i=this;this._ready(function(s){if(s)return n(s);i.getBatch(e,t,r,n)})},x.prototype._updatePeers=function(){for(var e=0;e<this.peers.length;e++)this.peers[e].update()},x.prototype.createWriteStream=function(){var e=this;return f.obj(function(t,r){e.append(t,r)})},x.prototype.createReadStream=function(e){e||(e={});var t=this,r=e.start||0,n="number"==typeof e.end?e.end:-1,i=!!e.live,s=!1!==e.snapshot,o=!0,a=this.download({start:r,end:n,linear:!0});return h.obj(c).on("end",f).on("close",f);function c(f,h){if(!t.opened)return function(e,r){t._ready(function(t){if(t)return r(t);c(e,r)})}(f,h);if(!t.readable)return h(new Error("Feed is closed"));if(o){if(-1===n&&(i?n=1/0:s&&(n=t.length),r>n))return h(null,null);e.tail&&(r=t.length),o=!1}if(r===n||-1===n&&r===t.length)return h(null,null);a.start++,a.iterator&&a.iterator.start++,t.get(r++,e,h)}function f(){a&&(t.undownload(a),a=null)}},x.prototype.finalize=function(e){this.key||(this.key=w.tree(this._merkle.roots),this.discoveryKey=w.discoveryKey(this.key)),this._storage.key.write(0,this.key,e)},x.prototype.append=function(e,t){t||(t=B);var r=this,n=Array.isArray(e)?e:[e];this._batch(n,function(e){if(e)return t(e);var i=r._seq;r._seq+=n.length,t(null,i)})},x.prototype.flush=function(e){this.append([],e)},x.prototype.close=function(e){var t=this;this._ready(function(){t._forceCloseAndError(e,null)})},x.prototype._forceCloseAndError=function(e,t){var r=this;this.writable=!1,this.readable=!1,this._storage.close(function(n){n||(n=t),r.closed||n||r._onclose(),e&&e(n)})},x.prototype._onclose=function(){for(this.ifAvailable.destroy(),this.closed=!0;this._waiting.length;)this._waiting.pop().callback(new Error("Feed is closed"));for(;this._selections.length;)this._selections.pop().callback(new Error("Feed is closed"));this.emit("close")},x.prototype._appendHook=function(e,t){var r=this,n=e.length,i=null;if(!n)return this._append(e,t);for(var s=0;s<e.length;s++)this._onwrite(s+this.length,e[s],null,o);function o(s){if(s&&(i=s),!--n)return i?t(i):void r._append(e,t)}},x.prototype._append=function(e,t){if(!this.opened)return this._readyAndAppend(e,t);if(!this.writable)return t(new Error("This feed is not writable. Did you create it?"));var r=this,i=1,s=0,o=null,a=new Array(e.length?2*e.length-1:0),c=2*this.length,f=new Array(e.length);if(!i)return t();for(var h=0;h<e.length;h++){var u=this._codec.encode(e[h]),d=this._merkle.next(u);s+=u.length,f[h]=u;for(var l=0;l<d.length;l++){var p=d[l];p.index>=c&&p.index-c<a.length?a[p.index-c]=p:(i++,this._storage.putNode(p.index,p,b))}}function b(n){if(n&&(o=n),!--i){if(o)return t(o);var a=r.length;r.byteLength+=s;for(var c=0;c<e.length;c++)r.bitfield.set(r.length,!0),r.tree.set(2*r.length++);r.emit("append");var f=r.length-a>1?{start:a,length:r.length-a}:{start:a};r.peers.length&&r._announce(f),r._sync(null,t)}}this.live&&e.length&&(i++,this.crypto.sign(w.tree(this._merkle.roots),this.secretKey,function(t,n){if(t)return b(t);r._storage.putSignature(r.length+e.length-1,n,b)})),this._indexing||(i++,1===f.length?this._storage.data.write(this.byteLength,f[0],b):this._storage.data.write(this.byteLength,n.concat(f),b)),this._storage.putNodeBatch(c,a,b)},x.prototype._readyAndAppend=function(e,t){var r=this;this._ready(function(n){if(n)return t(n);r._append(e,t)})},x.prototype._readyAndCancel=function(e,t){var r=this;this.ready(function(){r._cancel(e,t)})},x.prototype._pollWaiting=function(){for(var e=this._waiting.length,t=0;t<e;t++){var r=this._waiting[t];(r.bytes||this.bitfield.get(r.index))&&(s(this._waiting,t--),e--,r.bytes?this.seek(r.bytes,r,r.callback):r.update?this.update(r.index+1,r.callback):this.get(r.index,r.options,r.callback))}},x.prototype._syncBitfield=function(e){var t=this.bitfield.pages.updates.length,r=null,n=null;if(!t)return this._pollWaiting(),e(null);for(;null!==(r=this.bitfield.pages.lastUpdate());)this._storage.putBitfield(r.offset,r.buffer,i);function i(r){r&&(n=r),--t||e(n)}this._pollWaiting()},x.prototype._roots=function(e,t){var r=c.fullRoots(2*e),n=new Array(r.length),i=r.length,s=null;if(!i)return t(null,n);for(var o=0;o<r.length;o++)this._storage.getNode(r[o],a);function a(e,o){if(e&&(s=e),o&&(n[r.indexOf(o.index)]=o),!--i)return s?t(s):void t(null,n)}},x.prototype.audit=function(e){e||(e=B);var t=this,r={valid:0,invalid:0};this.ready(function(n){if(n)return e(n);var i=0,s=t.length;function o(e,n){if(e)return s(null,null);function s(e,s){var o=s&&w.data(s).equals(n.hash);o?r.valid++:r.invalid++,t.bitfield.set(i,o),i++,a()}t._storage.getData(i,s)}function a(){for(;i<s&&!t.bitfield.get(i);)i++;i>=s?t._sync(null,function(t){if(t)return e(t);e(null,r)}):t._storage.getNode(2*i,o)}a()})},x.prototype.extension=function(e,t){for(var r=this.peers,n=0;n<r.length;n++)r[n].extension(e,t)}}).call(this,e("_process"),e("buffer").Buffer)},{"./lib/bitfield":302,"./lib/replicate":303,"./lib/safe-buffer-equals":304,"./lib/storage":305,"./lib/tree-index":306,_process:119,"atomic-batcher":180,buffer:48,"bulk-write-stream":192,codecs:204,events:83,"fd-lock":18,"flat-tree":265,from2:266,"hypercore-crypto":282,inherits:313,"inspect-custom-symbol":314,"last-one-wins":317,"merkle-tree-stream/generator":337,nanoguard:343,"pretty-hash":358,"random-access-file":369,"sparse-bitfield":430,thunky:435,"unordered-array-remove":440,"unordered-set":441}],302:[function(e,t,r){(function(r){for(var n=e("flat-tree"),i=e("bitfield-rle"),s=e("memory-pager"),o=e("sparse-bitfield"),a=[63,207,243,252],c=[0,192,240,252],f=[128,192,224,240,248,252,254,255],h=[127,191,223,239,247,251,253,254],u=new Array(256),d=new Array(256),l=new Array(256),p=new Array(256),b=new Array(256),g=0;g<256;g++){var y=(240&g)>>4,m=15&g,v=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];u[g]=(15===y?3:0===y?0:1)<<2|(15===m?3:0===m?0:1),d[g]=u[g]<<4,l[g]=255===g?-1:8-Math.ceil(Math.log(256-g)/Math.log(2)),p[g]=255===g?-1:Math.floor(l[g]/2),b[g]=v[g>>4]+v[15&g]}function _(e,t){if(!(this instanceof _))return new _(e,t);e||(e=3584);var i=r.allocUnsafe(e);if(i.fill(255),this.indexSize=e-2048-1024,this.pages=s(e,{deduplicate:i}),t)for(var a=0;a<t.length;a++)this.pages.set(a,t[a]);this.data=o({pageSize:1024,pageOffset:0,pages:this.pages,trackUpdates:!0}),this.tree=o({pageSize:2048,pageOffset:1024,pages:this.pages,trackUpdates:!0}),this.index=o({pageSize:this.indexSize,pageOffset:3072,pages:this.pages,trackUpdates:!0}),this.length=this.data.length,this._iterator=n.iterator(0)}function w(e,t,r){return!(8*t>=e.length)&&e.setByte(t,r)}function A(e){this.start=0,this.end=0,this._indexEnd=0,this._pos=0,this._byte=0,this._bitfield=e}function I(e){return e.index+e.factor/2-1}function E(e){return 1&e.index}t.exports=_,_.prototype.set=function(e,t){var r=7&e;e=(e-r)/8;var n=t?this.data.getByte(e)|128>>r:this.data.getByte(e)&h[r];return!!this.data.setByte(e,n)&&(this.length=this.data.length,this._setIndex(e,n),!0)},_.prototype.get=function(e){return this.data.get(e)},_.prototype.total=function(e,t){if((!e||e<0)&&(e=0),t||(t=this.data.length),t<e)return 0;t>this.data.length&&this._expand(t);var r=7&e,n=7&t,i=(e-r)/8,s=(t-n)/8,o=255-(r?f[r-1]:0),a=n?f[n-1]:0,c=this.data.getByte(i);if(i===s)return b[c&o&a];for(var h=b[c&o],u=i+1;u<s;u++)h+=b[this.data.getByte(u)];return h+=b[this.data.getByte(s)&a]},_.prototype.compress=function(e,t){if(!e&&!t)return i.encode(this.data.toBuffer());for(var n=r.alloc(t),s=e/this.data.pageSize/8,o=s+t/this.data.pageSize/8,a=s*this.data.pageSize;s<o;s++){var c=this.data.pages.get(s,!0);c&&c.buffer&&c.buffer.copy(n,s*this.data.pageSize-a,this.data.pageOffset,this.data.pageOffset+this.data.pageSize)}return i.encode(n)},_.prototype._setIndex=function(e,t){var r=3&e;e=(e-r)/4;var n=this.index,i=this._iterator,s=2*e,o=n.getByte(s)&a[r]|function(e){switch(e){case 255:return 192;case 0:return 0;default:return 64}}(t)>>2*r,c=n.length,f=this.pages.length*this.indexSize;for(i.seek(s);i.index<f&&n.setByte(i.index,o);)o=i.isLeft()?d[o]|u[n.getByte(i.sibling())]:u[o]|d[n.getByte(i.sibling())],i.parent();return c!==n.length&&this._expand(c),i.index!==s},_.prototype._expand=function(e){for(var t=n.fullRoots(2*e),r=this.index,i=this._iterator,s=0,o=0;o<t.length;o++){i.seek(t[o]),s=r.getByte(i.index);do{s=i.isLeft()?d[s]|u[r.getByte(i.sibling())]:u[s]|d[r.getByte(i.sibling())]}while(w(r,i.parent(),s))}},_.prototype.iterator=function(e,t){var r=new A(this);return r.range(e||0,t||this.length),r.seek(0),r},A.prototype.range=function(e,t){return this.start=e,this.end=t,this._indexEnd=2*Math.ceil(t/32),this.end>this._bitfield.length&&this._bitfield._expand(this.end),this},A.prototype.seek=function(e){if((e+=this.start)<this.start&&(e=this.start),e>=this.end)return this._pos=-1,this;var t=7&e;return this._pos=(e-t)/8,this._byte=this._bitfield.data.getByte(this._pos)|(t?f[t-1]:0),this},A.prototype.random=function(){var e=this.seek(Math.floor(Math.random()*(this.end-this.start))).next();return-1===e?this.seek(0).next():e},A.prototype.next=function(){if(-1===this._pos)return-1;for(var e=this._bitfield.data,t=l[this._byte];-1===t;)if(this._byte=e.getByte(++this._pos),-1===(t=l[this._byte])){if(this._pos=this._skipAhead(this._pos),-1===this._pos)return-1;this._byte=e.getByte(this._pos),t=l[this._byte]}this._byte|=f[t];var r=8*this._pos+t;return r<this.end?r:-1},A.prototype.peek=function(){if(-1===this._pos)return-1;var e=l[this._byte],t=8*this._pos+e;return t<this.end?t:-1},A.prototype._skipAhead=function(e){var t=this._bitfield.index,r=this._indexEnd,n=this._bitfield._iterator,i=3&e;n.seek((e-i)/4*2);for(var s=t.getByte(n.index)|c[i];-1===p[s];){if(n.isLeft()?n.next():(n.next(),n.parent()),I(n)>=r){for(;I(n)>=r&&E(n);)n.leftChild();if(I(n)>=r)return-1}s=t.getByte(n.index)}for(;n.factor>2;)p[s]<2?n.leftChild():n.rightChild(),s=t.getByte(n.index);var o=p[s];-1===o&&(o=4);var a=2*n.index+o;return a<=e?e+1:a}}).call(this,e("buffer").Buffer)},{"bitfield-rle":183,buffer:48,"flat-tree":265,"memory-pager":336,"sparse-bitfield":430}],303:[function(e,t,r){var n=e("hypercore-protocol"),i=e("fast-bitfield"),s=e("unordered-set"),o=e("bitfield-rle").align(4),a=e("./safe-buffer-equals"),c=e("./tree-index"),f=new Uint8Array(1024);function h(e,t){this.feed=e,this.stream=null,this.remoteId=null,this.wants=i(),this.remoteBitfield=i(),this.remoteLength=0,this.remoteWant=!1,this.remoteTree=null,this.remoteAck=!1,this.live=!!t.live,this.sparse=e.sparse,this.ack=!!t.ack,this.remoteDownloading=!0,this.downloading="boolean"==typeof t.download?t.download:!e.writable,this.uploading=!0,this.updated=!1,this.maxRequests=t.maxRequests||e.maxRequests||16,this.inflightRequests=[],this.inflightWants=0,this._index=-1,this._lastBytes=0,this._first=!0,this._closed=!1,this._destroyed=!1,this._defaultDownloading=this.downloading,this._iterator=this.remoteBitfield.iterator(),this._stats=t.stats?{uploadedBytes:0,uploadedBlocks:0,downloadedBytes:0,downloadedBlocks:0}:null}function u(e){var t=e?e.buffer:f;return new DataView(t.buffer,t.byteOffset,1024)}t.exports=function(e,t){e.ifAvailable.wait();var r=t.stream;r||(t.expectedFeeds||(t.expectedFeeds=1),t.id||(t.id=e.id),r=n(t));e.opened?i(null):e.ready(i);return r;function i(n){if(e.ifAvailable.continue(),n)return r.destroy(n);if(!r.destroyed){var i=e.ifAvailable.waitAndContinue(),s=new h(e,t);s.feed=e,s.stream=r.feed(e.key,{peer:s}),s.remoteId=r.remoteId,r.setMaxListeners(0),r.on("handshake",function(){a(s.remoteId,r.remoteId)||(s.remoteId=r.remoteId,c()||s.feed.emit("remote-update",s),s.remoteAck=r.remoteAck)}),r.on("close",i),r.on("end",i),r.on("error",i);var o=!0;c()}function c(){return!(!o||!s.remoteId)&&(o=!1,!r.destroyed&&(i(),s.ready(),!0))}}},h.prototype.onwant=function(e){if(!(8191&e.start||8191&e.length)){!this.remoteWant&&this.feed.length&&this.feed.bitfield.get(this.feed.length-1)&&this.stream.have({start:this.feed.length-1}),this.remoteWant=!0;var t=this.feed.bitfield.compress(e.start,e.length);this.stream.have({start:e.start,length:e.length,bitfield:t})}},h.prototype.ondata=function(e){var t=this;if(!(this.feed.allowPush||!e.value)&&!this.feed._reserved.get(e.index))return t.feed.bitfield.get(e.index)||t.unhave({start:e.index}),void t._clear(e.index,!e.value);this.feed._putBuffer(e.index,e.value,e,this,function(r){if(r)return t.destroy(r);e.value&&t.remoteBitfield.set(e.index,!1),t.remoteAck&&t.stream.have({start:e.index,length:1,ack:!0}),t._stats&&e.value&&(t._stats.downloadedBlocks+=1,t._stats.downloadedBytes+=e.value.length),t._clear(e.index,!e.value)})},h.prototype._clear=function(e,t){for(var r=0;r<this.inflightRequests.length;r++)this.inflightRequests[r].index===e&&(this.inflightRequests.splice(r,1),r--);this.feed._reserved.set(e,!1),this.feed._updatePeers()},h.prototype.onrequest=function(e){if(e.bytes)return this._onbytes(e);this.remoteTree||(this.remoteTree=c());var t=this,r={digest:e.nodes,hash:e.hash,tree:this.remoteTree};this.feed.proof(e.index,r,function(r,n){if(r)return t.destroy(r);e.hash?i(null,null):t.feed.bitfield.get(e.index)&&t.feed._getBuffer(e.index,i);function i(r,i){if(r)return t.destroy(r);i&&(t._stats&&(t._stats.uploadedBlocks+=1,t._stats.uploadedBytes+=i.length,t.feed._stats.uploadedBlocks+=1,t.feed._stats.uploadedBytes+=i.length),t.feed.emit("upload",e.index,i,t)),e.index+1>t.remoteLength&&(t.remoteLength=e.index+1,t._updateEnd()),t.stream.data({index:e.index,value:i,nodes:n.nodes,signature:n.signature})}})},h.prototype._onbytes=function(e){var t=this;this.feed.seek(e.bytes,{wait:!1},function(r,n){if(r)return e.bytes=0,void t.onrequest(e);t._lastBytes!==e.bytes&&(t._lastBytes=e.bytes,e.bytes=0,e.index=n,e.nodes=0,t.onrequest(e))})},h.prototype.ontick=function(){if(this.inflightRequests.length){var e=this.inflightRequests[0];if(!--e.tick)return(e.hash?this.feed.tree.get(2*e.index):this.feed.bitfield.get(e.index))?(this.inflightRequests.shift(),void this.feed._reserved.set(e.index,!1)):void this.destroy(new Error("Request timeout"))}},h.prototype.onhave=function(e){if(this.ack&&e.ack&&!e.bitfield&&this.feed.bitfield.get(e.start))this.stream.stream.emit("ack",e);else{var t=this._first;if(this._first&&(this._first=!1),1048576===e.length&&(this.feed.ifAvailable.continue(),this.inflightWants--),e.bitfield){0!==e.length&&1!==e.length||(this.wants=null);var r=o.decode(e.bitfield),n=8*r.length;!function(e,t,r,n){for(var i=new DataView(t.buffer,t.byteOffset),s=Math.floor(t.length/4),o=new Uint32Array(t.buffer,t.byteOffset,s),a=n/8192,c=0,f=u(e.pages.get(a++,!0)),h=0;h<s;h++)o[h]=i.getUint32(4*h,!r)&~f.getUint32(4*c++,!r),256===c&&(f=u(e.pages.get(a++,!0)),c=0)}(this.feed.bitfield,r,this.remoteBitfield.littleEndian,e.start),this.remoteBitfield.fill(r,e.start),n>this.remoteLength&&(this.remoteLength=this.remoteBitfield.last()+1,t=!0)}else{for(var i=e.start,s=e.length||1;s--;)this.remoteBitfield.set(i,!this.feed.bitfield.get(i++));i>this.remoteLength&&(this.remoteLength=i,t=!0)}t&&(this.updated=!0,this.feed.emit("remote-update",this)),this._updateEnd(),this.update()}},h.prototype._updateEnd=function(){if(!this.live&&!this.feed.sparse&&this.feed._selections.length){for(var e=this.feed._selections[0],t=this.feed.length||-1,r=0;r<this.feed.peers.length;r++)this.feed.peers[r].remoteLength>t&&(t=this.feed.peers[r].remoteLength);e.end=t}},h.prototype.onextension=function(e,t){this.feed.emit("extension",e,t,this)},h.prototype.oninfo=function(e){this.remoteDownloading=e.downloading,e.downloading||this.live||(this.update(),this.feed._selections.length&&this.downloading||this.end())},h.prototype.onunhave=function(e){var t=e.start,r=e.length||1;if(0===t&&r>=this.remoteLength)return this.remoteLength=0,void(this.remoteBitfield=i());for(;r--;)this.remoteBitfield.set(t++,!1)},h.prototype.onunwant=h.prototype.oncancel=function(){},h.prototype.onclose=function(){this.destroy()},h.prototype.have=function(e){this.stream&&this.remoteWant&&this.stream.have(e);for(var t=e.start,r=e.length;r--;)this.remoteBitfield.set(t++,!1)},h.prototype.unhave=function(e){this.stream&&this.remoteWant&&this.stream.unhave(e)},h.prototype.haveBytes=function(e){for(var t=0;t<this.inflightRequests.length;t++)this.inflightRequests[t].bytes===e&&(this.feed._reserved.set(this.inflightRequests[t].index,!1),this.inflightRequests.splice(t,1),t--);this.update()},h.prototype.update=function(){for(;this._update(););this._sendWantsMaybe()},h.prototype._update=function(){if(!this.downloading)return!1;for(var e=this.feed._selections,t=this.feed._waiting,r=t.length,n=e.length,i=this.inflightRequests.length,s=0,o=0;i<this.maxRequests;){for(s=Math.floor(Math.random()*t.length),o=0;o<t.length;o++){var a=t[s++];if(s===t.length&&(s=0),this._downloadWaiting(a),t.length!==r)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(i===this.inflightRequests.length)break;i=this.inflightRequests.length}for(;i<this.maxRequests;){for(s=Math.floor(Math.random()*e.length),o=0;o<e.length;o++){var c=e[s++];if(s===e.length&&(s=0),c.iterator||(c.iterator=this.feed.bitfield.iterator(c.start,c.end)),this._downloadRange(c),e.length!==n)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(i===this.inflightRequests.length)return!1;i=this.inflightRequests.length}return!1},h.prototype.ready=function(){s.add(this.feed.peers,this),this._sendWants(),this.feed.emit("peer-add",this)},h.prototype.end=function(){if(!this.downloading&&!this.remoteDownloading&&!this.live)return this._defaultDownloading||this.stream.info({downloading:!1,uploading:!1}),void this._close();this._closed?this.live||this._close():(this._closed=!0,this.downloading=!1,this.stream.info({downloading:!1,uploading:!0}))},h.prototype._close=function(){if(-1!==this._index){this._destroyed||(this.stream.close(),this._destroyed=!0),s.remove(this.feed.peers,this),this._index=-1;for(var e=0;e<this.inflightRequests.length;e++)this.feed._reserved.set(this.inflightRequests[e].index,!1);for(this._updateEnd(),this.remoteWant=!1,this.feed._updatePeers(),this.feed.emit("peer-remove",this),e=0;e<this.inflightWants;e++)this.feed.ifAvailable.continue()}},h.prototype.destroy=function(e){-1===this._index||this._destroyed||(this.stream.destroy(e),this._destroyed=!0,this._close())},h.prototype._sendWantsMaybe=function(){this.inflightRequests.length<this.maxRequests&&this._sendWants()},h.prototype._sendWants=function(){if(this.wants&&this.downloading&&!(this.inflightWants>=16)){var e;for(e=0;e<this.feed._waiting.length;e++){var t=this.feed._waiting[e];if(-1===t.index?this._sendWantRange(t):this._sendWant(t.index),this.inflightWants>=16)return}for(e=0;e<this.feed._selections.length;e++){var r=this.feed._selections[e];if(this._sendWantRange(r),this.inflightWants>=16)return}this._sendWant(0)}},h.prototype._sendWantRange=function(e){for(var t=0;;){if(t>=this.remoteLength)return;if(-1!==e.end&&t>=e.end)return;if(this._sendWant(t))return;if(!this.wants.get(Math.floor(t/1024/1024)))return;t+=1048576}},h.prototype._sendWant=function(e){var t=Math.floor(e/1048576);return!this.wants.get(t)&&(this.wants.set(t,!0),this.inflightWants++,this.feed.ifAvailable.wait(),this.stream.want({start:1048576*t,length:1048576}),!0)},h.prototype._downloadWaiting=function(e){if(e.bytes)this._downloadRange(e);else{if(!this.remoteBitfield.get(e.index)||!this.feed._reserved.set(e.index,!0))return;this._request(e.index,0,!1)}},h.prototype._downloadRange=function(e){e.iterator||(e.iterator=this.feed.bitfield.iterator(e.start,e.end));var t=this.feed._reserved,r=this._iterator,n=Math.min(-1===e.end?this.remoteLength:e.end,this.remoteLength),i=e.linear?r.seek(e.start).next(!0):function(e,t,r){var n=r-t,i=e.seek(Math.floor(Math.random()*n)+t).next(!0);return-1===i||i>=r?e.seek(t).next(!0):i}(r,e.start,n),o=i;if(-1===i||i>=n)!e.bytes&&e.end>-1&&this.feed.length>=e.end&&-1===e.iterator.seek(0).next()&&(s.remove(this.feed._selections,e),e.callback(null),this.live||this.sparse||this.feed._selections.length||this.end());else{for(;e.hash&&this.feed.tree.get(2*i)||!t.set(i,!0);)if(!((i=r.next(!0))>-1&&i<n)&&(e.linear||0===o||(o=0,!((i=r.seek(e.start).next(!0))>-1&&i<n)))){if(e.hash){for(var a=e.start;a<n;a++)if(!this.feed.tree.get(2*a))return;e.bytes||(s.remove(this.feed._selections,e),e.callback(null))}return}this._request(i,e.bytes||0,e.hash)}},h.prototype._request=function(e,t,r){var n={tick:6,bytes:t,index:e,hash:r,nodes:this.feed.digest(e)};this.inflightRequests.push(n),this.stream.request(n)},h.prototype.extension=function(e,t){this.stream.extension(e,t)}},{"./safe-buffer-equals":304,"./tree-index":306,"bitfield-rle":183,"fast-bitfield":264,"hypercore-protocol":284,"unordered-set":441}],304:[function(e,t,r){(function(e){t.exports=function(t,r){return t?r?0===e.compare(t,r):!t:!r}}).call(this,e("buffer").Buffer)},{buffer:48}],305:[function(e,t,r){(function(r){var n=e("uint64be"),i=e("flat-tree"),s=e("array-lru");t.exports=a;var o=[];function a(e,t){if(!(this instanceof a))return new a(e,t);t=void 0===t?65536:t,this.cache=t>0?s(t,{indexedValues:!0}):null,this.key=null,this.secretKey=null,this.tree=null,this.data=null,this.bitfield=null,this.signatures=null,this.create=e}function c(){}function f(e,t,n){var i=r.alloc(32);return i[0]=5,i[1]=2,i[2]=87,i[3]=e,i[4]=0,i.writeUInt16BE(t,5),n&&(i[7]=n.length,i.write(n,8)),i}function h(e,t,r){this.index=e,this.hash=t,this.size=r}function u(e,t){for(var r=0;r<e.length;r++)if(e[r].index===t)return e[r];return null}function d(e){for(var t=0;t<e.length;t++)if(e[t])return!1;return!0}function l(e,t){e.close?e.close(t):t()}a.prototype.putData=function(e,t,r,n){n||(n=c);var i=this;if(!t.length)return n(null);this.dataOffset(e,r,function(e,r,s){return e?n(e):s!==t.length?n(new Error("Unexpected data size")):void i.data.write(r,t,n)})},a.prototype.getData=function(e,t){var r=this;this.dataOffset(e,o,function(e,n,i){if(e)return t(e);r.data.read(n,i,t)})},a.prototype.nextSignature=function(e,t){var r=this;this._getSignature(e,function(n,i){return n?t(n):d(i)?r.nextSignature(e+1,t):void t(null,{index:e,signature:i})})},a.prototype.getSignature=function(e,t){this._getSignature(e,function(e,r){return e?t(e):d(r)?t(new Error("No signature found")):void t(null,r)})},a.prototype._getSignature=function(e,t){this.signatures.read(32+64*e,64,t)},a.prototype.putSignature=function(e,t,r){this.signatures.write(32+64*e,t,r)},a.prototype.dataOffset=function(e,t,r){var n=i.fullRoots(2*e),s=this,o=0,a=n.length,c=null,f=2*e;if(!a)return a=1,void p(null,null);for(var h=0;h<n.length;h++){var d=u(t,n[h]);d?p(null,d):this.getNode(n[h],p)}function l(e,t){if(e)return r(e);r(null,o,t.size)}function p(e,n){if(e&&(c=e),n&&(o+=n.size),!--a){if(c)return r(c);var i=u(t,f);i?l(null,i):s.getNode(f,l)}}},a.prototype.getDataBatch=function(e,t,r){var i=new Array(t),s=new Array(t),a=this;this.dataOffset(e,o,function(o,c,f){if(o)return r(o);if(e++,--t<=0)return h(null,null);function h(e,t){if(e)return r(e);var i=s[0]=f;if(t)for(var o=1;o<s.length;o++)s[o]=n.decode(t,32+80*(o-1)),i+=s[o];a.data.read(c,i,u)}function u(e,t){if(e)return r(e);for(var n=0,o=0;o<i.length;o++)i[o]=t.slice(n,n+=s[o]);r(null,i)}a.tree.read(32+80*e,80*t-40,h)})},a.prototype.getNode=function(e,t){if(this.cache){var r=this.cache.get(e);if(r)return t(null,r)}var i=this;this.tree.read(32+40*e,40,function(r,s){if(r)return t(r);var o=s.slice(0,32),a=n.decode(s,32);if(!a&&d(o))return t(new Error("No node found"));var c=new h(e,o,a,null);i.cache&&i.cache.set(e,c),t(null,c)})},a.prototype.putNodeBatch=function(e,t,i){i||(i=c);for(var s=r.alloc(40*t.length),o=0;o<t.length;o++){var a=40*o,f=t[o];f&&(f.hash.copy(s,a),n.encode(f.size,s,32+a))}this.tree.write(32+40*e,s,i)},a.prototype.putNode=function(e,t,i){i||(i=c);var s=r.allocUnsafe(40);t.hash.copy(s,0),n.encode(t.size,s,32),this.tree.write(32+40*e,s,i)},a.prototype.putBitfield=function(e,t,r){this.bitfield.write(32+e,t,r)},a.prototype.close=function(e){e||(e=c);var t=6,r=null;function n(n){n&&(r=n),--t||e(r)}l(this.bitfield,n),l(this.tree,n),l(this.data,n),l(this.key,n),l(this.secretKey,n),l(this.signatures,n)},a.prototype.openKey=function(e,t){if("function"==typeof e)return this.openKey({},e);this.key||(this.key=this.create("key",e)),this.key.read(0,32,t)},a.prototype.open=function(e,t){if("function"==typeof e)return this.open({},e);var r=this,n=null,i=5;this.key||(this.key=this.create("key",e)),this.secretKey||(this.secretKey=this.create("secret_key",e)),this.tree||(this.tree=this.create("tree",e)),this.data||(this.data=this.create("data",e)),this.bitfield||(this.bitfield=this.create("bitfield",e)),this.signatures||(this.signatures=this.create("signatures",e));var s={bitfield:[],bitfieldPageSize:3584,secretKey:null,key:null};function o(e){e&&(n=e),--i||(n?t(n):t(null,s))}this.bitfield.read(0,32,function(e,n){n&&(s.bitfieldPageSize=n.readUInt16BE(5)),r.bitfield.write(0,f(0,s.bitfieldPageSize,null),function(e){if(e)return t(e);!function(e,t,r,n){if(!0===e.statable)return function(e,t,r,n){e.stat(function(i,s){if(i)return n(null,[]);var o=[];!function i(a,c){if(a)return n(a);if(c){t+=c.length;for(var f=0;f<c.length;f+=r)o.push(c.slice(f,f+r))}var h=Math.min(s.size-t,32*r);if(!h)return n(null,o);e.read(t,h,i)}(null,null)})}(e,t,r,n);var i=[];e.read(t,r,function s(o,a){if(o)return n(null,i);i.push(a);e.read(t+i.length*r,r,s)})}(r.bitfield,32,s.bitfieldPageSize,function(e,t){t&&(s.bitfield=t),o(e)})})}),this.signatures.write(0,f(1,64,"Ed25519"),o),this.tree.write(0,f(2,40,"BLAKE2b"),o),this.secretKey.read(0,64,function(e,t){t&&(s.secretKey=t),o(null)}),this.key.read(0,32,function(e,t){t&&(s.key=t),o(null)})},a.Node=h}).call(this,e("buffer").Buffer)},{"array-lru":178,buffer:48,"flat-tree":265,uint64be:437}],306:[function(e,t,r){var n=e("flat-tree"),i=e("sparse-bitfield");function s(e){if(!(this instanceof s))return new s(e);this.bitfield=e||i()}function o(e){return(e-(1&e))/2}function a(e,t,r,i){for(var s=n.fullRoots(e),o=0;o<s.length;o++)s[o]===r||i.get(s[o])||t.push(s[o])}t.exports=s,s.prototype.proof=function(e,t){t||(t={});var r=[],i=t.tree||new s,c=t.digest||0;if(!this.get(e))return null;if(t.hash&&r.push(e),1===c)return{nodes:r,verifiedBy:0};var f=null,h=e,u=e,d=1&c;for(c=o(c);c;){if(1===c&&d){this.get(u)&&i.set(u),n.sibling(u)<u&&(u=n.sibling(u)),f=n.fullRoots(n.rightSpan(u)+2);for(var l=0;l<f.length;l++)this.get(f[l])&&i.set(f[l]);break}h=n.sibling(u),1&c&&this.get(h)&&i.set(h),u=n.parent(u),c=o(c)}for(u=e;!i.get(u);){if(h=n.sibling(u),!this.get(h)){var p=this.verifiedBy(u);return a(p,r,u,i),{nodes:r,verifiedBy:p}}i.get(h)||r.push(h),u=n.parent(u)}return{nodes:r,verifiedBy:0}},s.prototype.digest=function(e){if(this.get(e))return 1;for(var t=0,r=n.sibling(e),i=Math.max(r+2,this.bitfield.length),s=2,o=n.depth(e),a=n.parent(r,o++);n.rightSpan(r)<i||n.leftSpan(a)>0;){if(this.get(r)&&(t+=s),this.get(a))return 1&(t+=2*s)||(t+=1),t+1===4*s?1:t;r=n.sibling(a),a=n.parent(r,o++),s*=2}return t},s.prototype.blocks=function(){for(var e=0,t=0,r=this.bitfield.length;n.rightSpan(t)<r;)t=n.parent(t),this.get(t)&&(e=t);return(this.get(e)?this.verifiedBy(e):0)/2},s.prototype.roots=function(){return n.fullRoots(2*this.blocks())},s.prototype.verifiedBy=function(e,t){if(!this.get(e))return 0;for(var r=n.depth(e),i=e,s=n.parent(i,r++);this.get(s)&&this.get(n.sibling(i));)i=s,s=n.parent(i,r++);for(r--;r;){for(i=n.leftChild(n.index(r,n.offset(i,r)+1),r),r--;!this.get(i)&&r;)i=n.leftChild(i,r--);t&&this.get(i)&&t.push(i)}return this.get(i)?i+2:i},s.prototype.get=function(e){return this.bitfield.get(e)},s.prototype.set=function(e){if(!this.bitfield.set(e,!0))return!1;for(;this.bitfield.get(n.sibling(e))&&(e=n.parent(e),this.bitfield.set(e,!0)););return!0}},{"flat-tree":265,"sparse-bitfield":430}],307:[function(e,t,r){const n=e("crypto"),i=e("events"),s=e("dat-encoding"),o=e("hypercore-protocol"),a=e("discovery-swarm"),c=e("dat-swarm-defaults"),f=e("debug")("hyperdiscovery");t.exports=((...e)=>new u(...e));const h=[3282,3e3,3002,3004,2001,2003,2005];class u extends i{constructor(e,t){super(),e&&!e.replicate&&(t=e,e=null),t=t||{},this._opts=t,this.id=t.id||n.randomBytes(32),this._port=h.shift(),this._portAlts=h,t.port&&(Array.isArray(t.port)?(this._port=t.port.shift(),this._portAlts=t.port):this._port=t.port),this._swarm=a(c({hash:!1,utp:d(t.utp),tcp:d(t.tcp),dht:d(t.dht),bootstrap:t.bootstrap,discovery:t.discovery,id:this.id,stream:this._createReplicationStream.bind(this)})),this._swarm.on("listening",()=>{this.port=this._swarm.address().port,this.emit("listening",this.port),f("swarm:listening",{port:this.port})}),this._swarm.on("error",e=>{if(e&&"EADDRINUSE"!==e.code&&"Could not bind"!==e.message)return this.emit("error",e);const t=this._portAlts.shift();f(`Port ${this._port} in use. Trying ${t}.`),this._port=t,this.listen(t)});const r=e=>{this._swarm.on(e,(...t)=>{this.emit(e,...t),f(`swarm:${e}`,...t)})};r("peer"),r("peer-banned"),r("peer-rejected"),r("drop"),r("connecting"),r("connect-failed"),r("handshaking"),r("handshake-timeout"),r("connection"),r("connection-closed"),r("redundant-connection"),this._replicatingFeeds=new Map,!1!==t.autoListen&&this.listen(),e&&this.add(e)}get totalConnections(){return this._swarm.connections.length}connections(e){if(!e)return this.totalConnections;const t=this._replicatingFeeds.get(e);return t&&t.peers}_createReplicationStream(e){var t=this,r=[],n=o({id:this.id,live:!0,encrypt:!0,extensions:this._opts.extensions});function i(e){const i=s.toStr(e);try{var o=t._replicatingFeeds.get(i);if(!o)return}catch(e){n.destroyed||n.destroy(e)}if(t._replicatingFeeds.set(i,o),o&&o.isSwarming&&(o.replicationStreams||(o.replicationStreams=[]),-1===o.replicationStreams.indexOf(n)&&(o.replicate({stream:n,live:!0}),!n.destroyed))){var a=s.toStr(o.key);r.push(a),o.replicationStreams.push(n),n.once("error",c),n.once("end",c),n.once("close",c)}function c(){o.replicationStreams=o.replicationStreams.filter(e=>e!==n)}}return n.peerInfo=e,e.channel&&i(e.channel),n.on("feed",i),n.on("error",t=>{f({event:"connection-error",peer:`${e.host}:${e.port}`,connectionType:e.type,message:t.toString()})}),n}add(e){if(!e.key)return e.ready(()=>{this.add(e)});const t=s.toStr(e.key),r=s.toStr(e.discoveryKey);this._replicatingFeeds.set(r,e),this.rejoin(e.discoveryKey),this.emit("join",{key:t,discoveryKey:r}),e.isSwarming=!0}rejoin(e){this._swarm.join(s.toBuf(e))}listen(e){return e=e||this._port,this._swarm.listen(e),new Promise(e=>{this._swarm.once("listening",e)})}leave(e){const t=s.toStr(e),r=this._replicatingFeeds.get(t);r&&(r.replicationStreams&&(r.replicationStreams.forEach(e=>e.destroy()),r.replicationStreams.length=0),this._swarm.leave(r.discoveryKey),this.emit("leave",{key:r.key.toString("hex"),discoveryKey:t}))}close(){const e=this;return new Promise((t,r)=>{this._replicatingFeeds.forEach((e,t)=>{this.leave(t)}),this._swarm.destroy(n=>{if(n)return r(n);e.emit("close"),t()})})}}function d(e){return void 0===e||e}},{crypto:56,"dat-encoding":214,"dat-swarm-defaults":215,debug:216,"discovery-swarm":234,events:83,"hypercore-protocol":284}],308:[function(e,t,r){(function(r,n){var i=e("hypercore"),s=e("mutexify"),o=e("random-access-file"),a=e("thunky"),c=e("append-tree"),f=e("stream-collector"),h=e("sodium-universal"),u=e("inherits"),d=e("events"),l=e("duplexify"),p=e("from2"),b=e("stream-each"),g=e("uint64be"),y=e("unixify"),m=e("path").posix,v=e("./lib/messages"),_=e("./lib/stat"),w=e("./lib/cursor"),A=420;function I(e,t,r){if(!(this instanceof I))return new I(e,t,r);var f;d.EventEmitter.call(this),(f=t)&&"string"!=typeof f&&!n.isBuffer(f)&&(r=t,t=null),r||(r={}),this.key=null,this.discoveryKey=null,this.live=!0,this.latest=!!r.latest,this._storages=function(e,t,r){var n="";if("object"==typeof t&&t)return function(e,t){return{metadata:function(r,n){return t.metadata(r,n,e)},content:function(r,n){return t.content(r,n,e)}}}(e,t);"string"==typeof t&&(n=t,t=o);return{metadata:function(e){return t(m.join(n,"metadata",e))},content:function(e){return t(m.join(n,"content",e))}}}(this,e),this.metadata=r.metadata||i(this._storages.metadata,t,{secretKey:r.secretKey,sparse:r.sparseMetadata,createIfMissing:r.createIfMissing,storageCacheSize:r.metadataStorageCacheSize,extensions:r.extensions}),this.content=r.content||null,this.maxRequests=r.maxRequests||16,this.readable=!0,this.storage=e,this.tree=c(this.metadata,{offset:1,valueEncoding:v.Stat,cache:0!==r.treeCacheSize,cacheSize:r.treeCacheSize}),"number"==typeof r.version&&(this.tree=this.tree.checkout(r.version)),this.sparse=!!r.sparse,this.sparseMetadata=!!r.sparseMetadata,this.indexing=!!r.indexing,this.contentStorageCacheSize=r.contentStorageCacheSize,this._latestSynced=0,this._latestVersion=0,this._latestStorage=this.latest?this._storages.metadata("latest"):null,this._checkout=r._checkout,this._lock=s(),this._openFiles=[],this._emittedContent=!1,this._closed=!1;var h=this;function u(e){e&&h.emit("error",e)}this.metadata.on("append",function(){h.emit("update")}),this.metadata.on("extension",function(e,t,r){h.emit("extension",e,t,r)}),this.metadata.on("error",u),this.metadata.once("close",function(){h.emit("close")}),this.metadata.on("peer-add",function(e){h.emit("peer-add",e)}),this.metadata.on("peer-remove",function(e){h.emit("peer-remove",e)}),this.ready=a(function(e){h._open(e)}),this.ready(function(e){if(e)return u(e);h.emit("ready"),h._oncontent(),h.latest&&!h.metadata.writable&&h._trackLatest(function(e){h._closed||u(e)})})}function E(e,t){return{sparse:e.sparse||e.latest,maxRequests:e.maxRequests,secretKey:t,storeSecretKey:!1,indexing:e.metadata.writable&&e.indexing,storageCacheSize:e.contentStorageCacheSize}}function C(){}function k(e){return"number"==typeof e?e:e?e.getTime():Date.now()}function S(e){return y(m.resolve("/",e))}function x(e){for(var t=0;t<e.length;t++)if(!B(e[t]))return e.filter(B);return e}function B(e){return".."!==e&&"."!==e}function M(e){var t=new n(h.crypto_sign_SEEDBYTES),r=new n("hyperdri"),i={publicKey:new n(h.crypto_sign_PUBLICKEYBYTES),secretKey:new n(h.crypto_sign_SECRETKEYBYTES)};return h.crypto_kdf_derive_from_key(t,1,r,e),h.crypto_sign_seed_keypair(i.publicKey,i.secretKey,t),t.fill&&t.fill(0),i}t.exports=I,u(I,d.EventEmitter),Object.defineProperty(I.prototype,"version",{enumerable:!0,get:function(){return this._checkout?this.tree.version:this.metadata.length?this.metadata.length-1:0}}),Object.defineProperty(I.prototype,"writable",{enumerable:!0,get:function(){return this.metadata.writable}}),I.prototype._oncontent=function(){this.content&&!this._emittedContent&&(this._emittedContent=!0,this.emit("content"))},I.prototype._trackLatest=function(e){var t=this;function r(s){return s?e(s):i()?function(){if(t.sparse)return i()?t.metadata.update(r):r(null);t.emit("syncing"),t._fetchVersion(t._latestSynced,function(n,i){return n?e(n):i?(t._latestSynced=t._latestVersion,t.emit("sync"),void(t._checkout||t.metadata.update(r))):void r(null)})}():void t._clearDangling(t._latestVersion,t.version,n)}function n(n,i){if(n)return e(n);t._latestVersion=i,t._latestStorage.write(0,g.encode(t._latestVersion),r)}function i(){var e=t.version;return e<0||t._latestVersion===e}this.ready(function(n){if(n)return e(n);t._latestStorage.read(0,8,function(e,n){t._latestVersion=n?g.decode(n):0,r()})})},I.prototype._fetchVersion=function(e,t){var n=this,i=n.version,s=!1,o=!1,a=null,c=null,f=0,h=64,u=null,d=null;function l(e,t){if(s||a)return p(t,new Error("Out of date"));if(f>=h)return u=e,void(d=t);var i=e.value.offset,o=i+e.value.blocks;if(i===o)return p(t,null);f++,n.content.download({start:i,end:o},function(r){return s&&!d?g():(s||f--,d?(e=u,u=null,t=d,d=null,l(e,t)):(r&&(c.destroy(r),a=r),void g()))}),r.nextTick(t)}function p(e,t){e(t),g()}function g(){if(o&&!f)return f=-1,s?t(null,!1):a?t(a):void t(null,i===n.version)}function y(e){e&&(a=e),o=!0,g()}this.metadata.update(function(){s=!0,f>0&&(f=0),c&&c.destroy(),g()}),this._ensureContent(function(r){return r?t(r):s?t(null,!1):(c=n.tree.checkout(e).diff(i,{puts:!0,dels:!1}),void b(c,l,y))})},I.prototype._clearDangling=function(e,t,r){var n=this.tree.checkout(e,{cached:!0}),i=this.tree.checkout(t),s=n.diff(i,{dels:!0,puts:!1}),o=this;function a(e){if(e)return r(e);r(null,t)}function c(e,t){var r=e.value;o.content.cancel(r.offset,r.offset+r.blocks),o.content.clear(r.offset,r.offset+r.blocks,{byteOffset:r.byteOffset,byteLength:r.size},t)}this._ensureContent(function(e){if(e)return r(e);b(s,c,a)})},I.prototype.replicate=function(e){e||(e={}),e.expectedFeeds=2;var t=this,r=this.metadata.replicate(e);return this._ensureContent(function(n){if(n)return r.destroy(n);r.destroyed||t.content.replicate({live:e.live,download:e.download,upload:e.upload,stream:r})}),r},I.prototype.checkout=function(e,t){return t||(t={}),t._checkout=this._checkout||this,t.metadata=this.metadata,t.version=e,I(null,null,t)},I.prototype.createDiffStream=function(e,t){return e||(e=0),"number"==typeof e&&(e=this.checkout(e)),this.tree.diff(e.tree,t)},I.prototype.download=function(e,t){if("function"==typeof e)return this.download("/",e);var r=1,n=this;function i(e){n.stat(e,function(s,o){var a;if(!s)return o.isDirectory()?(a=e,void n.readdir(a,function(e,n){e?t&&t(e):(r-=1,r+=n.length,n.forEach(function(e){i(m.join(a,e))}),r<=0&&t&&t())})):o.isFile()?function(e,i){var s=i.offset,o=i.offset+i.blocks;if(0===s&&0===o)return;n.content.download({start:s,end:o},function(){(r-=1)<=0&&t&&t()})}(0,o):void 0;t&&t(s)})}i(e||"/")},I.prototype.history=function(e){return this.tree.history(e)},I.prototype.createCursor=function(e,t){return w(this,e,t)},I.prototype.open=function(e,t,r,n,i){if("object"==typeof r&&r)return this.open(e,t,0,r,n);if("function"==typeof r)return this.open(e,t,0,r);if("function"==typeof n)return this.open(e,t,r,null,n);var s=this.createCursor(e,n),o=this;s.open(function(e){if(e)return i(e);var t=o._openFiles.indexOf(null);-1===t&&(t=o._openFiles.push(null)-1),o._openFiles[t]=s,i(null,t+20)})},I.prototype.read=function(e,t,r,n,i,s){var o=this._openFiles[e-20];if(!o)return s(new Error("Bad file descriptor"));null!==i&&o.seek(i),o.next(function(e,a){return e?s(e):a?(a.length>n&&(a=a.slice(0,n),o.seek(i+n)),a.copy(t,r,0,n),void s(null,a.length,t)):s(null,0,t)})},I.prototype.createReadStream=function(e,t){t||(t={}),e=S(e);var r=this,n=!1,i=!0,s=0,o=0,a=0,c="number"==typeof t.end?1+t.end-(t.start||0):"number"==typeof t.length?t.length:-1,f=null,h=!1,u=p(b),d=t&&!!t.cached;return u.on("close",l),u.on("end",l),u;function l(){f&&r.content.undownload(f,C),f=null,h=!0}function b(l,p){return i?function(d,l){i=!1,r._ensureContent(function(i){if(i)return l(i);r.tree.get(e,function(e,i){if(e)return l(e);if(h||u.destroyed)return;s=i.offset,o=i.offset+i.blocks;var p=i.byteOffset,g=1;t.start?r.content.seek(p+t.start,{start:s,end:o},m):m(null,s,0);function y(e,t){!e&&f&&(h||u.destroyed||(g++,r.content.undownload(f),f=r.content.download({start:s,end:t,linear:!0},v)))}function m(e,t,n){if(e)return l(e);h||u.destroyed||(a=n,s=t,f=r.content.download({start:s,end:o,linear:!0},v),c>-1&&c<i.size&&r.content.seek(p+c,{start:s,end:o},y),b(d,l))}function v(e){--g||(!e||h||n?n=!0:u.destroy(e))}})})}(l,p):s===o||0===c?p(null,null):void r.content.get(s++,{wait:!n&&!d},function(e,t){if(e)return p(e);a&&(t=t.slice(a)),a=0,c>-1&&(c<t.length&&(t=t.slice(0,c)),c-=t.length),p(null,t)})}},I.prototype.readFile=function(e,t,r){if("function"==typeof t)return this.readFile(e,null,t);"string"==typeof t&&(t={encoding:t}),t||(t={}),e=S(e),f(this.createReadStream(e,t),function(e,i){if(e)return r(e);var s=1===i.length?i[0]:n.concat(i);r(null,t.encoding&&"binary"!==t.encoding?s.toString(t.encoding):s)})},I.prototype.createWriteStream=function(e,t){t||(t={}),e=S(e);var r=this,n=l();return n.setReadable(!1),this._ensureContent(function(i){return i?n.destroy(i):r._checkout?n.destroy(new Error("Cannot write to a checkout")):void(n.destroyed||r._lock(function(i){if(!r.latest||n.destroyed)return s(null);function s(s){if(s&&n.destroy(s),n.destroyed)return i();var a=r.content.byteLength,c=r.content.length;r.emit("appending",e,t);var f=r.content.createWriteStream();n.on("close",o),n.on("finish",o),n.setWritable(f),n.on("prefinish",function(){var i={mode:(t.mode||A)|_.IFREG,uid:t.uid||0,gid:t.gid||0,size:r.content.byteLength-a,blocks:r.content.length-c,offset:c,byteOffset:a,mtime:k(t.mtime),ctime:k(t.ctime)};n.cork(),r.tree.put(e,i,function(i){if(i)return n.destroy(i);r.emit("append",e,t),n.uncork()})})}function o(){n.removeListener("close",o),n.removeListener("finish",o),i()}r.tree.get(e,function(e,t){return e&&e.notFound?s(null):e?s(e):t.size?void r.content.clear(t.offset,t.offset+t.blocks,s):s(null)})}))}),n},I.prototype.writeFile=function(e,t,r,i){if("function"==typeof r)return this.writeFile(e,t,null,r);"string"==typeof r&&(r={encoding:r}),r||(r={}),"string"==typeof t&&(t=new n(t,r.encoding||"utf-8")),i||(i=C),e=S(e);var s=function(e){for(var t=[],r=0;r<e.length;r+=65536)t.push(e.slice(r,r+65536));return t}(t),o=this.createWriteStream(e,r);o.on("error",i),o.on("finish",i);for(var a=0;a<s.length;a++)o.write(s[a]);o.end()},I.prototype.mkdir=function(e,t,r){if("function"==typeof t)return this.mkdir(e,null,t);"number"==typeof t&&(t={mode:t}),t||(t={}),r||(r=C),e=S(e);var n=this;this.ready(function(i){return i?r(i):n._checkout?r(new Error("Cannot write to a checkout")):void n._lock(function(i){var s={mode:(t.mode||493)|_.IFDIR,uid:t.uid,gid:t.gid,mtime:k(t.mtime),ctime:k(t.ctime),offset:n.content.length,byteOffset:n.content.byteLength};n.tree.put(e,s,function(e){i(r,e)})})})},I.prototype._statDirectory=function(e,t,r){this.tree.list(e,t,function(t,n){if("/"!==e&&(t||!n.length))return r(t||new Error(e+" could not be found"));var i=_();i.mode=493|_.IFDIR,r(null,i)})},I.prototype.access=function(e,t,r){if("function"==typeof t)return this.access(e,null,t);t||(t={}),e=S(e),this.stat(e,t,function(e){r(e)})},I.prototype.exists=function(e,t,r){if("function"==typeof t)return this.exists(e,null,t);t||(t={}),this.access(e,t,function(e){r(!e)})},I.prototype.lstat=function(e,t,r){if("function"==typeof t)return this.lstat(e,null,t);t||(t={});var n=this;e=S(e),this.tree.get(e,t,function(i,s){if(i)return n._statDirectory(e,t,r);r(null,_(s))})},I.prototype.stat=function(e,t,r){if("function"==typeof t)return this.stat(e,null,t);t||(t={}),this.lstat(e,t,r)},I.prototype.readdir=function(e,t,r){return"function"==typeof t?this.readdir(e,null,t):"/"===(e=S(e))?this._readdirRoot(t,r):void this.tree.list(e,t,function(e,t){if(e)return r(e);r(null,x(t))})},I.prototype._readdirRoot=function(e,t){this.tree.list("/",e,function(e,r){if(r)return t(null,x(r));t(null,[])})},I.prototype.unlink=function(e,t){e=S(e),this._del(e,t||C)},I.prototype.rmdir=function(e,t){t||(t=C),e=S(e);var r=this;this.readdir(e,function(n,i){return n?t(n):i.length?t(new Error("Directory is not empty")):void r._del(e,t)})},I.prototype._del=function(e,t){var r=this;this._ensureContent(function(n){if(n)return t(n);r._lock(function(n){if(!r.latest)return i(null);function i(t){if(t)return s(t);r.tree.del(e,s)}function s(e){n(t,e)}r.tree.get(e,function(e,t){if(e)return s(e);r.content.clear(t.offset,t.offset+t.blocks,i)})})})},I.prototype._closeFile=function(e,t){var r=this._openFiles[e-20];if(!r)return t(new Error("Bad file descriptor"));this._openFiles[e-20]=null,r.close(t)},I.prototype.close=function(e,t){if("number"==typeof e)return this._closeFile(e,t||C);(t=e)||(t=C);var r=this;this.ready(function(e){if(e)return t(e);r._closed=!0,r.metadata.close(function(e){if(!r.content)return t(e);r.content.close(t)})})},I.prototype._ensureContent=function(e){var t=this;this.ready(function(r){return r?e(r):t.content?void e(null):t._loadIndex(e)})},I.prototype._loadIndex=function(e){var t=this;function r(r,n){if(r)return e(r);if(t.content)return t.content.ready(e);var s=t.metadata.writable&&M(t.metadata.secretKey),o=E(t,s&&s.secretKey);t.content=t._checkout?t._checkout.content:i(t._storages.content,n.content,o),t.content.on("error",function(e){t.emit("error",e)}),t.content.ready(function(r){if(r)return e(r);t._oncontent(),e()})}this._checkout?this._checkout._loadIndex(r):this.metadata.get(0,{valueEncoding:v.Index},r)},I.prototype._open=function(e){var t=this;this.tree.ready(function(r){if(r)return e(r);t.metadata.ready(function(r){return r?e(r):t.content?e(null):(t.key=t.metadata.key,t.discoveryKey=t.metadata.discoveryKey,void(!t.metadata.writable||t._checkout?function(){if(t.metadata.has(0))return t._loadIndex(e);t._loadIndex(C),e()}():function(){if(t.metadata.has(0))return t._loadIndex(e);if(!t.content){var r=M(t.metadata.secretKey),n=E(t,r.secretKey);t.content=i(t._storages.content,r.publicKey,n),t.content.on("error",function(e){t.emit("error",e)})}t.content.ready(function(){if(t.metadata.has(0))return e(new Error("Index already written"));t.metadata.append(v.Index.encode({type:"hyperdrive",content:t.content.key}),e)})}()))})})},I.prototype.extension=function(e,t){this.metadata.extension(e,t)}}).call(this,e("_process"),e("buffer").Buffer)},{"./lib/cursor":309,"./lib/messages":310,"./lib/stat":311,_process:119,"append-tree":169,buffer:48,duplexify:235,events:83,from2:266,hypercore:301,inherits:313,mutexify:340,path:112,"random-access-file":369,"sodium-universal":428,"stream-collector":431,"stream-each":432,thunky:435,uint64be:437,unixify:439}],309:[function(e,t,r){var n=e("thunky");function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);var s=this;this.name=t,this.opened=!1,this.position=0,this.index=0,this.offset=0,this.open=n(function(r){e.stat(t,function(t,n){if(t)return r(t);e._ensureContent(function(t){return t?r(t):n.isFile()?(s._content=e.content,s._stat=n,s._start=n.offset,s._end=n.offset+n.blocks,0===s._seekTo&&s._download&&(s._range=s._content.download({start:s._start,end:s._end,linear:!0})),void r(null)):r(new Error("Not a file"))})})}),this._content=null,this._stat=null,this._seekTo=0,this._seeking=!0,this._start=0,this._end=0,this._range=null,this._download=!r||!1!==r.download,this.open()}function s(){}t.exports=i,i.prototype.seek=function(e){return e===this.position&&-1===this._seekTo?this:(this._seeking=!0,this._seekTo=e,this)},i.prototype._seek=function(e,t){var r=this;function n(r,n,i){if(r)return t(r);t(null,e,n,i)}this.open(function(i){if(i)return t(i);e<0&&(e+=r._stat.size),e<0&&(e=0),e>r._stat.size&&(e=r._stat.size);var s=r._stat,o={start:r._start,end:r._end};return 0===e?n(null,r._start,0):e===r._stat.size?n(r._end,0):void r._content.seek(s.byteOffset+e,o,n)})},i.prototype.next=function(e){this._seeking?this._seekAndNext(e):this._next(this.position,this.index,this.offset,e)},i.prototype.close=function(e){e||(e=s);var t=this;this.open(function(r){if(r)return e(r);t._range&&t._content.undownload(t._range),e()})},i.prototype._next=function(e,t,r,n){if(t<this._start||t>=this._end)return n(null,null);var i=this;this._content.get(this.index,function(t,s){if(t)return n(t);r&&(s=s.slice(r)),i.position=e+s.length,i.offset=0,i.index++,n(null,s)})},i.prototype._seekAndNext=function(e){var t=this,r=this._seekTo;this._seek(r,function(n,i,s,o){if(n)return e(n);r===t._seekTo&&(t._seeking=!1,t._seekTo=-1,t.position=i,t.index=s,t.offset=o,t._download&&(t._range&&t._content.undownload(t._range),t._range=t._content.download({start:t.index,end:t._end,linear:!0}))),t._next(i,s,o,e)})}},{thunky:435}],310:[function(e,t,r){(function(t){var n=e("protocol-buffers-encodings"),i=n.varint,s=n.skip,o=r.Index={buffer:!0,encodingLength:null,encode:null,decode:null},a=r.Stat={buffer:!0,encodingLength:null,encode:null,decode:null};function c(e){return null!=e&&("number"!=typeof e||!isNaN(e))}!function(){var e=[n.string,n.bytes];function r(t){var r=0;if(!c(t.type))throw new Error("type is required");var n=e[0].encodingLength(t.type);if(r+=1+n,c(t.content)){var n=e[1].encodingLength(t.content);r+=1+n}return r}o.encodingLength=r,o.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!c(i.type))throw new Error("type is required");s[o++]=10;e[0].encode(i.type,s,o);o+=e[0].encode.bytes;c(i.content)&&(s[o++]=18,e[1].encode(i.content,s,o),o+=e[1].encode.bytes);n.bytes=o-a;return s},o.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={type:"",content:null};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.type=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.content=e[1].decode(r,n),n+=e[1].decode.bytes;break;default:n=s(7&h,r,n)}}}}(),function(){var e=[n.varint];function r(t){var r=0;if(!c(t.mode))throw new Error("mode is required");var n=e[0].encodingLength(t.mode);if(r+=1+n,c(t.uid)){var n=e[0].encodingLength(t.uid);r+=1+n}if(c(t.gid)){var n=e[0].encodingLength(t.gid);r+=1+n}if(c(t.size)){var n=e[0].encodingLength(t.size);r+=1+n}if(c(t.blocks)){var n=e[0].encodingLength(t.blocks);r+=1+n}if(c(t.offset)){var n=e[0].encodingLength(t.offset);r+=1+n}if(c(t.byteOffset)){var n=e[0].encodingLength(t.byteOffset);r+=1+n}if(c(t.mtime)){var n=e[0].encodingLength(t.mtime);r+=1+n}if(c(t.ctime)){var n=e[0].encodingLength(t.ctime);r+=1+n}return r}a.encodingLength=r,a.encode=function n(i,s,o){o||(o=0);s||(s=t.allocUnsafe(r(i)));var a=o;if(!c(i.mode))throw new Error("mode is required");s[o++]=8;e[0].encode(i.mode,s,o);o+=e[0].encode.bytes;c(i.uid)&&(s[o++]=16,e[0].encode(i.uid,s,o),o+=e[0].encode.bytes);c(i.gid)&&(s[o++]=24,e[0].encode(i.gid,s,o),o+=e[0].encode.bytes);c(i.size)&&(s[o++]=32,e[0].encode(i.size,s,o),o+=e[0].encode.bytes);c(i.blocks)&&(s[o++]=40,e[0].encode(i.blocks,s,o),o+=e[0].encode.bytes);c(i.offset)&&(s[o++]=48,e[0].encode(i.offset,s,o),o+=e[0].encode.bytes);c(i.byteOffset)&&(s[o++]=56,e[0].encode(i.byteOffset,s,o),o+=e[0].encode.bytes);c(i.mtime)&&(s[o++]=64,e[0].encode(i.mtime,s,o),o+=e[0].encode.bytes);c(i.ctime)&&(s[o++]=72,e[0].encode(i.ctime,s,o),o+=e[0].encode.bytes);n.bytes=o-a;return s},a.decode=function t(r,n,o){n||(n=0);o||(o=r.length);if(!(o<=r.length&&n<=r.length))throw new Error("Decoded message is not valid");var a=n;var c={mode:0,uid:0,gid:0,size:0,blocks:0,offset:0,byteOffset:0,mtime:0,ctime:0};var f=!1;for(;;){if(o<=n){if(!f)throw new Error("Decoded message is not valid");return t.bytes=n-a,c}var h=i.decode(r,n);n+=i.decode.bytes;var u=h>>3;switch(u){case 1:c.mode=e[0].decode(r,n),n+=e[0].decode.bytes,f=!0;break;case 2:c.uid=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 3:c.gid=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 4:c.size=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 5:c.blocks=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 6:c.offset=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 7:c.byteOffset=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 8:c.mtime=e[0].decode(r,n),n+=e[0].decode.bytes;break;case 9:c.ctime=e[0].decode(r,n),n+=e[0].decode.bytes;break;default:n=s(7&h,r,n)}}}}()}).call(this,e("buffer").Buffer)},{buffer:48,"protocol-buffers-encodings":361}],311:[function(e,t,r){function n(e){if(!(this instanceof n))return new n(e);this.dev=0,this.nlink=1,this.rdev=0,this.blksize=0,this.ino=0,this.mode=e?e.mode:0,this.uid=e?e.uid:0,this.gid=e?e.gid:0,this.size=e?e.size:0,this.offset=e?e.offset:0,this.byteOffset=e?e.byteOffset:0,this.blocks=e?e.blocks:0,this.atime=new Date(e?e.mtime:0),this.mtime=new Date(e?e.mtime:0),this.ctime=new Date(e?e.ctime:0),this.linkname=e?e.linkname:null}function i(e){return function(){return(e&this.mode)===e}}t.exports=n,n.IFSOCK=49152,n.IFLNK=40960,n.IFREG=32768,n.IFBLK=24576,n.IFDIR=16384,n.IFCHR=8192,n.IFIFO=4096,n.prototype.isSocket=i(n.IFSOCK),n.prototype.isSymbolicLink=i(n.IFLNK),n.prototype.isFile=i(n.IFREG),n.prototype.isBlockDevice=i(n.IFBLK),n.prototype.isDirectory=i(n.IFDIR),n.prototype.isCharacterDevice=i(n.IFCHR),n.prototype.isFIFO=i(n.IFIFO)},{}],312:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},{}],313:[function(e,t,r){arguments[4][100][0].apply(r,arguments)},{dup:100}],314:[function(e,t,r){t.exports=Symbol.for("nodejs.util.inspect.custom")},{}],315:[function(e,t,r){(function(e){t.exports=function(t){return"object"==typeof t&&t&&!e.isBuffer(t)}}).call(this,{isBuffer:e("../../../../../app/node_modules/is-buffer/index.js")})},{"../../../../../app/node_modules/is-buffer/index.js":101}],316:[function(e,t,r){arguments[4][102][0].apply(r,arguments)},{dup:102}],317:[function(e,t,r){function n(e){}t.exports=function(e){var t=null,r=null,i=null,s=null;return function(e,t){s=e,o(t||n)};function o(n){if(r)return t||(t=[]),void t.push(n);var i=s;s=null,r=n,e(i,a)}function a(e){var s=r,a=i;if(i=null,r=null,t&&(i=t,t=null,o(n)),a)for(var c=0;c<a.length;c++)a[c](e);s(e)}}},{}],318:[function(e,t,r){var n=e("varint"),i=e("readable-stream"),s=e("util"),o=e("buffer-alloc-unsafe"),a=function(e){if(!(this instanceof a))return new a(e);i.Transform.call(this),this._destroyed=!1,this._missing=0,this._message=null,this._limit=e&&e.limit||0,this._allowEmpty=!(!e||!e.allowEmpty),this._prefix=o(this._limit?n.encodingLength(this._limit):100),this._ptr=0,this._allowEmpty&&(this._readableState.highWaterMark=16,this._readableState.objectMode=!0)};s.inherits(a,i.Transform),a.prototype._push=function(e){this._ptr=0,this._missing=0,this._message=null,this.push(e)},a.prototype._parseLength=function(e,t){for(;t<e.length;t++){if(this._ptr>=this._prefix.length)return this._prefixError(e);if(this._prefix[this._ptr++]=e[t],!(128&e[t]))return this._missing=n.decode(this._prefix),this._limit&&this._missing>this._limit?this._prefixError(e):(!this._missing&&this._allowEmpty&&this._push(o(0)),this._ptr=0,t+1)}return e.length},a.prototype._prefixError=function(e){return this.destroy(new Error("Message is larger than max length")),e.length},a.prototype._parseMessage=function(e,t){var r=e.length-t,n=this._missing;if(!this._message){if(n<=r)return this._push(e.slice(t,t+n)),t+n;this._message=o(n)}return e.copy(this._message,this._ptr,t,t+n),n<=r?(this._push(this._message),t+n):(this._missing-=r,this._ptr+=r,e.length)},a.prototype._transform=function(e,t,r){for(var n=0;!this._destroyed&&n<e.length;)n=this._missing?this._parseMessage(e,n):this._parseLength(e,n);r()},a.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"))},t.exports=a},{"buffer-alloc-unsafe":188,"readable-stream":329,util:159,varint:334}],319:[function(e,t,r){var n=e("varint"),i=e("readable-stream"),s=e("util"),o=e("buffer-alloc-unsafe"),a=o(10240),c=0,f=function(){if(!(this instanceof f))return new f;i.Transform.call(this),this._destroyed=!1};s.inherits(f,i.Transform),f.prototype._transform=function(e,t,r){if(this._destroyed)return r();n.encode(e.length,a,c),c+=n.encode.bytes,this.push(a.slice(c-n.encode.bytes,c)),this.push(e),a.length-c<100&&(a=o(10240),c=0),r()},f.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"))},t.exports=f},{"buffer-alloc-unsafe":188,"readable-stream":329,util:159,varint:334}],320:[function(e,t,r){r.encode=e("./encode"),r.decode=e("./decode")},{"./decode":318,"./encode":319}],321:[function(e,t,r){arguments[4][193][0].apply(r,arguments)},{"./_stream_readable":323,"./_stream_writable":325,"core-util-is":208,dup:193,inherits:313,"process-nextick-args":359}],322:[function(e,t,r){arguments[4][194][0].apply(r,arguments)},{"./_stream_transform":324,"core-util-is":208,dup:194,inherits:313}],323:[function(e,t,r){arguments[4][195][0].apply(r,arguments)},{"./_stream_duplex":321,"./internal/streams/BufferList":326,"./internal/streams/destroy":327,"./internal/streams/stream":328,_process:119,"core-util-is":208,dup:195,events:83,inherits:313,isarray:316,"process-nextick-args":359,"safe-buffer":330,"string_decoder/":331,util:18}],324:[function(e,t,r){arguments[4][196][0].apply(r,arguments)},{"./_stream_duplex":321,"core-util-is":208,dup:196,inherits:313}],325:[function(e,t,r){arguments[4][197][0].apply(r,arguments)},{"./_stream_duplex":321,"./internal/streams/destroy":327,"./internal/streams/stream":328,_process:119,"core-util-is":208,dup:197,inherits:313,"process-nextick-args":359,"safe-buffer":330,timers:155,"util-deprecate":442}],326:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{dup:134,"safe-buffer":330,util:18}],327:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{dup:135,"process-nextick-args":359}],328:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{dup:136,events:83}],329:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./lib/_stream_duplex.js":321,"./lib/_stream_passthrough.js":322,"./lib/_stream_readable.js":323,"./lib/_stream_transform.js":324,"./lib/_stream_writable.js":325,dup:140}],330:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{buffer:48,dup:137}],331:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":330}],332:[function(e,t,r){arguments[4][173][0].apply(r,arguments)},{dup:173}],333:[function(e,t,r){arguments[4][174][0].apply(r,arguments)},{dup:174}],334:[function(e,t,r){arguments[4][175][0].apply(r,arguments)},{"./decode.js":332,"./encode.js":333,"./length.js":335,dup:175}],335:[function(e,t,r){arguments[4][176][0].apply(r,arguments)},{dup:176}],336:[function(e,t,r){(function(e){function r(e,t){if(!(this instanceof r))return new r(e,t);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=e||1024,this.deduplicate=t?t.deduplicate:null,this.zeros=this.deduplicate?n(this.deduplicate.length):null}function n(t){if(e.alloc)return e.alloc(t);var r=new e(t);return r.fill(0),r}function i(e,t){this.offset=e*t.length,this.buffer=t,this.updated=!1,this.deduplicate=0}t.exports=r,r.prototype.updated=function(e){for(;this.deduplicate&&e.buffer[e.deduplicate]===this.deduplicate[e.deduplicate];)if(e.deduplicate++,e.deduplicate===this.deduplicate.length){e.deduplicate=0,e.buffer.equals&&e.buffer.equals(this.deduplicate)&&(e.buffer=this.deduplicate);break}!e.updated&&this.updates&&(e.updated=!0,this.updates.push(e))},r.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var e=this.updates.pop();return e.updated=!1,e},r.prototype._array=function(e,t){if(e>=this.maxPages){if(t)return;!function(e,t){for(;e.maxPages<t;){var r=e.pages;e.pages=new Array(32768),e.pages[0]=r,e.level++,e.maxPages*=32768}}(this,e)}var r,n;r=e,n=this.path,r=((r=(r-(n[0]=32767&r))/32768)-(n[1]=32767&r))/32768,n[3]=(r-(n[2]=32767&r))/32768&32767;for(var i=this.pages,s=this.level;s>0;s--){var o=this.path[s],a=i[o];if(!a){if(t)return;a=i[o]=new Array(32768)}i=a}return i},r.prototype.get=function(t,r){var s,o,a=this._array(t,r),c=this.path[0],f=a&&a[c];return f||r||(f=a[c]=new i(t,n(this.pageSize)),t>=this.length&&(this.length=t+1)),f&&f.buffer===this.deduplicate&&this.deduplicate&&!r&&(f.buffer=(s=f.buffer,o=e.allocUnsafe?e.allocUnsafe(s.length):new e(s.length),s.copy(o),o),f.deduplicate=0),f},r.prototype.set=function(e,t){var r=this._array(e,!1),s=this.path[0];if(e>=this.length&&(this.length=e+1),!t||this.zeros&&t.equals&&t.equals(this.zeros))r[s]=void 0;else{this.deduplicate&&t.equals&&t.equals(this.deduplicate)&&(t=this.deduplicate);var o=r[s],a=function(e,t){if(e.length===t)return e;if(e.length>t)return e.slice(0,t);var r=n(t);return e.copy(r),r}(t,this.pageSize);o?o.buffer=a:r[s]=new i(e,a)}},r.prototype.toBuffer=function(){for(var t=new Array(this.length),r=n(this.pageSize),i=0;i<t.length;)for(var s=this._array(i,!0),o=0;o<32768&&i<t.length;o++)t[i++]=s&&s[o]?s[o].buffer:r;return e.concat(t)}}).call(this,e("buffer").Buffer)},{buffer:48}],337:[function(e,t,r){(function(r){var n=e("flat-tree");function i(e,t){if(!(this instanceof i))return new i(e,t);if(!e||!e.leaf||!e.parent)throw new Error("opts.leaf and opts.parent required");this.roots=t||e.roots||[],this.blocks=this.roots.length?1+n.rightSpan(this.roots[this.roots.length-1].index)/2:0;for(var r=0;r<this.roots.length;r++){var s=this.roots[r];s&&!s.parent&&(s.parent=n.parent(s.index))}this._leaf=e.leaf,this._parent=e.parent}t.exports=i,i.prototype.next=function(e,t){r.isBuffer(e)||(e=new r(e)),t||(t=[]);var i=2*this.blocks++,s={index:i,parent:n.parent(i),hash:null,size:e.length,data:e};for(s.hash=this._leaf(s,this.roots),this.roots.push(s),t.push(s);this.roots.length>1;){var o=this.roots[this.roots.length-2],a=this.roots[this.roots.length-1];if(o.parent!==a.parent)break;this.roots.pop(),this.roots[this.roots.length-1]=s={index:o.parent,parent:n.parent(o.parent),hash:this._parent(o,a),size:o.size+a.size,data:null},t.push(s)}return t}}).call(this,e("buffer").Buffer)},{buffer:48,"flat-tree":265}],338:[function(e,t,r){const n=e("delay"),i=e("end-of-stream-promise"),s=e("promise-defer"),o=e("randomize-array"),a=e("xor-distance"),c=e("p-queue").default,f=e("events");t.exports=class extends f{constructor({id:e,lookup:t,connect:r,sampleSize:n=10,percentFar:i=.33,maxPeers:s=4,lookupTimeout:o=1e3,queueTimeout:a=o+2e3}){if(super(),this.id=e,this._lookup=t,this._connect=r,this.sampleSize=n,this.percentFar=i,this.maxPeers=s,o>a)throw new Error("queueTimeout must be higher than lookupTimeout");this.lookupTimeout=o,this.queue=new c({concurrency:1,timeout:a}),this.connectedPeers=new Set,this.hasConnectedFar=!1,this.destroyed=!1}shouldHandleIncoming(){return this.connectedPeers.size<this.maxPeers}handleIncoming(e,t){this.shouldHandleIncoming(e)?this.addConnection(e,t):t.close()}addConnection(e,t){const r=e.toString("hex");this.connectedPeers.add(r),t.once("close",()=>{this.connectedPeers.delete(r),this.queue.add(()=>this.run())})}async run(){if(!this.shouldHandleIncoming())return;if(this.destroyed)return;const e=[],t=this._lookup(),r=s(),c=Promise.race([i(t),n(this.lookupTimeout),r.promise]);if(t.on("data",t=>{e.push(...t),e.length>=this.sampleSize&&r.resolve()}),await c,this.destroyed)return;let f=e.slice();f.length>this.sampleSize&&(f=o(e).slice(0,this.sampleSize)),f.sort((e,t)=>a.gt(a(this.id,e),a(this.id,t)));let h=!1;for(let e of f){if(this.destroyed)return;const t=e.toString("hex");if(!this.connectedPeers.has(t))try{const t=await this._connect(e);h=!0,this.addConnection(e,t);break}catch(e){}}if(!h)return void this.emit("nopeers");if(this.hasConnectedFar)return;if(this.connectedPeers.size>=this.maxPeers)return;if(!(Math.random()>this.percentFar)){f.reverse();for(let e of f){if(this.destroyed)return;const t=e.toString("hex");if(!this.connectedPeers.has(t))try{const t=await this._connect(e);this.addConnection(e,t),this.hasConnectedFar=!0,t.once("close",()=>{this.hasConnectedFar=!1});break}catch(e){}}}}async destroy(){this.destroyed=!0}}},{delay:218,"end-of-stream-promise":247,events:83,"p-queue":352,"promise-defer":360,"randomize-array":381,"xor-distance":462}],339:[function(e,t,r){var n=1e3,i=60*n,s=60*i,o=24*s,a=7*o,c=365.25*o;function f(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*c;case"weeks":case"week":case"w":return r*a;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return f(e,t,o,"day");if(t>=s)return f(e,t,s,"hour");if(t>=i)return f(e,t,i,"minute");if(t>=n)return f(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=s)return Math.round(e/s)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],340:[function(e,t,r){(function(e){t.exports=function(){var t=[],r=null,n=function(){r(s)},i=function(s){return r?t.push(s):(r=s,i.locked=!0,e.nextTick(n),0)};i.locked=!1;var s=function(e,n,s){r=null,i.locked=!1,t.length&&i(t.shift()),e&&e(n,s)};return i}}).call(this,e("_process"))},{_process:119}],341:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"AssertionError")}n.notEqual=function(e,t,r){n(e!=t,r)},n.notOk=function(e,t){n(!e,t)},n.equal=function(e,t,r){n(e==t,r)},n.ok=n,t.exports=n},{}],342:[function(e,t,r){var n=e("remove-array-items"),i=e("nanotiming"),s=e("assert");function o(e){if(!(this instanceof o))return new o(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}t.exports=o,o.prototype.emit=function(e){s.ok("string"==typeof e||"symbol"==typeof e,"nanobus.emit: eventName should be type string or symbol");for(var t=[],r=1,n=arguments.length;r<n;r++)t.push(arguments[r]);var o=i(this._name+"('"+e.toString()+"')"),a=this._listeners[e];return a&&a.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,o.uuid),o(),this},o.prototype.on=o.prototype.addListener=function(e,t){return s.ok("string"==typeof e||"symbol"==typeof e,"nanobus.on: eventName should be type string or symbol"),s.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},o.prototype.prependListener=function(e,t){return s.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependListener: eventName should be type string or symbol"),s.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},o.prototype.once=function(e,t){s.ok("string"==typeof e||"symbol"==typeof e,"nanobus.once: eventName should be type string or symbol"),s.equal(typeof t,"function","nanobus.once: listener should be type function");var r=this;return this.on(e,function n(){t.apply(r,arguments);r.removeListener(e,n)}),this},o.prototype.prependOnceListener=function(e,t){s.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependOnceListener: eventName should be type string or symbol"),s.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var r=this;return this.prependListener(e,function n(){t.apply(r,arguments);r.removeListener(e,n)}),this},o.prototype.removeListener=function(e,t){return s.ok("string"==typeof e||"symbol"==typeof e,"nanobus.removeListener: eventName should be type string or symbol"),s.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),r(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),r(this._listeners[e],t));function r(e,t){if(e){var r=e.indexOf(t);return-1!==r?(n(e,r,1),!0):void 0}}},o.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},o.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,r=[];if(t)for(var n=t.length,i=0;i<n;i++)r.push(t[i]);return r},o.prototype._emit=function(e,t,r,n){if(void 0!==e&&0!==e.length){void 0===r&&(r=t,t=null),t&&(r=void 0!==n?[t].concat(r,n):[t].concat(r));for(var i=e.length,s=0;s<i;s++){var o=e[s];o.apply(o,r)}}}},{assert:341,nanotiming:345,"remove-array-items":397}],343:[function(e,t,r){(function(e){function r(e){e.continueSync()}t.exports=class{constructor(){this._tick=0,this._fns=[],this._dep=null}get waiting(){return this._tick>0}depend(e){if(null!==this._dep)throw new Error("Can only depend on one other guard currently");this._dep=e}wait(){this._tick++}continue(t,n,i){1===this._tick?e.nextTick(r,this):this._tick--,t&&t(n,i)}waitAndContinue(){let e=!1;return this.wait(),()=>!e&&(e=!0,this.continue(),!0)}continueSync(e,t,r){if(!--this._tick){for(;null!==this._fns&&this._fns.length;)this._ready(this._fns.pop());e&&e(t,r)}}destroy(){const e=this._fns;if(!e)for(this._fns=null;e.length;)e.pop()()}ready(e){null===this._fns||0===this._tick?this._ready(e):this._fns.push(e)}_ready(e){null===this._dep?e():this._dep.ready(e)}}}).call(this,e("_process"))},{_process:119}],344:[function(e,t,r){var n=e("assert"),i="undefined"!=typeof window;function s(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}s.prototype.push=function(e){n.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()},s.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()})}},s.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})},t.exports=function(){var e;return i?(window._nanoScheduler||(window._nanoScheduler=new s(!0)),e=window._nanoScheduler):e=new s,e}},{assert:341}],345:[function(e,t,r){var n,i=e("nanoscheduler")(),s=e("assert");o.disabled=!0;try{n=window.performance,o.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!n.mark}catch(e){}function o(e){if(s.equal(typeof e,"string","nanotiming: name should be type string"),o.disabled)return a;var t=(1e4*n.now()).toFixed()%Number.MAX_SAFE_INTEGER,r="start-"+t+"-"+e;function c(s){var o="end-"+t+"-"+e;n.mark(o),i.push(function(){var i=null;try{var a=e+" ["+t+"]";n.measure(a,r,o),n.clearMarks(r),n.clearMarks(o)}catch(e){i=e}s&&s(i,e)})}return n.mark(r),c.uuid=t,c}function a(e){e&&i.push(function(){e(new Error("nanotiming: performance API unavailable"))})}t.exports=o},{assert:341,nanoscheduler:344}],346:[function(e,t,r){(function(e,r){"use strict";var n=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},i=function(e){var t,r,i=document.createTextNode(""),s=0;return new e(function(){var e;if(t)r&&(t=r.concat(t));else{if(!r)return;t=r}if(r=t,t=null,"function"==typeof r)return e=r,r=null,void e();for(i.data=s=++s%2;r;)e=r.shift(),r.length||(r=null),e()}).observe(i,{characterData:!0}),function(e){n(e),t?"function"==typeof t?t=[t,e]:t.push(e):(t=e,i.data=s=++s%2)}};t.exports=function(){if("object"==typeof e&&e&&"function"==typeof e.nextTick)return e.nextTick;if("function"==typeof queueMicrotask)return function(e){queueMicrotask(n(e))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return i(MutationObserver);if("function"==typeof WebKitMutationObserver)return i(WebKitMutationObserver)}return"function"==typeof r?function(e){r(n(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(n(e),0)}:null}()}).call(this,e("_process"),e("timers").setImmediate)},{_process:119,timers:155}],347:[function(e,t,r){var n=e("remove-trailing-separator");t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return e=e.replace(/[\\\/]+/g,"/"),!1!==t&&(e=n(e)),e}},{"remove-trailing-separator":398}],348:[function(e,t,r){var n=e("wrappy");function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function s(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}t.exports=n(i),t.exports.strict=n(s),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})})},{wrappy:461}],349:[function(e,t,r){"use strict";const n=(e,t,r={})=>{if(!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let n,i,s=[];return function(...o){return new Promise(a=>{const c=r.leading&&!i;clearTimeout(i),i=setTimeout(()=>{i=null;const t=r.leading?n:e.apply(this,o);for(a of s)a(t);s=[]},t),c?(n=e.apply(this,o),a(n)):s.push(a)})}};t.exports=n,t.exports.default=n},{}],350:[function(e,t,r){"use strict";t.exports=((e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e}))))},{}],351:[function(e,t,r){"use strict";const n=Symbol("pForever.end"),i=async(e,t)=>{const r=await e(await t);if(r!==n)return i(e,r)};t.exports=i,t.exports.default=i,t.exports.end=n},{}],352:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("eventemitter3"),i=e("p-timeout"),s=e("./priority-queue"),o=()=>{},a=new i.TimeoutError;r.default=class extends n{constructor(e){var t,r,n,i;if(super(),Object.defineProperty(this,"_carryoverConcurrencyCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isIntervalIgnored",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalCap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_intervalEnd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_intervalId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_timeoutId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_queueClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pendingCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_concurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isPaused",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_resolveEmpty",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_resolveIdle",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_throwOnTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:s.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.emit("active"),this._queue.dequeue()(),e&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((r,n)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const s=void 0===this._timeout&&void 0===t.timeout?e():i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(a)});r(await s)}catch(e){n(e)}this._next()},t),this._tryToStartAnother()})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=(()=>{t(),e()})})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=(()=>{t(),e()})})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},{"./priority-queue":354,eventemitter3:263,"p-timeout":355}],353:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){let n=0,i=e.length;for(;i>0;){const s=i/2|0;let o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}},{}],354:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./lower-bound");r.default=class{constructor(){Object.defineProperty(this,"_queue",{enumerable:!0,configurable:!0,writable:!0,value:[]})}enqueue(e,t){const r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);const i=n.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,r)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},{"./lower-bound":353}],355:[function(e,t,r){"use strict";const n=e("p-finally");class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}const s=(e,t,r)=>new Promise((s,o)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void s(e);const a=setTimeout(()=>{if("function"==typeof r){try{s(r())}catch(e){o(e)}return}const n=r instanceof Error?r:new i("string"==typeof r?r:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),o(n)},t);n(e.then(s,o),()=>{clearTimeout(a)})});t.exports=s,t.exports.default=s,t.exports.TimeoutError=i},{"p-finally":350}],356:[function(e,t,r){r.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},r.decode=function(e){for(var t={},r=e.split("&"),n=0,i=r.length;n<i;n++){var s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},{}],357:[function(e,t,r){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,r=e.indexOf("["),s=e.indexOf("]");-1!=r&&-1!=s&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));for(var o=n.exec(e||""),a={},c=14;c--;)a[i[c]]=o[c]||"";return-1!=r&&-1!=s&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],358:[function(e,t,r){(function(e){t.exports=function(t){return e.isBuffer(t)&&(t=t.toString("hex")),"string"==typeof t&&t.length>8?t.slice(0,6)+".."+t.slice(-2):t}}).call(this,{isBuffer:e("../../../../../app/node_modules/is-buffer/index.js")})},{"../../../../../app/node_modules/is-buffer/index.js":101}],359:[function(e,t,r){arguments[4][118][0].apply(r,arguments)},{_process:119,dup:118}],360:[function(e,t,r){(function(e){function r(t){return null==t&&(t=e.Promise),n(t,this instanceof r?this:Object.create(r.prototype))}function n(e,t){return t.promise=new e(function(e,r){t.resolve=e,t.reject=r}),t}t.exports=r,r.defer=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],361:[function(e,t,r){(function(t){var n=e("varint"),i=e("signed-varint");function s(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function o(e){return t.isBuffer(e)?e.length:t.byteLength(e)}r.make=s,r.name=function(e){for(var t=Object.keys(r),n=0;n<t.length;n++)if(r[t[n]]===e)return t[n];return null},r.skip=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},r.bytes=s(2,function e(r,i,s){var a=s,c=o(r);return n.encode(c,i,s),s+=n.encode.bytes,t.isBuffer(r)?r.copy(i,s):i.write(r,s,c),e.bytes=(s+=c)-a,i},function e(t,r){var i=r,s=n.decode(t,r);r+=n.decode.bytes;var o=t.slice(r,r+s);return r+=o.length,e.bytes=r-i,o},function(e){var t=o(e);return n.encodingLength(t)+t}),r.string=s(2,function e(r,i,s){var o=s,a=t.byteLength(r);return n.encode(a,i,s,"utf-8"),s+=n.encode.bytes,i.write(r,s,a),e.bytes=(s+=a)-o,i},function e(t,r){var i=r,s=n.decode(t,r);r+=n.decode.bytes;var o=t.toString("utf-8",r,r+s);return e.bytes=(r+=s)-i,o},function(e){var r=t.byteLength(e);return n.encodingLength(r)+r}),r.bool=s(0,function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r},function e(t,r){var n=t[r]>0;return e.bytes=1,n},function(){return 1}),r.int32=s(0,function e(t,r,i){return n.encode(t<0?t+4294967296:t,r,i),e.bytes=n.encode.bytes,r},function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,i>2147483647?i-4294967296:i},function(e){return n.encodingLength(e<0?e+4294967296:e)}),r.int64=s(0,function e(t,r,i){if(t<0){var s=i+9;for(n.encode(-1*t,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<s-1;)r[++i]=255;r[s]=1,e.bytes=10}else n.encode(t,r,i),e.bytes=n.encode.bytes;return r},function e(r,i){var s=n.decode(r,i);if(s>=Math.pow(2,63)){for(var o=9;255===r[i+o-1];)o--;o=o||9;var a=t.allocUnsafe(o);r.copy(a,0,i,i+o),a[o-1]=127&a[o-1],s=-1*n.decode(a,0),e.bytes=10}else e.bytes=n.decode.bytes;return s},function(e){return e<0?10:n.encodingLength(e)}),r.sint32=r.sint64=s(0,i.encode,i.decode,i.encodingLength),r.uint32=r.uint64=r.enum=r.varint=s(0,n.encode,n.decode,n.encodingLength),r.fixed64=r.sfixed64=s(1,function e(t,r,n){return t.copy(r,n),e.bytes=8,r},function e(t,r){var n=t.slice(r,r+8);return e.bytes=8,n},function(){return 8}),r.double=s(1,function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r},function e(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n},function(){return 8}),r.fixed32=s(5,function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r},function e(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n},function(){return 4}),r.sfixed32=s(5,function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r},function e(t,r){var n=t.readInt32LE(r);return e.bytes=4,n},function(){return 4}),r.float=s(5,function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r},function e(t,r){var n=t.readFloatLE(r);return e.bytes=4,n},function(){return 4})}).call(this,e("buffer").Buffer)},{buffer:48,"signed-varint":400,varint:364}],362:[function(e,t,r){arguments[4][173][0].apply(r,arguments)},{dup:173}],363:[function(e,t,r){arguments[4][174][0].apply(r,arguments)},{dup:174}],364:[function(e,t,r){arguments[4][175][0].apply(r,arguments)},{"./decode.js":362,"./encode.js":363,"./length.js":365,dup:175}],365:[function(e,t,r){arguments[4][176][0].apply(r,arguments)},{dup:176}],366:[function(e,t,r){(function(r){var n=e("once"),i=e("end-of-stream"),s=e("fs"),o=function(){},a=/^v?\.0/.test(r.version),c=function(e){return"function"==typeof e},f=function(e,t,r,f){f=n(f);var h=!1;e.on("close",function(){h=!0}),i(e,{readable:t,writable:r},function(e){if(e)return f(e);h=!0,f()});var u=!1;return function(t){if(!h&&!u)return u=!0,function(e){return!!a&&!!s&&(e instanceof(s.ReadStream||o)||e instanceof(s.WriteStream||o))&&c(e.close)}(e)?e.close(o):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void f(t||new Error("stream was destroyed"))}},h=function(e){e()},u=function(e,t){return e.pipe(t)};t.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||o)&&t.pop()||o;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map(function(i,s){var o=s<t.length-1;return f(i,o,s>0,function(t){e||(e=t),t&&n.forEach(h),o||(n.forEach(h),r(e))})});return t.reduce(u)}}).call(this,e("_process"))},{_process:119,"end-of-stream":248,fs:18,once:348}],367:[function(e,t,r){let n;t.exports="function"==typeof queueMicrotask?queueMicrotask:e=>(n||(n=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))},{}],368:[function(e,t,r){(function(r){const n=e("random-access-storage"),i={type:"octet/stream"},s=window.requestFileSystem||window.webkitRequestFileSystem,o=navigator.persistentStorage||navigator.webkitPersistentStorage,a=window.FileReader,c=window.Blob;function f(e,t,r){if("function"==typeof t)return f(e,!0,t);o.queryUsageAndQuota(function(n,i){if(i&&!t)return r(null,i);o.requestQuota(e,function(e){r(null,e)},r)},r)}function h(e,t){t||(t={});const r=t.maxSize||h.DEFAULT_MAX_SIZE,i=new l;var o=null,a=null,c=null,b=[],g=[];return n({read:function(e){(b.pop()||new p(b,a,i)).run(e)},write:function(e){(g.pop()||new d(g,a,i)).run(e)},open:function(t){function n(e){o=a=null,t.callback(e)}f(r,!1,function(r,i){if(r)return n(r);s(window.PERSISTENT,i,function(r){o=r,function e(t,r){if(!t)return r();o.root.getDirectory(t,{create:!0},r,function(){e(u(t),function(){o.root.getDirectory(t,{create:!0},r,r)})})}(u(e),function(){o.root.getFile(e,{create:!0},function(e){a=c=e,t.callback(null)},n)})},n)})},stat:function(e){a.file(t=>{e.callback(null,t)},t=>e.callback(t))},close:function(e){b=g=a=o=null,e.callback(null)},destroy:function(e){c.remove(function(){c=null,e.callback(null,null)},function(t){c=null,e.callback(t,null)})}})}function u(e){const t=e.lastIndexOf("/"),r=e.lastIndexOf("\\"),n=e.slice(0,Math.max(0,t,r));return/^\w:$/.test(n)?"":n}function d(e,t,r){this.pool=e,this.entry=t,this.mutex=r,this.writer=null,this.req=null,this.locked=!1,this.truncating=!1}function l(){this.queued=null}function p(e,t,n){this.pool=e,this.entry=t,this.mutex=n,this.reader=new a,this.req=null,this.retry=!0,this.locked=!1;const i=this;this.reader.onerror=function(){i.onread(this.error,null)},this.reader.onload=function(){const e=r.from(this.result);i.onread(null,e)}}h.DEFAULT_MAX_SIZE=Number.MAX_SAFE_INTEGER,h.requestQuota=f,t.exports=h,d.prototype.makeWriter=function(){const e=this;this.entry.createWriter(function(t){e.writer=t,t.onwriteend=function(){e.onwrite(null)},t.onerror=function(t){e.onwrite(t)},e.run(e.req)})},d.prototype.onwrite=function(e){const t=this.req;if(this.req=null,this.locked&&(this.locked=!1,this.mutex.release()),this.truncating&&(this.truncating=!1,!e))return this.run(t);this.pool.push(this),t.callback(e,null)},d.prototype.truncate=function(){this.truncating=!0,this.writer.truncate(this.req.offset)},d.prototype.lock=function(){return!!this.locked||(this.locked=this.mutex.lock(this),this.locked)},d.prototype.run=function(e){this.entry.file(t=>{if(this.req=e,!this.writer||this.writer.length!==t.size)return this.makeWriter();if(!(e.offset+e.size>t.size)||this.lock()){if(e.offset>this.writer.length)return e.offset>t.size?this.truncate():this.makeWriter();this.writer.seek(e.offset),this.writer.write(new c([e.data],i))}},t=>e.callback(t))},l.prototype.release=function(){const e=this.queued;this.queued=null;for(var t=0;t<e.length;t++)e[t].run(e[t].req)},l.prototype.lock=function(e){return this.queued?(this.queued.push(e),!1):(this.queued=[],!0)},p.prototype.lock=function(){return!!this.locked||(this.locked=this.mutex.lock(this),this.locked)},p.prototype.onread=function(e,t){const r=this.req;if(e&&this.retry)return this.retry=!1,void(this.lock(this)&&this.run(r));this.req=null,this.pool.push(this),this.retry=!0,this.locked&&(this.locked=!1,this.mutex.release()),r.callback(e,t)},p.prototype.run=function(e){this.entry.file(t=>{const r=e.offset+e.size;if(this.req=e,r>t.size)return this.onread(new Error("Could not satisfy length"),null);this.reader.readAsArrayBuffer(t.slice(e.offset,r))},t=>e.callback(t))}}).call(this,e("buffer").Buffer)},{buffer:48,"random-access-storage":377}],369:[function(e,t,r){t.exports=function(){throw new Error("random-access-file is not supported in the browser")}},{}],370:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.indexedDB=window.indexedDB},{}],371:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("random-access-storage"),s=(n=i)&&n.__esModule?n:{default:n},o=e("./IndexedDB"),a=e("buffer");const c=e=>new Promise((t,r)=>{e.onsuccess=(()=>t(e.result)),e.onerror=(()=>r(e.error))});class f{constructor(e,t,r,n,i){this.db=e,this.name=t,this.version=r,this.storeName=n,this.options=i}store(){const{db:e,storeName:t}=this;return e.transaction([t],"readwrite").objectStore(t)}async delete(e){return await c(this.store().delete(e))}async save(e,t){return await c(this.store().put(t,e))}async open(e,t){const r=await c(this.store().get(e));if(r)return r;if("readwrite"===t){const t=await c(this.db.createMutableFile(e,"binary/random"));return await this.save(e,t),t}throw new RangeError(`File ${e} does not exist`)}mount(e,t){return new h(this,`/${e}`,t)}}class h extends s.default{static async mount(e={}){if(self.IDBMutableFile){const t=e.name||"RandomAccess",r=e.version||1,n=e.storeName||"IDBMutableFile",i=o.indexedDB.open(t,r);i.onupgradeneeded=(()=>{const e=i.result;e.objectStoreNames.contains(n)||e.createObjectStore(n)});const s=await c(i),a=new f(s,t,r,n,e);return(e,t)=>a.mount(e,t)}throw Error("Runtime does not supports IDBMutableFile https://developer.mozilla.org/en-US/docs/Web/API/IDBMutableFile")}static async open(e,t){const{options:r}=e,n=t.preferReadonly?"readonly":"readwrite";if(e.debug&&console.log(`>> open ${e.url} ${n}`),(!e.file||e.mode!==n&&"readwrite"===n)&&(e.mode=n,e.file=await e.volume.open(e.url,n)),"readonly"!==n&&r.truncate){const t=e.activate();await c(t.truncate(r.size||0))}e.debug&&console.log(`<< open ${e.url} ${n}`)}static async read(e,{data:t,offset:r,size:n}){e.debug&&console.log(`>> read ${e.url} <${r}, ${n}>`);const i=t||a.Buffer.allocUnsafe(n);if(0===n)return i;const s=e.activate();s.location=r;const o=await c(s.readAsArrayBuffer(n));if(o.byteLength!==n)throw new Error("Could not satisfy length");return a.Buffer.from(o).copy(i),e.debug&&console.log(`<< read ${e.url} <${r}, ${n}>`,i),i}static async write(e,{data:t,offset:r,size:n}){e.debug&&console.log(`>> write ${e.url} <${r}, ${n}>`,t);const{byteLength:i,byteOffset:s}=t,o=i===n?t:t.slice(0,n),a=e.activate();a.location=r;const f=await c(a.write(o));return e.debug&&console.log(`<< write ${e.url} <${r}, ${n}>`),f}static async delete(e,{offset:t,size:r}){if(e.debug&&console.log(`>> delete ${e.url} <${t}, ${r}>`),t+r>=(await this.stat(e)).size){const r=e.activate();await c(r.truncate(t))}e.debug&&console.log(`<< delete ${e.url} <${t}, ${r}>`)}static async stat(e){e.debug&&console.log(`>> stat ${e.url}`);const t=e.activate(),r=await c(t.getMetadata());return e.debug&&console.log(`<< stat {size:${r.size}} ${e.url} `),r}static async close(e){e.debug&&console.log(`>> close ${e.url}`);const{lockedFile:t}=e;t&&t.active&&await c(t.flush()),e.lockedFile=null,e.file=null,e.debug&&console.log(`<< close ${e.url}`)}static async destroy(e){e.debug&&console.log(`>> destroy ${e.url}`),await e.volume.delete(e.url),e.debug&&console.log(`<< destroy ${e.url}`)}static async awake(e){const{workQueue:t}=e;e.isIdle=!1;let r=0;for(;r<t.length;){const n=t[r++];await this.perform(e,n)}t.length=0,e.isIdle=!0}static schedule(e,t){e.workQueue.push(t),e.isIdle&&this.awake(e)}static async perform(e,t){try{switch(t.type){case u.open:return t.callback(null,await this.open(e,t));case u.read:return t.callback(null,await this.read(e,t));case u.write:return t.callback(null,await this.write(e,t));case u.delete:return t.callback(null,await this.delete(e,t));case u.stat:return t.callback(null,await this.stat(e));case u.close:return t.callback(null,await this.close(e));case u.destroy:return t.callback(null,await this.destroy(e))}}catch(e){t.callback(e)}}_open(e){h.schedule(this,e)}_openReadonly(e){h.schedule(this,e)}_write(e){h.schedule(this,e)}_read(e){h.schedule(this,e)}_del(e){h.schedule(this,e)}_stat(e){h.perform(this,e)}_close(e){h.schedule(this,e)}_destroy(e){h.schedule(this,e)}constructor(e,t,r={}){super(),this.volume=e,this.url=t,this.options=r,this.mode="readonly",this.file=null,this.lockedFile=null,this.workQueue=[],this.isIdle=!0,this.debug=!!e.options.debug}activate(){const{lockedFile:e,file:t,mode:r}=this;if(e&&e.active)return e;if(t){const e=t.open(r);return this.lockedFile=e,e}throw new RangeError("Unable to activate file, likely provider was destroyed")}}const u={open:0,read:1,write:2,delete:3,stat:4,close:5,destroy:6};r.default=h,t.exports=r.default},{"./IndexedDB":370,buffer:48,"random-access-storage":372}],372:[function(e,t,r){(function(r){var n=e("events"),i=e("inherits"),s=b(new Error("Not readable")),o=b(new Error("Not writable")),a=b(new Error("Not deletable")),c=b(new Error("Not statable")),f=b(new Error("No readonly open"));function h(e){if(!(this instanceof h))return new h(e);n.EventEmitter.call(this),this._queued=[],this._pending=0,this._needsOpen=!0,this.opened=!1,this.closed=!1,this.destroyed=!1,e&&(e.openReadonly&&(this._openReadonly=e.openReadonly),e.open&&(this._open=e.open),e.read&&(this._read=e.read),e.write&&(this._write=e.write),e.del&&(this._del=e.del),e.stat&&(this._stat=e.stat),e.close&&(this._close=e.close),e.destroy&&(this._destroy=e.destroy)),this.preferReadonly=this._openReadonly!==f,this.readable=this._read!==s,this.writable=this._write!==o,this.deletable=this._del!==a,this.statable=this._stat!==c}function u(){}function d(e,t,r,n,i,s){this.type=t,this.offset=r,this.data=i,this.size=n,this.storage=e,this._sync=!1,this._callback=s,this._openError=null}function l(e,t){e._queued.push(t),e._pending||t._run()}function p(e){e.preferReadonly&&(e._needsOpen=!0,e.preferReadonly=!1)}function b(e){return function(t){g(t,e)}}function g(e,t,n){r.nextTick(y,e,t,n)}function y(e,t,r){e.callback(t,r)}t.exports=h,i(h,n.EventEmitter),h.prototype.open=function(e){if(e||(e=u),this.opened&&!this._needsOpen)return r.nextTick(e,null);l(this,new d(this,0,0,0,null,e))},h.prototype._open=b(null),h.prototype._openReadonly=f,h.prototype.read=function(e,t,r){this.run(new d(this,1,e,t,null,r))},h.prototype._read=s,h.prototype.write=function(e,t,r){r||(r=u),p(this),this.run(new d(this,2,e,t.length,t,r))},h.prototype._write=o,h.prototype.del=function(e,t,r){r||(r=u),p(this),this.run(new d(this,3,e,t,null,r))},h.prototype._del=a,h.prototype.stat=function(e){this.run(new d(this,4,0,0,null,e))},h.prototype._stat=c,h.prototype.close=function(e){if(e||(e=u),this.closed)return r.nextTick(e,null);l(this,new d(this,5,0,0,null,e))},h.prototype._close=b(null),h.prototype.destroy=function(e){e||(e=u),this.closed||this.close(u),l(this,new d(this,6,0,0,null,e))},h.prototype._destroy=b(null),h.prototype.run=function(e){this._needsOpen&&this.open(u),this._queued.length?this._queued.push(e):e._run()},d.prototype._maybeOpenError=function(e){if(0===this.type)for(var t=this.storage._queued,r=0;r<t.length;r++)t[r]._openError=e},d.prototype._unqueue=function(e){var t=this.storage,r=t._queued;if(e)this._maybeOpenError(e);else switch(this.type){case 0:t.opened||(t.opened=!0,t.emit("open"));break;case 5:t.closed||(t.closed=!0,t.emit("close"));break;case 6:t.destroyed||(t.destroyed=!0,t.emit("destroy"))}r.length&&r[0]===this&&r.shift(),!--t._pending&&r.length&&r[0]._run()},d.prototype.callback=function(e,t){if(this._sync)return g(this,e,t);this._unqueue(e),this._callback(e,t)},d.prototype._openAndNotClosed=function(){var e=this.storage;return!(!e.opened||e.closed)||(e.opened?e.closed&&g(this,new Error("Closed")):g(this,this._openError||new Error("Not opened")),!1)},d.prototype._open=function(){var e=this.storage;return e.opened&&!e._needsOpen?g(this,null):e.closed?g(this,new Error("Closed")):(e._needsOpen=!1,void(e.preferReadonly?e._openReadonly(this):e._open(this)))},d.prototype._run=function(){var e=this.storage;switch(e._pending++,this._sync=!0,this.type){case 0:this._open();break;case 1:this._openAndNotClosed()&&e._read(this);break;case 2:this._openAndNotClosed()&&e._write(this);break;case 3:this._openAndNotClosed()&&e._del(this);break;case 4:this._openAndNotClosed()&&e._stat(this);break;case 5:e.closed||!e.opened?g(this,null):e._close(this);break;case 6:e.destroyed?g(this,null):e._destroy(this)}this._sync=!1}}).call(this,e("_process"))},{_process:119,events:83,inherits:313}],373:[function(e,t,r){(function(r){var n=e("random-access-storage"),i=e("inherits"),s=e("next-tick"),o=e("once"),a=e("./lib/blocks.js"),c=e("buffer-from"),f=e("buffer-alloc"),h="\0",u="undefined"!=typeof window?window:"undefined"!=typeof self?self:{};function d(e){if(!(this instanceof d))return new d(e);n.call(this),e||(e={}),"string"==typeof e&&(e={name:e}),this.size=e.size||4096,this.name=e.name,this.length=e.length||0,this._getdb=e.db}function l(e,t){e.addEventListener("success",function(e){t(null,e)}),e.addEventListener("error",t)}t.exports=function(e,t){t||(t={});var r=t.idb||(void 0!==u?u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB:null);if(!r)throw new Error("indexedDB not present and not given");var n=null,i=[];if("function"==typeof r.open){var o=r.open(e);o.addEventListener("upgradeneeded",function(){(n=o.result).createObjectStore("data")}),o.addEventListener("success",function(){n=o.result,i.forEach(function(e){e(n)}),i=null})}else n=r;return function(e,r){return"object"==typeof e&&(e=(r=e).name),r||(r={}),r.name=e,new d(Object.assign({db:a},t,r))};function a(e){n?s(function(){e(n)}):i.push(e)}},i(d,n),d.prototype._blocks=function(e,t){return a(this.size,e,t)},d.prototype._read=function(e){var t=this,n=[];t._store("readonly",function(i,s){if((t.length||0)<e.offset+e.size)return e.callback(new Error("Could not satisfy length"));if(i)return e.callback(i);for(var o=t._blocks(e.offset,e.offset+e.size),a=o.length+1,u=o.length>0?o[0].block:0,d=0;d<o.length;d++)!function(i){var o=t.name+h+i.block;l(s.get(o),function(t,s){if(t)return e.callback(t);n[i.block-u]=s.target.result?c(s.target.result.subarray(i.start,i.end)):f(i.end-i.start),0==--a&&e.callback(null,r.concat(n))})}(o[d]);0==--a&&e.callback(null,r.concat(n))})},d.prototype._write=function(e){var t=this;function r(r,n,i){for(var s=0,o=0;s<n.length;s++){var a=n[s],f=a.end-a.start;f===t.size?block=c(e.data.slice(o,o+f)):(block=i[s],e.data.copy(block,a.start,o,o+f)),r.put(block,t.name+h+a.block),o+=f}var u=Math.max(t.length||0,e.offset+e.data.length);r.put(u,t.name+h+"length"),r.transaction.addEventListener("complete",function(){t.length=u,e.callback(null)}),r.transaction.addEventListener("error",function(t){e.callback(t)})}t._store("readwrite",function(n,i){if(n)return e.callback(n);for(var s=t._blocks(e.offset,e.offset+e.data.length),o=1,a={},u=0;u<s.length;u++)!function(n,u){if(n.end-n.start!==t.size){o++;var d=t.name+h+n.block;l(i.get(d),function(n,h){if(n)return e.callback(n);a[u]=c(h.target.result||f(t.size)),0==--o&&r(i,s,a)})}}(s[u],u);0==--o&&r(i,s,a)})},d.prototype._store=function(e,t){t=o(t);this._getdb(function(r){var n=r.transaction(["data"],e),i=n.objectStore("data");n.addEventListener("error",t),t(null,i)})},d.prototype._open=function(e){var t=this;this._getdb(function(r){t._store("readonly",function(r,n){l(n.get(t.name+h+"length"),function(r,n){t.length=n.target.result||0,e.callback(null)})})})},d.prototype._close=function(e){this._getdb(function(t){t.close(),e.callback()})},d.prototype._stat=function(e){var t=this;s(function(){e.callback(null,{size:t.length})})}}).call(this,e("buffer").Buffer)},{"./lib/blocks.js":374,buffer:48,"buffer-alloc":189,"buffer-from":375,inherits:313,"next-tick":346,once:348,"random-access-storage":377}],374:[function(e,t,r){t.exports=function(e,t,r){for(var n=[],i=Math.floor(t/e)*e;i<r;i+=e)n.push({block:Math.floor(i/e),start:Math.max(i,t)%e,end:Math.min(i+e,r)%e||e});return n}},{}],375:[function(e,t,r){arguments[4][191][0].apply(r,arguments)},{buffer:48,dup:191}],376:[function(e,t,r){(function(r,n){const i=e("random-access-storage"),s=e("is-options"),o=e("inherits"),a=1048576;function c(e){if(!(this instanceof c))return new c(e);"number"==typeof e&&(e={length:e}),e||(e={}),i.call(this),n.isBuffer(e)&&(e={length:e.length,buffer:e}),s(e)||(e={}),this.length=e.length||0,this.pageSize=e.length||e.pageSize||a,this.buffers=[],e.buffer&&this.buffers.push(e.buffer)}function f(e,t,n){r.nextTick(h,e,t,n)}function h(e,t,r){e.callback(t,r)}t.exports=c,o(c,i),c.prototype._stat=function(e){f(e,null,{size:this.length})},c.prototype._write=function(e){var t=Math.floor(e.offset/this.pageSize),r=e.offset-t*this.pageSize,n=0;const i=e.offset+e.size;for(i>this.length&&(this.length=i);n<e.size;){const i=this._page(t++,!0),s=this.pageSize-r,o=s<e.size-n?n+s:e.size;e.data.copy(i,r,n,o),n=o,r=0}f(e,null,null)},c.prototype._read=function(e){var t=Math.floor(e.offset/this.pageSize),r=e.offset-t*this.pageSize,i=0;if(e.offset+e.size>this.length)return f(e,new Error("Could not satisfy length"),null);const s=n.alloc(e.size);for(;i<e.size;){const n=this._page(t++,!1),o=this.pageSize-r,a=e.size-i,c=o<a?o:a;n&&n.copy(s,i,r,r+c),i+=c,r=0}f(e,null,s)},c.prototype._del=function(e){var t=Math.floor(e.offset/this.pageSize),r=e.offset-t*this.pageSize,n=0;for(e.offset+e.size>this.length&&(e.size=Math.max(0,this.length-e.offset));n<e.size;)0===r&&e.size-n>=this.pageSize&&(this.buffers[t++]=void 0),r=0,n+=this.pageSize-r;e.offset+e.size>=this.length&&(this.length=e.offset),f(e,null,null)},c.prototype._destroy=function(e){this._buffers=[],this.length=0,f(e,null,null)},c.prototype._page=function(e,t){var r=this.buffers[e];return r||!t?r:r=this.buffers[e]=n.alloc(this.pageSize)},c.prototype.toBuffer=function(){const e=n.alloc(this.length);for(var t=0;t<this.buffers.length;t++)this.buffers[t]&&this.buffers[t].copy(e,t*this.pageSize);return e}}).call(this,e("_process"),e("buffer").Buffer)},{_process:119,buffer:48,inherits:313,"is-options":315,"random-access-storage":377}],377:[function(e,t,r){(function(r){var n=e("events"),i=e("inherits"),s=b(new Error("Not readable")),o=b(new Error("Not writable")),a=b(new Error("Not deletable")),c=b(new Error("Not statable")),f=b(new Error("No readonly open"));function h(e){if(!(this instanceof h))return new h(e);n.EventEmitter.call(this),this._queued=[],this._pending=0,this._needsOpen=!0,this.opened=!1,this.closed=!1,this.destroyed=!1,e&&(e.openReadonly&&(this._openReadonly=e.openReadonly),e.open&&(this._open=e.open),e.read&&(this._read=e.read),e.write&&(this._write=e.write),e.del&&(this._del=e.del),e.stat&&(this._stat=e.stat),e.close&&(this._close=e.close),e.destroy&&(this._destroy=e.destroy)),this.preferReadonly=this._openReadonly!==f,this.readable=this._read!==s,this.writable=this._write!==o,this.deletable=this._del!==a,this.statable=this._stat!==c}function u(){}function d(e,t,r,n,i,s){this.type=t,this.offset=r,this.data=i,this.size=n,this.storage=e,this._sync=!1,this._callback=s,this._openError=null}function l(e,t){e._queued.push(t),e._pending||t._run()}function p(e){e.preferReadonly&&(e._needsOpen=!0,e.preferReadonly=!1)}function b(e){return function(t){g(t,e)}}function g(e,t,n){r.nextTick(y,e,t,n)}function y(e,t,r){e.callback(t,r)}t.exports=h,i(h,n.EventEmitter),h.prototype.read=function(e,t,r){this.run(new d(this,0,e,t,null,r))},h.prototype._read=s,h.prototype.write=function(e,t,r){r||(r=u),p(this),this.run(new d(this,1,e,t.length,t,r))},h.prototype._write=o,h.prototype.del=function(e,t,r){r||(r=u),p(this),this.run(new d(this,2,e,t,null,r))},h.prototype._del=a,h.prototype.stat=function(e){this.run(new d(this,3,0,0,null,e))},h.prototype._stat=c,h.prototype.open=function(e){if(e||(e=u),this.opened&&!this._needsOpen)return r.nextTick(e,null);l(this,new d(this,4,0,0,null,e))},h.prototype._open=b(null),h.prototype._openReadonly=f,h.prototype.close=function(e){if(e||(e=u),this.closed)return r.nextTick(e,null);l(this,new d(this,5,0,0,null,e))},h.prototype._close=b(null),h.prototype.destroy=function(e){e||(e=u),this.closed||this.close(u),l(this,new d(this,6,0,0,null,e))},h.prototype._destroy=b(null),h.prototype.run=function(e){this._needsOpen&&this.open(u),this._queued.length?this._queued.push(e):e._run()},d.prototype._maybeOpenError=function(e){if(4===this.type)for(var t=this.storage._queued,r=0;r<t.length;r++)t[r]._openError=e},d.prototype._unqueue=function(e){var t=this.storage,r=t._queued;if(e)this._maybeOpenError(e);else switch(this.type){case 4:t.opened||(t.opened=!0,t.emit("open"));break;case 5:t.closed||(t.closed=!0,t.emit("close"));break;case 6:t.destroyed||(t.destroyed=!0,t.emit("destroy"))}r.length&&r[0]===this&&r.shift(),--t._pending||function(e){var t=e._queued;for(;t.length>0;){var r=t[0].type>3;if(r&&e._pending||t[0]._run(),r)return;t.shift()}}(t)},d.prototype.callback=function(e,t){if(this._sync)return g(this,e,t);this._unqueue(e),this._callback(e,t)},d.prototype._openAndNotClosed=function(){var e=this.storage;return!(!e.opened||e.closed)||(e.opened?e.closed&&g(this,new Error("Closed")):g(this,this._openError||new Error("Not opened")),!1)},d.prototype._open=function(){var e=this.storage;return e.opened&&!e._needsOpen?g(this,null):e.closed?g(this,new Error("Closed")):(e._needsOpen=!1,void(e.preferReadonly?e._openReadonly(this):e._open(this)))},d.prototype._run=function(){var e=this.storage;switch(e._pending++,this._sync=!0,this.type){case 0:this._openAndNotClosed()&&e._read(this);break;case 1:this._openAndNotClosed()&&e._write(this);break;case 2:this._openAndNotClosed()&&e._del(this);break;case 3:this._openAndNotClosed()&&e._stat(this);break;case 4:this._open();break;case 5:e.closed||!e.opened?g(this,null):e._close(this);break;case 6:e.destroyed?g(this,null):e._destroy(this)}this._sync=!1}}).call(this,e("_process"))},{_process:119,events:83,inherits:313}],378:[function(e,t,r){const n="undefined"!=typeof window?window:self,i=n.requestFileSystem||n.webkitRequestFileSystem,s=n.IDBMutableFile,o=n.indexedDB;let a=()=>e("random-access-memory");i?a=(t=>{const r=e("random-access-chrome-file");return"object"==typeof t&&t.maxSize&&(r.DEFAULT_MAX_SIZE=t.maxSize),r}):s?a=((t={})=>("string"==typeof t&&(t={name:t}),e("./mutable-file-wrapper.js")(t))):o&&(a=((t={})=>{"string"==typeof t&&(t={name:t});const r=t.name||"random-access-web";return e("random-access-idb")(r,t)})),t.exports=a},{"./mutable-file-wrapper.js":379,"random-access-chrome-file":368,"random-access-idb":373,"random-access-memory":376}],379:[function(e,t,r){t.exports=function(t){const r=e("random-access-storage"),n=e("random-access-idb-mutable-file");let i=null,s=null;return e=>{let o=null;return r({open:function(r){i||s||(s=n.mount(t).then(e=>{i=e,s=null})),s?s.then(()=>{this._open(r)},e=>{r.callback(e)}):(o=i(e),r.callback())},write:function(e){o.write(e.offset,e.data,function(t,r){e.callback(t,r)})},read:function(e){o.read(e.offset,e.size,function(t,r){e.callback(t,r)})},del:function(e){o.del(e.offset,e.size,function(t,r){e.callback(t,r)})},stat:function(e){o.stat(function(t,r){e.callback(t,r)})},close:function(e){o.close(function(t,r){e.callback(t,r)})},destroy:function(e){o.destroy(function(t,r){e.callback(t,r)})}})}}},{"random-access-idb-mutable-file":371,"random-access-storage":377}],380:[function(e,t,r){arguments[4][126][0].apply(r,arguments)},{_process:119,dup:126,"safe-buffer":399}],381:[function(e,t,r){t.exports=function(e){if(!Array.isArray(e))throw"C'mon pal. You gotta feed this thing *arrays*!";const t=[];let r=e.slice();for(;r.length;){const e=Math.floor(Math.random()*r.length);t.push(r.splice(e,1)[0])}return t}},{}],382:[function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,o,a;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(s(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(s(t,"type"))}return a+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},{}],383:[function(e,t,r){(function(r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=f;var i=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(f,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var c=o[a];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||r.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,e("_process"))},{"./_stream_readable":385,"./_stream_writable":387,_process:119,inherits:313}],384:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":386,inherits:313}],385:[function(e,t,r){(function(r,n){"use strict";var i;t.exports=C,C.ReadableState=E;e("events").EventEmitter;var s=function(e,t){return e.listeners(t).length},o=e("./internal/streams/stream"),a=e("buffer").Buffer,c=n.Uint8Array||function(){};var f,h=e("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var u,d,l,p=e("./internal/streams/buffer_list"),b=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,m=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(C,o);var A=b.errorOrDestroy,I=["error","close","destroy","pause","resume"];function E(t,r,n){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof n&&(n=r instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(u||(u=e("string_decoder/").StringDecoder),this.decoder=new u(t.encoding),this.encoding=t.encoding)}function C(t){if(i=i||e("./_stream_duplex"),!(this instanceof C))return new C(t);var r=this instanceof i;this._readableState=new E(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function k(e,t,r,n,i){f("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(f("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?M(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,o);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(o,t)),s)A(e,s);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)o.endEmitted?A(e,new w):S(e,o,t,!0);else if(o.ended)A(e,new v);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?S(e,o,t,!1):D(e,o)):S(e,o,t,!1)}else n||(o.reading=!1,D(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&M(e)),D(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=b.destroy,C.prototype._undestroy=b.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},C.prototype.unshift=function(e){return k(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(t){u||(u=e("string_decoder/").StringDecoder);var r=new u(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function B(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function M(e){var t=e._readableState;f("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(R,e))}function R(e){var t=e._readableState;f("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function D(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(f("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){f("readable nexttick read 0"),e.read(0)}function Q(e,t){f("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;f("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(F,t,e))}function F(e,t){if(f("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):M(this),null;if(0===(e=B(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=B(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){A(this,new _("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:g;function a(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",p),e.removeListener("finish",b),e.removeListener("drain",h),e.removeListener("error",l),e.removeListener("unpipe",a),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",d),u=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){f("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",a);var h=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(n);e.on("drain",h);var u=!1;function d(t){f("ondata");var r=e.write(t);f("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==N(i.pipes,e))&&!u&&(f("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function l(t){f("onerror",t),g(),e.removeListener("error",l),0===s(e,"error")&&A(e,t)}function p(){e.removeListener("finish",b),g()}function b(){f("onfinish"),e.removeListener("close",p),g()}function g(){f("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",p),e.once("finish",b),e.emit("pipe",n),i.flowing||(f("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=N(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},C.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,f("on readable",i.length,i.reading),i.length?M(this):i.reading||r.nextTick(O,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(j,this),n},C.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(j,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(Q,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(f("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(f("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<I.length;s++)e.on(I[s],this.emit.bind(this,I[s]));return this._read=function(t){f("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=P,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(t,r){return void 0===l&&(l=e("./internal/streams/from")),l(C,t,r)})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":382,"./_stream_duplex":383,"./internal/streams/async_iterator":388,"./internal/streams/buffer_list":389,"./internal/streams/destroy":390,"./internal/streams/from":392,"./internal/streams/state":394,"./internal/streams/stream":395,_process:119,buffer:48,events:83,inherits:313,"string_decoder/":434,util:18}],386:[function(e,t,r){"use strict";t.exports=h;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function f(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(h,c),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new i("_transform()"))},h.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":382,"./_stream_duplex":383,inherits:313}],387:[function(e,t,r){(function(r,n){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var s;t.exports=C,C.WritableState=E;var o={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),c=e("buffer").Buffer,f=n.Uint8Array||function(){};var h,u=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,l=e("../errors").codes,p=l.ERR_INVALID_ARG_TYPE,b=l.ERR_METHOD_NOT_IMPLEMENTED,g=l.ERR_MULTIPLE_CALLBACK,y=l.ERR_STREAM_CANNOT_PIPE,m=l.ERR_STREAM_DESTROYED,v=l.ERR_STREAM_NULL_VALUES,_=l.ERR_STREAM_WRITE_AFTER_END,w=l.ERR_UNKNOWN_ENCODING,A=u.errorOrDestroy;function I(){}function E(t,n,o){s=s||e("./_stream_duplex"),t=t||{},"boolean"!=typeof o&&(o=n instanceof s),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,s=n.writecb;if("function"!=typeof s)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,s){--t.pendingcb,n?(r.nextTick(s,i),r.nextTick(R,e,t),e._writableState.errorEmitted=!0,A(e,i)):(s(i),e._writableState.errorEmitted=!0,A(e,i),R(e,t))}(e,n,i,t,s);else{var o=B(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),i?r.nextTick(S,e,n,o,s):S(e,n,o,s)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function C(t){var r=this instanceof(s=s||e("./_stream_duplex"));if(!r&&!h.call(C,this))return new C(t);this._writableState=new E(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function k(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function S(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,s=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,k(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,h=r.encoding,u=r.callback;if(k(e,t,!1,t.objectMode?1:f.length,f,h,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function B(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final(function(r){t.pendingcb--,r&&A(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)})}function R(e,t){var n=B(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(M,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(C,a),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===C&&(e&&e._writableState instanceof E)}})):h=function(e){return e instanceof this},C.prototype.pipe=function(){A(this,new y)},C.prototype.write=function(e,t,n){var i,s=this._writableState,o=!1,a=!s.objectMode&&(i=e,c.isBuffer(i)||i instanceof f);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=I),s.ending?function(e,t){var n=new _;A(e,n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var s;return null===n?s=new v:"string"==typeof n||t.objectMode||(s=new p("chunk",["string","Buffer"],n)),!s||(A(e,s),r.nextTick(i,s),!1)}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,a,n,i,s);return f}(this,s,a,e,t,n)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new b("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=u.destroy,C.prototype._undestroy=u.undestroy,C.prototype._destroy=function(e,t){t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":382,"./_stream_duplex":383,"./internal/streams/destroy":390,"./internal/streams/state":394,"./internal/streams/stream":395,_process:119,buffer:48,inherits:313,"util-deprecate":442}],388:[function(e,t,r){(function(r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e("./end-of-stream"),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),u=Symbol("handlePromise"),d=Symbol("stream");function l(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[d].read();null!==r&&(e[h]=null,e[o]=null,e[a]=null,t(l(r,!1)))}}var b=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(l(void 0,!0));if(this[d].destroyed)return new Promise(function(t,n){r.nextTick(function(){e[c]?n(e[c]):t(l(void 0,!0))})});var n,i=this[h];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[f]?r(l(void 0,!0)):t[u](r,n)},n)}}(i,this));else{var s=this[d].read();if(null!==s)return Promise.resolve(l(s,!1));n=new Promise(this[u])}return this[h]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var e=this;return new Promise(function(t,r){e[d].destroy(null,function(e){e?r(e):t(l(void 0,!0))})})}),n),b);t.exports=function(e){var t,n=Object.create(g,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,f,{value:e._readableState.endEmitted,writable:!0}),i(t,u,{value:function(e,t){var r=n[d].read();r?(n[h]=null,n[o]=null,n[a]=null,e(l(r,!1))):(n[o]=e,n[a]=t)},writable:!0}),t));return n[h]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[h]=null,n[o]=null,n[a]=null,t(e)),void(n[c]=e)}var r=n[o];null!==r&&(n[h]=null,n[o]=null,n[a]=null,r(l(void 0,!0))),n[f]=!0}),e.on("readable",function(e){r.nextTick(p,e)}.bind(null,n)),n}}).call(this,e("_process"))},{"./end-of-stream":391,_process:119}],389:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=e("buffer").Buffer,a=e("util").inspect,c=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,f;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=i,n=a,o.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0===(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0===(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),f&&s(t,f),e}()},{buffer:48,util:18}],390:[function(e,t,r){(function(e){"use strict";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,s){var o=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(s?s(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!s&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(n,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):s?(e.nextTick(n,o),s(t)):e.nextTick(n,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,e("_process"))},{_process:119}],391:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},f=t._writableState&&t._writableState.finished,h=function(){a=!1,f=!0,o||s.call(t)},u=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,u=!0,a||s.call(t)},l=function(e){s.call(t,e)},p=function(){var e;return o&&!u?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!f?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},b=function(){t.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",h),t.on("abort",p),t.req?b():t.on("request",b)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",h),!1!==r.error&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",h),t.removeListener("abort",p),t.removeListener("request",b),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",d),t.removeListener("error",l),t.removeListener("close",p)}}},{"../../../errors":382}],392:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],393:[function(e,t,r){"use strict";var n;var i=e("../../../errors").codes,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function f(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var h,u=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new s("streams");var d=r.map(function(t,i){var s=i<r.length-1;return function(t,r,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;t.on("close",function(){a=!0}),void 0===n&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},function(e){if(e)return s(e);a=!0,s()});var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,function(e){h||(h=e),e&&d.forEach(c),s||(d.forEach(c),u(h))})});return r.reduce(f)}},{"../../../errors":382,"./end-of-stream":391}],394:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},{"../../../errors":382}],395:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{dup:136,events:83}],396:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":383,"./lib/_stream_passthrough.js":384,"./lib/_stream_readable.js":385,"./lib/_stream_transform.js":386,"./lib/_stream_writable.js":387,"./lib/internal/streams/end-of-stream.js":391,"./lib/internal/streams/pipeline.js":393}],397:[function(e,t,r){"use strict";t.exports=function(e,t,r){var n,i=e.length;if(!(t>=i||0===r)){var s=i-(r=t+r>i?i-t:r);for(n=t;n<s;++n)e[n]=e[n+r];e.length=s}}},{}],398:[function(e,t,r){(function(e){var r="win32"===e.platform;function n(e,t){var n=e[t];return t>0&&("/"===n||r&&"\\"===n)}t.exports=function(e){var t=e.length-1;if(t<2)return e;for(;n(e,t);)t--;return e.substr(0,t+1)}}).call(this,e("_process"))},{_process:119}],399:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,r),r.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:48}],400:[function(e,t,r){var n=e("varint");r.encode=function e(t,r,i){t=t>=0?2*t:-2*t-1;var s=n.encode(t,r,i);return e.bytes=n.encode.bytes,s},r.decode=function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},r.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}},{varint:403}],401:[function(e,t,r){arguments[4][173][0].apply(r,arguments)},{dup:173}],402:[function(e,t,r){arguments[4][174][0].apply(r,arguments)},{dup:174}],403:[function(e,t,r){arguments[4][175][0].apply(r,arguments)},{"./decode.js":401,"./encode.js":402,"./length.js":404,dup:175}],404:[function(e,t,r){arguments[4][176][0].apply(r,arguments)},{dup:176}],405:[function(e,t,r){(function(r){var n=e("debug")("simple-peer"),i=e("get-browser-rtc"),s=e("randombytes"),o=e("readable-stream"),a=e("queue-microtask"),c=65536,f=5e3,h=5e3;function u(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function d(e,t){return"string"==typeof e&&(e=new Error(e)),e.error instanceof Error&&(e=e.error),e.code=t,e}class l extends o.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=s(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||s(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||l.channelConfig,this.negotiated=this.channelConfig.negotiated,this.config=Object.assign({},l.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||f,this.destroyed=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"==typeof window?d("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):d("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!this.negotiated&&!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e){return void a(()=>this.destroy(d(e,"ERR_PC_CONSTRUCTOR")))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=(()=>{this._onIceStateChange()}),this._pc.onicegatheringstatechange=(()=>{this._onIceStateChange()}),this._pc.onconnectionstatechange=(()=>{this._onConnectionStateChange()}),this._pc.onsignalingstatechange=(()=>{this._onSignalingStateChange()}),this._pc.onicecandidate=(e=>{this._onIceCandidate(e)}),this.initiator||this.negotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=(e=>{this._setupData(e)}),this.streams&&this.streams.forEach(e=>{this.addStream(e)}),this._pc.ontrack=(e=>{this._onTrack(e)}),this.initiator&&this._needsNegotiation(),this._onFinishBound=(()=>{this._onFinish()}),this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(this.destroyed)throw d("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(e=>{this._addIceCandidate(e)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(e=>{this.destroy(d(e,"ERR_SET_REMOTE_DESCRIPTION"))}),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(d("signal() called with invalid signal data","ERR_SIGNALING"))}_addIceCandidate(e){var t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch(e=>{!t.address||t.address.endsWith(".local")?function(e){console.warn(e)}("Ignoring unsupported ICE candidate."):this.destroy(d(e,"ERR_ADD_ICE_CANDIDATE"))})}send(e){this._channel.send(e)}addTransceiver(e,t){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(d(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:e,init:t}})}addStream(e){this._debug("addStream()"),e.getTracks().forEach(t=>{this.addTrack(t,e)})}addTrack(e,t){this._debug("addTrack()");var r=this._senderMap.get(e)||new Map,n=r.get(t);if(n)throw n.removed?d("Track has been removed. You should enable/disable tracks that you want to re-add.","ERR_SENDER_REMOVED"):d("Track has already been added to that stream.","ERR_SENDER_ALREADY_ADDED");n=this._pc.addTrack(e,t),r.set(t,n),this._senderMap.set(e,r),this._needsNegotiation()}replaceTrack(e,t,r){this._debug("replaceTrack()");var n=this._senderMap.get(e),i=n?n.get(r):null;if(!i)throw d("Cannot replace track that was never added.","ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,n),null!=i.replaceTrack?i.replaceTrack(t):this.destroy(d("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){this._debug("removeSender()");var r=this._senderMap.get(e),n=r?r.get(t):null;if(!n)throw d("Cannot remove track that was never added.","ERR_TRACK_NOT_ADDED");try{n.removed=!0,this._pc.removeTrack(n)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(n):this.destroy(d(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){this._debug("removeSenders()"),e.getTracks().forEach(t=>{this.removeTrack(t,e)})}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}destroy(e){this._destroy(e,()=>{})}_destroy(e,t){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()}}_setupData(e){if(!e.channel)return this.destroy(d("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=c),this.channelName=this._channel.label,this._channel.onmessage=(e=>{this._onChannelMessage(e)}),this._channel.onbufferedamountlow=(()=>{this._onChannelBufferedAmountLow()}),this._channel.onopen=(()=>{this._onChannelOpen()}),this._channel.onclose=(()=>{this._onChannelClose()}),this._channel.onerror=(e=>{this.destroy(d(e,"ERR_DATA_CHANNEL"))});var t=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1},h)}_read(){}_write(e,t,r){if(this.destroyed)return r(d("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(d(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>c?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=e,this._cb=r}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=u(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(!this.destroyed){var t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})}};this._pc.setLocalDescription(e).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))}).catch(e=>{this.destroy(d(e,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(e=>{this.destroy(d(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=u(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(!this.destroyed){var t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(e).then(()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))}).catch(e=>{this.destroy(d(e,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(e=>{this.destroy(d(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(d("Connection failed.","ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(d("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(d("Ice connection closed.","ERR_ICE_CONNECTION_CLOSED"))}}getStats(e){const t=e=>("[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach(t=>{Object.assign(e,t)}),e);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(r=>{var n=[];r.forEach(e=>{n.push(t(e))}),e(null,n)},t=>e(t)):this._pc.getStats.length>0?this._pc.getStats(r=>{if(!this.destroyed){var n=[];r.result().forEach(e=>{var r={};e.names().forEach(t=>{r[t]=e.stat(t)}),r.id=e.id,r.type=e.type,r.timestamp=e.timestamp,n.push(t(r))}),e(null,n)}},t=>e(t)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats((t,r)=>{if(this.destroyed)return;t&&(r=[]);var n={},i={},s={},o=!1;r.forEach(e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(n[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(i[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(s[e.id]=e)});const a=e=>{o=!0;var t=i[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"==typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var r=n[e.remoteCandidateId];r&&(r.ip||r.address)?(this.remoteAddress=r.ip||r.address,this.remotePort=Number(r.port)):r&&r.ipAddress?(this.remoteAddress=r.ipAddress,this.remotePort=Number(r.portNumber)):"string"==typeof e.googRemoteAddress&&(r=e.googRemoteAddress.split(":"),this.remoteAddress=r[0],this.remotePort=Number(r[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(r.forEach(e=>{"transport"===e.type&&e.selectedCandidatePairId&&a(s[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&a(e)}),o||Object.keys(s).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(d(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var c=this._cb;this._cb=null,c(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>c||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"!==this._pc.signalingState||this._firstStable||(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=r.from(t)),this.push(t)}}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some(e=>e.id===t.id)||(this._remoteStreams.push(t),a(()=>{this.emit("stream",t)}))})}_debug(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],n.apply(null,e)}}l.WEBRTC_SUPPORT=!!i(),l.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}],sdpSemantics:"unified-plan"},l.channelConfig={},t.exports=l}).call(this,e("buffer").Buffer)},{buffer:48,debug:216,"get-browser-rtc":278,"queue-microtask":367,randombytes:380,"readable-stream":396}],406:[function(e,t,r){const n=e("cuid"),i=e("inherits"),s=e("nanobus"),o=e("simple-peer");i(a,s);function a(e,t={}){if(!(this instanceof a))return new a(e);s.call(this);const{connectionTimeout:r=1e4}=t;this.id=null,this.socket=e,this._connectionTimeout=r,this._peers={},this._sessionQueues={},this._timers=new Map,this.socket.on("simple-signal[discover]",this._onDiscover.bind(this)),this.socket.on("simple-signal[offer]",this._onOffer.bind(this)),this.socket.on("simple-signal[signal]",this._onSignal.bind(this)),this.socket.on("simple-signal[reject]",this._onReject.bind(this))}a.prototype._onDiscover=function(e){this.id=e.id,this.emit("discover",e.discoveryData)},a.prototype._onOffer=function({initiator:e,metadata:t,sessionId:r,signal:n}){this._sessionQueues[r]=[n];const i={initiator:e,metadata:t,sessionId:r};i.accept=this._accept.bind(this,i),i.reject=this._reject.bind(this,i),this.emit("request",i)},a.prototype._accept=function(e,t={},r={}){r.initiator=!1;const n=this._peers[e.sessionId]=new o(r);return n.on("signal",r=>{this.socket.emit("simple-signal[signal]",{signal:r,metadata:t,sessionId:e.sessionId,target:e.initiator})}),n.once("close",()=>{this._closePeer(e.sessionId)}),this._sessionQueues[e.sessionId].forEach(e=>{n.signal(e)}),delete this._sessionQueues[e.sessionId],new Promise((t,r)=>{this._onSafeConnect(n,()=>{this._clearTimer(e.sessionId),t({peer:n,metadata:e.metadata})}),n.once("close",()=>{r({metadata:{code:"ERR_PREMATURE_CLOSE"}})}),this._startTimer(e.sessionId,t=>{r({metadata:t}),this._closePeer(e.sessionId)})})},a.prototype._reject=function(e,t={}){delete this._sessionQueues[e.sessionId],this._clearTimer(e.sessionId),this.socket.emit("simple-signal[reject]",{metadata:t,sessionId:e.sessionId,target:e.initiator})},a.prototype._onReject=function({sessionId:e,metadata:t}){const r=this._peers[e];r&&r.reject(t)},a.prototype._onSignal=function({sessionId:e,signal:t,metadata:r}){const n=this._peers[e];n?(n.signal(t),void 0!==r&&n.resolveMetadata&&n.resolveMetadata(r)):(this._sessionQueues[e]=this._sessionQueues[e]||[],this._sessionQueues[e].push(t))},a.prototype.connect=function(e,t={},r={}){if(!this.id)throw new Error("Must complete discovery first.");r.initiator=!0;const i=n();var s=!0;const a=this._peers[i]=new o(r);return a.once("close",()=>{this._closePeer(i)}),a.on("signal",r=>{const n=r.sdp&&s?"simple-signal[offer]":"simple-signal[signal]";r.sdp&&(s=!1),this.socket.emit(n,{signal:r,metadata:t,sessionId:i,target:e})}),new Promise((e,t)=>{a.resolveMetadata=(t=>{a.resolveMetadata=null,this._onSafeConnect(a,()=>{this._clearTimer(i),e({peer:a,metadata:t})})}),a.reject=(e=>{t({metadata:e}),this._closePeer(i)}),a.once("close",()=>{t({metadata:{code:"ERR_PREMATURE_CLOSE"}})}),this._startTimer(i,e=>a.reject(e))})},a.prototype._onSafeConnect=function(e,t){const r=[];function n(e){r.push({name:"stream",args:[e]})}function i(e,t){r.push({name:"track",args:[e,t]})}e.on("stream",n),e.on("track",i),e.once("connect",()=>{setTimeout(()=>{e.emit("connect"),setTimeout(()=>{r.forEach(({name:t,args:r})=>{e.emit(t,...r)})},0)},0),e.removeListener("stream",n),e.removeListener("track",i),t(e)})},a.prototype._closePeer=function(e){const t=this._peers[e];this._clearTimer(e),delete this._peers[e],t&&t.destroy()},a.prototype._startTimer=function(e,t){if(-1!==this._connectionTimeout){const r=setTimeout(()=>{this._clearTimer(e),t({code:"ERR_CONNECTION_TIMEOUT"})},this._connectionTimeout);this._timers.set(e,r)}},a.prototype._clearTimer=function(e){this._timers.has(e)&&(clearTimeout(this._timers.get(e)),this._timers.delete(e))},a.prototype.discover=function(e={}){this.socket.emit("simple-signal[discover]",e)},a.prototype.peers=function(){return Object.values(this._peers)},a.prototype.destroy=function(){this.socket.close(),this.peers().forEach(e=>e.destroy()),this.id=null,this.socket=null,this._peers=null,this._sessionQueues=null},t.exports=a,t.exports.SimplePeer=o,t.exports.ERR_CONNECTION_TIMEOUT="ERR_CONNECTION_TIMEOUT",t.exports.ERR_PREMATURE_CLOSE="ERR_PREMATURE_CLOSE"},{cuid:210,inherits:313,nanobus:342,"simple-peer":405}],407:[function(e,t,r){function n(e,t){var r=e.l+t.l,n={h:e.h+t.h+(r/2>>>31)>>>0,l:r>>>0};e.h=n.h,e.l=n.l}function i(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function s(e,t){var r={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=r.h,e.l=r.l}function o(e){var t=e.l;e.l=e.h,e.h=t}function a(e,t,r,a){n(e,t),n(r,a),s(t,13),s(a,16),i(t,e),i(a,r),o(e),n(r,t),n(e,a),s(t,17),s(a,21),i(t,r),i(a,e),o(r)}function c(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}t.exports=function(e,t,r){var n,s={h:c(r,4),l:c(r,0)},o={h:c(r,12),l:c(r,8)},f={h:s.h,l:s.l},h=s,u={h:o.h,l:o.l},d=o,l=0,p=t.length,b=p-7,g=new Uint8Array(new ArrayBuffer(8));i(f,{h:1936682341,l:1886610805}),i(u,{h:1685025377,l:1852075885}),i(h,{h:1819895653,l:1852142177}),i(d,{h:1952801890,l:2037671283});for(;l<b;)n={h:c(t,l+4),l:c(t,l)},i(d,n),a(f,u,h,d),a(f,u,h,d),i(f,n),l+=8;g[7]=p;var y=0;for(;l<p;)g[y++]=t[l++];for(;y<7;)g[y++]=0;n={h:g[7]<<24|g[6]<<16|g[5]<<8|g[4],l:g[3]<<24|g[2]<<16|g[1]<<8|g[0]},i(d,n),a(f,u,h,d),a(f,u,h,d),i(f,n),i(h,{h:0,l:255}),a(f,u,h,d),a(f,u,h,d),a(f,u,h,d),a(f,u,h,d);var m=f;i(m,u),i(m,h),i(m,d),e[0]=255&m.l,e[1]=m.l>>8&255,e[2]=m.l>>16&255,e[3]=m.l>>24&255,e[4]=255&m.h,e[5]=m.h>>8&255,e[6]=m.h>>16&255,e[7]=m.h>>24&255}},{}],408:[function(e,t,r){var n=e("./siphash24"),i=e("./fallback"),s=e("nanoassert");t.exports=f;var o=f.BYTES=8,a=f.KEYBYTES=16,c=n();function f(e,t,r,n){return r||(r=new Uint8Array(8)),!0!==n&&(s(r.length>=o,"output must be at least "+o),s(t.length>=a,"key must be at least "+a)),c&&c.exports?(e.length+24>c.memory.length&&c.realloc(e.length+24),c.memory.set(t,8),c.memory.set(e,24),c.exports.siphash(24,e.length),r.set(c.memory.subarray(0,8))):i(r,e,t),r}f.WASM_SUPPORTED="undefined"!=typeof WebAssembly,f.WASM_LOADED=!1,c&&c.onload(function(e){f.WASM_LOADED=!e})},{"./fallback":407,"./siphash24":409,nanoassert:341}],409:[function(e,t,r){function n(t){if(!n.supported)return null;var r,s=t&&t.imports,o=(r="AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=","function"==typeof atob?new Uint8Array(atob(r).split("").map(i)):new(e("buffer").Buffer)(r,"base64")),a=null,c={buffer:o,memory:null,exports:null,realloc:function(e){c.exports.memory.grow(Math.max(0,Math.ceil(Math.abs(e-c.memory.length)/65536))),c.memory=new Uint8Array(c.exports.memory.buffer)},onload:f};return f(function(){}),c;function f(e){if(c.exports)return e();if(a)a.then(e.bind(null,null)).catch(e);else{try{if(t&&t.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(o),s)})}catch(e){a=WebAssembly.instantiate(o,s).then(h)}f(e)}}function h(e){c.exports=e.instance.exports,c.memory=c.exports.memory&&c.exports.memory.buffer&&new Uint8Array(c.exports.memory.buffer)}}function i(e){return e.charCodeAt(0)}t.exports=n,n.supported="undefined"!=typeof WebAssembly},{}],410:[function(e,t,r){var n=e("./url"),i=e("socket.io-parser"),s=e("./manager"),o=e("debug")("socket.io-client");t.exports=r=c;var a=r.managers={};function c(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i=n(e),c=i.source,f=i.id,h=i.path,u=a[f]&&h in a[f].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(o("ignoring socket cache for %s",c),r=s(c,t)):(a[f]||(o("new io instance for %s",c),a[f]=s(c,t)),r=a[f]),i.query&&!t.query&&(t.query=i.query),r.socket(i.path,t)}r.protocol=i.protocol,r.connect=c,r.Manager=e("./manager"),r.Socket=e("./socket")},{"./manager":411,"./socket":413,"./url":414,debug:216,"socket.io-parser":418}],411:[function(e,t,r){var n=e("engine.io-client"),i=e("./socket"),s=e("component-emitter"),o=e("socket.io-parser"),a=e("./on"),c=e("component-bind"),f=e("debug")("socket.io-client:manager"),h=e("indexof"),u=e("backo2"),d=Object.prototype.hasOwnProperty;function l(e,t){if(!(this instanceof l))return new l(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||o;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}t.exports=l,l.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},l.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},l.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},s(l.prototype),l.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},l.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},l.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},l.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},l.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},l.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},l.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},l.prototype.open=l.prototype.connect=function(e,t){if(f("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;f("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=a(r,"open",function(){i.onopen(),e&&e()}),o=a(r,"error",function(t){if(f("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;f("connect attempt will timeout after %d",c);var h=setTimeout(function(){f("connect attempt timed out after %d",c),s.destroy(),r.close(),r.emit("error","timeout"),i.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(s),this.subs.push(o),this},l.prototype.onopen=function(){f("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",c(this,"ondata"))),this.subs.push(a(e,"ping",c(this,"onping"))),this.subs.push(a(e,"pong",c(this,"onpong"))),this.subs.push(a(e,"error",c(this,"onerror"))),this.subs.push(a(e,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},l.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},l.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},l.prototype.ondata=function(e){this.decoder.add(e)},l.prototype.ondecoded=function(e){this.emit("packet",e)},l.prototype.onerror=function(e){f("error",e),this.emitAll("error",e)},l.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new i(this,e,t),this.nsps[e]=r;var n=this;r.on("connecting",s),r.on("connect",function(){r.id=n.generateId(e)}),this.autoConnect&&s()}function s(){~h(n.connecting,r)||n.connecting.push(r)}return r},l.prototype.destroy=function(e){var t=h(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},l.prototype.packet=function(e){f("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()}))},l.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},l.prototype.cleanup=function(){f("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},l.prototype.close=l.prototype.disconnect=function(){f("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},l.prototype.onclose=function(e){f("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},l.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)f("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();f("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout(function(){e.skipReconnect||(f("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(f("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(f("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(r)}})}},l.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":412,"./socket":413,backo2:181,"component-bind":205,"component-emitter":206,debug:216,"engine.io-client":250,indexof:312,"socket.io-parser":418}],412:[function(e,t,r){t.exports=function(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},{}],413:[function(e,t,r){var n=e("socket.io-parser"),i=e("component-emitter"),s=e("to-array"),o=e("./on"),a=e("component-bind"),c=e("debug")("socket.io-client:socket"),f=e("parseqs"),h=e("has-binary2");t.exports=l;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function l(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}i(l.prototype),l.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",a(this,"onopen")),o(e,"packet",a(this,"onpacket")),o(e,"close",a(this,"onclose"))]}},l.prototype.open=l.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},l.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},l.prototype.emit=function(e){if(u.hasOwnProperty(e))return d.apply(this,arguments),this;var t=s(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:h(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},l.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},l.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?f.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},l.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},l.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===n.ERROR&&"/"===e.nsp;if(t||r)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},l.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},l.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var i=s(arguments);c("sending ack %j",i),t.packet({type:h(i)?n.BINARY_ACK:n.ACK,id:e,data:i})}}},l.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},l.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},l.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},l.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},l.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},l.prototype.close=l.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},l.prototype.compress=function(e){return this.flags.compress=e,this},l.prototype.binary=function(e){return this.flags.binary=e,this}},{"./on":412,"component-bind":205,"component-emitter":206,debug:216,"has-binary2":279,parseqs:356,"socket.io-parser":418,"to-array":436}],414:[function(e,t,r){var n=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=function(e,t){var r=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),r=n(e));r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443"));r.path=r.path||"/";var s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}},{debug:216,parseuri:357}],415:[function(e,t,r){arguments[4][102][0].apply(r,arguments)},{dup:102}],416:[function(e,t,r){var n=1e3,i=60*n,s=60*i,o=24*s,a=365.25*o;function c(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}t.exports=function(e,t){t=t||{};var r,f=typeof e;if("string"===f&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*a;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===f&&!1===isNaN(e))return t.long?c(r=e,o,"day")||c(r,s,"hour")||c(r,i,"minute")||c(r,n,"second")||r+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=s)return Math.round(e/s)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],417:[function(e,t,r){var n=e("isarray"),i=e("./is-buffer"),s=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);r.deconstructPacket=function(e){var t=[],r=e.data,s=e;return s.data=function e(t,r){if(!t)return t;if(i(t)){var s={_placeholder:!0,num:r.length};return r.push(t),s}if(n(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=e(t[a],r);return o}if("object"==typeof t&&!(t instanceof Date)){var o={};for(var c in t)o[c]=e(t[c],r);return o}return t}(r,t),s.attachments=t.length,{packet:s,buffers:t}},r.reconstructPacket=function(e,t){return e.data=function e(t,r){if(!t)return t;if(t&&t._placeholder)return r[t.num];if(n(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],r);else if("object"==typeof t)for(var s in t)t[s]=e(t[s],r);return t}(e.data,t),e.attachments=void 0,e},r.removeBlobs=function(e,t){var r=0,s=e;!function e(c,f,h){if(!c)return c;if(o&&c instanceof Blob||a&&c instanceof File){r++;var u=new FileReader;u.onload=function(){h?h[f]=this.result:s=this.result,--r||t(s)},u.readAsArrayBuffer(c)}else if(n(c))for(var d=0;d<c.length;d++)e(c[d],d,c);else if("object"==typeof c&&!i(c))for(var l in c)e(c[l],l,c)}(s),r||t(s)}},{"./is-buffer":419,isarray:415}],418:[function(e,t,r){var n=e("debug")("socket.io-parser"),i=e("component-emitter"),s=e("./binary"),o=e("isarray"),a=e("./is-buffer");function c(){}r.protocol=4,r.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],r.CONNECT=0,r.DISCONNECT=1,r.EVENT=2,r.ACK=3,r.ERROR=4,r.BINARY_EVENT=5,r.BINARY_ACK=6,r.Encoder=c,r.Decoder=u;var f=r.ERROR+'"encode error"';function h(e){var t=""+e.type;if(r.BINARY_EVENT!==e.type&&r.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===i)return f;t+=i}return n("encoded %j as %s",e,t),t}function u(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:r.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,t){(n("encoding packet %j",e),r.BINARY_EVENT===e.type||r.BINARY_ACK===e.type)?function(e,t){s.removeBlobs(e,function(e){var r=s.deconstructPacket(e),n=h(r.packet),i=r.buffers;i.unshift(n),t(i)})}(e,t):t([h(e)])},i(u.prototype),u.prototype.add=function(e){var t;if("string"==typeof e)t=function(e){var t=0,i={type:Number(e.charAt(0))};if(null==r.types[i.type])return l("unknown packet type "+i.type);if(r.BINARY_EVENT===i.type||r.BINARY_ACK===i.type){for(var s="";"-"!==e.charAt(++t)&&(s+=e.charAt(t),t!=e.length););if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===e.charAt(t+1))for(i.nsp="";++t;){var a=e.charAt(t);if(","===a)break;if(i.nsp+=a,t===e.length)break}else i.nsp="/";var c=e.charAt(t+1);if(""!==c&&Number(c)==c){for(i.id="";++t;){var a=e.charAt(t);if(null==a||Number(a)!=a){--t;break}if(i.id+=e.charAt(t),t===e.length)break}i.id=Number(i.id)}if(e.charAt(++t)){var f=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t)),h=!1!==f&&(i.type===r.ERROR||o(f));if(!h)return l("invalid payload");i.data=f}return n("decoded %s as %j",e,i),i}(e),r.BINARY_EVENT===t.type||r.BINARY_ACK===t.type?(this.reconstructor=new d(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":417,"./is-buffer":419,"component-emitter":206,debug:420,isarray:415}],419:[function(e,t,r){(function(e){t.exports=function(t){return r&&e.isBuffer(t)||n&&(t instanceof ArrayBuffer||i(t))};var r="function"==typeof e&&"function"==typeof e.isBuffer,n="function"==typeof ArrayBuffer,i=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}}).call(this,e("buffer").Buffer)},{buffer:48}],420:[function(e,t,r){(function(n){function i(){var e;try{e=r.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(r=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(s=i))}),e.splice(s,0,n)},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=i,r.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(i())}).call(this,e("_process"))},{"./debug":421,_process:119}],421:[function(e,t,r){function n(e){var t;function n(){if(n.enabled){var e=n,i=+new Date,s=i-(t||i);e.diff=s,e.prev=t,e.curr=i,t=i;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=r.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;c++;var i=r.formatters[n];if("function"==typeof i){var s=o[c];t=i.call(e,s),o.splice(c,1),c--}return t}),r.formatArgs.call(e,o),(n.log||r.log||console.log.bind(console)).apply(e,o)}}return n.namespace=e,n.enabled=r.enabled(e),n.useColors=r.useColors(),n.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}(e),n.destroy=i,"function"==typeof r.init&&r.init(n),r.instances.push(n),n}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}(r=t.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var s=r.instances[t];s.enabled=r.enabled(s.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.instances=[],r.names=[],r.skips=[],r.formatters={}},{ms:416}],422:[function(e,t,r){var n=e("blake2b");t.exports.crypto_generichash_PRIMITIVE="blake2b",t.exports.crypto_generichash_BYTES_MIN=n.BYTES_MIN,t.exports.crypto_generichash_BYTES_MAX=n.BYTES_MAX,t.exports.crypto_generichash_BYTES=n.BYTES,t.exports.crypto_generichash_KEYBYTES_MIN=n.KEYBYTES_MIN,t.exports.crypto_generichash_KEYBYTES_MAX=n.KEYBYTES_MAX,t.exports.crypto_generichash_KEYBYTES=n.KEYBYTES,t.exports.crypto_generichash_WASM_SUPPORTED=n.WASM_SUPPORTED,t.exports.crypto_generichash_WASM_LOADED=!1,t.exports.crypto_generichash=function(e,t,r){n(e.length,r).update(t).final(e)},t.exports.crypto_generichash_ready=n.ready,t.exports.crypto_generichash_batch=function(e,t,r){for(var i=n(e.length,r),s=0;s<t.length;s++)i.update(t[s]);i.final(e)},t.exports.crypto_generichash_instance=function(e,r){return null==r&&(r=t.exports.crypto_generichash_BYTES),n(r,e)},n.ready(function(e){t.exports.crypto_generichash_WASM_LOADED=n.WASM_LOADED})},{blake2b:186}],423:[function(e,t,r){var n=e("nanoassert"),i=e("./randombytes").randombytes_buf,s=e("blake2b");t.exports.crypto_kdf_PRIMITIVE="blake2b",t.exports.crypto_kdf_BYTES_MIN=16,t.exports.crypto_kdf_BYTES_MAX=64,t.exports.crypto_kdf_CONTEXTBYTES=8,t.exports.crypto_kdf_KEYBYTES=32,t.exports.crypto_kdf_derive_from_key=function(e,r,i,o){n(e.length>=t.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),n(r>=0&&r<=9007199254740991,"subkey_id must be safe integer"),n(i.length>=t.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var a=new Uint8Array(s.PERSONALBYTES),c=new Uint8Array(s.SALTBYTES);a.set(i,0,t.exports.crypto_kdf_CONTEXTBYTES),function(e,t){var r=1,n=0;for(e[0]=255&t;++n<8&&(r*=256);)e[n]=t/r&255}(c,r);var f=Math.min(e.length,t.exports.crypto_kdf_BYTES_MAX);s(f,o.subarray(0,t.exports.crypto_kdf_KEYBYTES),c,a,!0).final(e)},t.exports.crypto_kdf_keygen=function(e){n(e.length>=t.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),i(e.subarray(0,t.exports.crypto_kdf_KEYBYTES))}},{"./randombytes":427,blake2b:186,nanoassert:341}],424:[function(e,t,r){var n=e("siphash24");r.crypto_shorthash_PRIMITIVE="siphash24",r.crypto_shorthash_BYTES=n.BYTES,r.crypto_shorthash_KEYBYTES=n.KEYBYTES,r.crypto_shorthash_WASM_SUPPORTED=n.WASM_SUPPORTED,r.crypto_shorthash_WASM_LOADED=n.WASM_LOADED,r.crypto_shorthash=function(e,t,r,i){n(t,r,e,i)}},{siphash24:408}],425:[function(e,t,r){var n=e("xsalsa20");function i(e,t){this._instance=n(e,t)}r.crypto_stream_KEYBYTES=32,r.crypto_stream_NONCEBYTES=24,r.crypto_stream_PRIMITIVE="xsalsa20",r.crypto_stream=function(e,t,n){e.fill(0),r.crypto_stream_xor(e,e,t,n)},r.crypto_stream_xor=function(e,t,r,i){var s=n(r,i);s.update(t,e),s.final()},r.crypto_stream_xor_instance=function(e,t){return new i(e,t)},i.prototype.update=function(e,t){this._instance.update(t,e)},i.prototype.final=function(){this._instance.finalize(),this._instance=null}},{xsalsa20:463}],426:[function(e,t,r){"use strict";var n=e("xsalsa20"),i=t.exports,s=e("./crypto_stream"),o=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},a=e("./randombytes").randombytes,c=(new Uint8Array(16),new Uint8Array(32));c[0]=9;var f=o(),h=o([1]),u=o([56129,1]),d=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function v(e,t,r,n){return m(e,t,r,n,32)}var _=function(e){var t,r,n,i,s,o,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function w(e,t,r,n,i,o,a){s.crypto_stream_xor(e,r,o,a)}function A(e,t,r,n,i,s){var o=new _(s);return o.update(r,n,i),o.finish(e,t),0}function I(e,t,r,n,i,s){var o=new Uint8Array(16);return A(o,0,r,n,i,s),function(e,t,r,n){return m(e,t,r,n,16)}(e,t,o,0)}function E(e,t,r,n,i){var o,a=new Uint8Array(32);if(r<32)return-1;if(function(e,t,r,n,i){s.crypto_stream(e,n,i)}(a,0,0,n,i),0!==I(t,16,t,32,r-32,a))return-1;for(w(e,0,t,0,0,n,i),o=0;o<32;o++)e[o]=0;return 0}function C(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function k(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function S(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function x(e,t){var r,n,i,s=o(),a=o();for(r=0;r<16;r++)a[r]=t[r];for(k(a),k(a),k(a),n=0;n<2;n++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,S(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function B(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return x(r,e),x(n,t),v(r,0,n,0)}function M(e){var t=new Uint8Array(32);return x(t,e),1&t[0]}function R(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function T(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,i,s=0,o=0,a=0,c=0,f=0,h=0,u=0,d=0,l=0,p=0,b=0,g=0,y=0,m=0,v=0,_=0,w=0,A=0,I=0,E=0,C=0,k=0,S=0,x=0,B=0,M=0,R=0,D=0,T=0,j=0,O=0,Q=r[0],L=r[1],P=r[2],U=r[3],F=r[4],N=r[5],q=r[6],K=r[7],z=r[8],H=r[9],Y=r[10],W=r[11],G=r[12],V=r[13],J=r[14],X=r[15];s+=(n=t[0])*Q,o+=n*L,a+=n*P,c+=n*U,f+=n*F,h+=n*N,u+=n*q,d+=n*K,l+=n*z,p+=n*H,b+=n*Y,g+=n*W,y+=n*G,m+=n*V,v+=n*J,_+=n*X,o+=(n=t[1])*Q,a+=n*L,c+=n*P,f+=n*U,h+=n*F,u+=n*N,d+=n*q,l+=n*K,p+=n*z,b+=n*H,g+=n*Y,y+=n*W,m+=n*G,v+=n*V,_+=n*J,w+=n*X,a+=(n=t[2])*Q,c+=n*L,f+=n*P,h+=n*U,u+=n*F,d+=n*N,l+=n*q,p+=n*K,b+=n*z,g+=n*H,y+=n*Y,m+=n*W,v+=n*G,_+=n*V,w+=n*J,A+=n*X,c+=(n=t[3])*Q,f+=n*L,h+=n*P,u+=n*U,d+=n*F,l+=n*N,p+=n*q,b+=n*K,g+=n*z,y+=n*H,m+=n*Y,v+=n*W,_+=n*G,w+=n*V,A+=n*J,I+=n*X,f+=(n=t[4])*Q,h+=n*L,u+=n*P,d+=n*U,l+=n*F,p+=n*N,b+=n*q,g+=n*K,y+=n*z,m+=n*H,v+=n*Y,_+=n*W,w+=n*G,A+=n*V,I+=n*J,E+=n*X,h+=(n=t[5])*Q,u+=n*L,d+=n*P,l+=n*U,p+=n*F,b+=n*N,g+=n*q,y+=n*K,m+=n*z,v+=n*H,_+=n*Y,w+=n*W,A+=n*G,I+=n*V,E+=n*J,C+=n*X,u+=(n=t[6])*Q,d+=n*L,l+=n*P,p+=n*U,b+=n*F,g+=n*N,y+=n*q,m+=n*K,v+=n*z,_+=n*H,w+=n*Y,A+=n*W,I+=n*G,E+=n*V,C+=n*J,k+=n*X,d+=(n=t[7])*Q,l+=n*L,p+=n*P,b+=n*U,g+=n*F,y+=n*N,m+=n*q,v+=n*K,_+=n*z,w+=n*H,A+=n*Y,I+=n*W,E+=n*G,C+=n*V,k+=n*J,S+=n*X,l+=(n=t[8])*Q,p+=n*L,b+=n*P,g+=n*U,y+=n*F,m+=n*N,v+=n*q,_+=n*K,w+=n*z,A+=n*H,I+=n*Y,E+=n*W,C+=n*G,k+=n*V,S+=n*J,x+=n*X,p+=(n=t[9])*Q,b+=n*L,g+=n*P,y+=n*U,m+=n*F,v+=n*N,_+=n*q,w+=n*K,A+=n*z,I+=n*H,E+=n*Y,C+=n*W,k+=n*G,S+=n*V,x+=n*J,B+=n*X,b+=(n=t[10])*Q,g+=n*L,y+=n*P,m+=n*U,v+=n*F,_+=n*N,w+=n*q,A+=n*K,I+=n*z,E+=n*H,C+=n*Y,k+=n*W,S+=n*G,x+=n*V,B+=n*J,M+=n*X,g+=(n=t[11])*Q,y+=n*L,m+=n*P,v+=n*U,_+=n*F,w+=n*N,A+=n*q,I+=n*K,E+=n*z,C+=n*H,k+=n*Y,S+=n*W,x+=n*G,B+=n*V,M+=n*J,R+=n*X,y+=(n=t[12])*Q,m+=n*L,v+=n*P,_+=n*U,w+=n*F,A+=n*N,I+=n*q,E+=n*K,C+=n*z,k+=n*H,S+=n*Y,x+=n*W,B+=n*G,M+=n*V,R+=n*J,D+=n*X,m+=(n=t[13])*Q,v+=n*L,_+=n*P,w+=n*U,A+=n*F,I+=n*N,E+=n*q,C+=n*K,k+=n*z,S+=n*H,x+=n*Y,B+=n*W,M+=n*G,R+=n*V,D+=n*J,T+=n*X,v+=(n=t[14])*Q,_+=n*L,w+=n*P,A+=n*U,I+=n*F,E+=n*N,C+=n*q,k+=n*K,S+=n*z,x+=n*H,B+=n*Y,M+=n*W,R+=n*G,D+=n*V,T+=n*J,j+=n*X,_+=(n=t[15])*Q,o+=38*(A+=n*P),a+=38*(I+=n*U),c+=38*(E+=n*F),f+=38*(C+=n*N),h+=38*(k+=n*q),u+=38*(S+=n*K),d+=38*(x+=n*z),l+=38*(B+=n*H),p+=38*(M+=n*Y),b+=38*(R+=n*W),g+=38*(D+=n*G),y+=38*(T+=n*V),m+=38*(j+=n*J),v+=38*(O+=n*X),s=(n=(s+=38*(w+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=f,e[5]=h,e[6]=u,e[7]=d,e[8]=l,e[9]=p,e[10]=b,e[11]=g,e[12]=y,e[13]=m,e[14]=v,e[15]=_}function O(e,t){j(e,t,t)}function Q(e,t){var r,n=o();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)O(n,n),2!==r&&4!==r&&j(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function L(e,t,r){ye(e,ae),ye(t,ce),ye(r,ae);var n,i,s=new Uint8Array(32),a=new Float64Array(80),c=o(),f=o(),h=o(),d=o(),l=o(),p=o();for(i=0;i<31;i++)s[i]=t[i];for(s[31]=127&t[31]|64,s[0]&=248,R(a,r),i=0;i<16;i++)f[i]=a[i],d[i]=c[i]=h[i]=0;for(c[0]=d[0]=1,i=254;i>=0;--i)S(c,f,n=s[i>>>3]>>>(7&i)&1),S(h,d,n),D(l,c,h),T(c,c,h),D(h,f,d),T(f,f,d),O(d,l),O(p,c),j(c,h,c),j(h,f,l),D(l,c,h),T(c,c,h),O(f,c),T(h,d,p),j(c,h,u),D(c,c,d),j(h,h,c),j(c,d,p),j(d,f,a),O(f,l),S(c,f,n),S(h,d,n);for(i=0;i<16;i++)a[i+16]=c[i],a[i+32]=h[i],a[i+48]=f[i],a[i+64]=d[i];var b=a.subarray(32),g=a.subarray(16);return Q(b,b),j(g,g,b),x(e,g),0}function P(e,t){return L(e,t,c)}_.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,c,f,h,u,d,l,p,b,g,y,m,v,_,w,A=this.fin?0:2048,I=this.h[0],E=this.h[1],C=this.h[2],k=this.h[3],S=this.h[4],x=this.h[5],B=this.h[6],M=this.h[7],R=this.h[8],D=this.h[9],T=this.r[0],j=this.r[1],O=this.r[2],Q=this.r[3],L=this.r[4],P=this.r[5],U=this.r[6],F=this.r[7],N=this.r[8],q=this.r[9];r>=16;)d=u=0,d+=(I+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*T,d+=(E+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*q),d+=(C+=8191&(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*N),d+=(k+=8191&(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),u=(d+=(S+=8191&(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*U))>>>13,d&=8191,d+=(x+=a>>>1&8191)*(5*P),d+=(B+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*L),d+=(M+=8191&(c>>>11|(f=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*Q),d+=(R+=8191&(f>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*O),l=u+=(d+=(D+=h>>>5|A)*(5*j))>>>13,l+=I*j,l+=E*T,l+=C*(5*q),l+=k*(5*N),u=(l+=S*(5*F))>>>13,l&=8191,l+=x*(5*U),l+=B*(5*P),l+=M*(5*L),l+=R*(5*Q),u+=(l+=D*(5*O))>>>13,l&=8191,p=u,p+=I*O,p+=E*j,p+=C*T,p+=k*(5*q),u=(p+=S*(5*N))>>>13,p&=8191,p+=x*(5*F),p+=B*(5*U),p+=M*(5*P),p+=R*(5*L),b=u+=(p+=D*(5*Q))>>>13,b+=I*Q,b+=E*O,b+=C*j,b+=k*T,u=(b+=S*(5*q))>>>13,b&=8191,b+=x*(5*N),b+=B*(5*F),b+=M*(5*U),b+=R*(5*P),g=u+=(b+=D*(5*L))>>>13,g+=I*L,g+=E*Q,g+=C*O,g+=k*j,u=(g+=S*T)>>>13,g&=8191,g+=x*(5*q),g+=B*(5*N),g+=M*(5*F),g+=R*(5*U),y=u+=(g+=D*(5*P))>>>13,y+=I*P,y+=E*L,y+=C*Q,y+=k*O,u=(y+=S*j)>>>13,y&=8191,y+=x*T,y+=B*(5*q),y+=M*(5*N),y+=R*(5*F),m=u+=(y+=D*(5*U))>>>13,m+=I*U,m+=E*P,m+=C*L,m+=k*Q,u=(m+=S*O)>>>13,m&=8191,m+=x*j,m+=B*T,m+=M*(5*q),m+=R*(5*N),v=u+=(m+=D*(5*F))>>>13,v+=I*F,v+=E*U,v+=C*P,v+=k*L,u=(v+=S*Q)>>>13,v&=8191,v+=x*O,v+=B*j,v+=M*T,v+=R*(5*q),_=u+=(v+=D*(5*N))>>>13,_+=I*N,_+=E*F,_+=C*U,_+=k*P,u=(_+=S*L)>>>13,_&=8191,_+=x*Q,_+=B*O,_+=M*j,_+=R*T,w=u+=(_+=D*(5*q))>>>13,w+=I*q,w+=E*N,w+=C*F,w+=k*U,u=(w+=S*P)>>>13,w&=8191,w+=x*L,w+=B*Q,w+=M*O,w+=R*j,I=d=8191&(u=(u=((u+=(w+=D*T)>>>13)<<2)+u|0)+(d&=8191)|0),E=l+=u>>>=13,C=p&=8191,k=b&=8191,S=g&=8191,x=y&=8191,B=m&=8191,M=v&=8191,R=_&=8191,D=w&=8191,t+=16,r-=16;this.h[0]=I,this.h[1]=E,this.h[2]=C,this.h[3]=k,this.h[4]=S,this.h[5]=x,this.h[6]=B,this.h[7]=M,this.h[8]=R,this.h[9]=D},_.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},_.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var U=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function F(e,t,r,n){for(var i,s,o,a,c,f,h,u,d,l,p,b,g,y,m,v,_,w,A,I,E,C,k,S,x,B,M=new Int32Array(16),R=new Int32Array(16),D=e[0],T=e[1],j=e[2],O=e[3],Q=e[4],L=e[5],P=e[6],F=e[7],N=t[0],q=t[1],K=t[2],z=t[3],H=t[4],Y=t[5],W=t[6],G=t[7],V=0;n>=128;){for(A=0;A<16;A++)I=8*A+V,M[A]=r[I+0]<<24|r[I+1]<<16|r[I+2]<<8|r[I+3],R[A]=r[I+4]<<24|r[I+5]<<16|r[I+6]<<8|r[I+7];for(A=0;A<80;A++)if(i=D,s=T,o=j,a=O,c=Q,f=L,h=P,F,d=N,l=q,p=K,b=z,g=H,y=Y,m=W,G,k=65535&(C=G),S=C>>>16,x=65535&(E=F),B=E>>>16,k+=65535&(C=(H>>>14|Q<<18)^(H>>>18|Q<<14)^(Q>>>9|H<<23)),S+=C>>>16,x+=65535&(E=(Q>>>14|H<<18)^(Q>>>18|H<<14)^(H>>>9|Q<<23)),B+=E>>>16,k+=65535&(C=H&Y^~H&W),S+=C>>>16,x+=65535&(E=Q&L^~Q&P),B+=E>>>16,E=U[2*A],k+=65535&(C=U[2*A+1]),S+=C>>>16,x+=65535&E,B+=E>>>16,E=M[A%16],S+=(C=R[A%16])>>>16,x+=65535&E,B+=E>>>16,x+=(S+=(k+=65535&C)>>>16)>>>16,k=65535&(C=w=65535&k|S<<16),S=C>>>16,x=65535&(E=_=65535&x|(B+=x>>>16)<<16),B=E>>>16,k+=65535&(C=(N>>>28|D<<4)^(D>>>2|N<<30)^(D>>>7|N<<25)),S+=C>>>16,x+=65535&(E=(D>>>28|N<<4)^(N>>>2|D<<30)^(N>>>7|D<<25)),B+=E>>>16,S+=(C=N&q^N&K^q&K)>>>16,x+=65535&(E=D&T^D&j^T&j),B+=E>>>16,u=65535&(x+=(S+=(k+=65535&C)>>>16)>>>16)|(B+=x>>>16)<<16,v=65535&k|S<<16,k=65535&(C=b),S=C>>>16,x=65535&(E=a),B=E>>>16,S+=(C=w)>>>16,x+=65535&(E=_),B+=E>>>16,T=i,j=s,O=o,Q=a=65535&(x+=(S+=(k+=65535&C)>>>16)>>>16)|(B+=x>>>16)<<16,L=c,P=f,F=h,D=u,q=d,K=l,z=p,H=b=65535&k|S<<16,Y=g,W=y,G=m,N=v,A%16==15)for(I=0;I<16;I++)E=M[I],k=65535&(C=R[I]),S=C>>>16,x=65535&E,B=E>>>16,E=M[(I+9)%16],k+=65535&(C=R[(I+9)%16]),S+=C>>>16,x+=65535&E,B+=E>>>16,_=M[(I+1)%16],k+=65535&(C=((w=R[(I+1)%16])>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)),S+=C>>>16,x+=65535&(E=(_>>>1|w<<31)^(_>>>8|w<<24)^_>>>7),B+=E>>>16,_=M[(I+14)%16],S+=(C=((w=R[(I+14)%16])>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26))>>>16,x+=65535&(E=(_>>>19|w<<13)^(w>>>29|_<<3)^_>>>6),B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,M[I]=65535&x|B<<16,R[I]=65535&k|S<<16;k=65535&(C=N),S=C>>>16,x=65535&(E=D),B=E>>>16,E=e[0],S+=(C=t[0])>>>16,x+=65535&E,B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,e[0]=D=65535&x|B<<16,t[0]=N=65535&k|S<<16,k=65535&(C=q),S=C>>>16,x=65535&(E=T),B=E>>>16,E=e[1],S+=(C=t[1])>>>16,x+=65535&E,B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,e[1]=T=65535&x|B<<16,t[1]=q=65535&k|S<<16,k=65535&(C=K),S=C>>>16,x=65535&(E=j),B=E>>>16,E=e[2],S+=(C=t[2])>>>16,x+=65535&E,B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,e[2]=j=65535&x|B<<16,t[2]=K=65535&k|S<<16,k=65535&(C=z),S=C>>>16,x=65535&(E=O),B=E>>>16,E=e[3],S+=(C=t[3])>>>16,x+=65535&E,B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,e[3]=O=65535&x|B<<16,t[3]=z=65535&k|S<<16,k=65535&(C=H),S=C>>>16,x=65535&(E=Q),B=E>>>16,E=e[4],S+=(C=t[4])>>>16,x+=65535&E,B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,e[4]=Q=65535&x|B<<16,t[4]=H=65535&k|S<<16,k=65535&(C=Y),S=C>>>16,x=65535&(E=L),B=E>>>16,E=e[5],S+=(C=t[5])>>>16,x+=65535&E,B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,e[5]=L=65535&x|B<<16,t[5]=Y=65535&k|S<<16,k=65535&(C=W),S=C>>>16,x=65535&(E=P),B=E>>>16,E=e[6],S+=(C=t[6])>>>16,x+=65535&E,B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,e[6]=P=65535&x|B<<16,t[6]=W=65535&k|S<<16,k=65535&(C=G),S=C>>>16,x=65535&(E=F),B=E>>>16,E=e[7],S+=(C=t[7])>>>16,x+=65535&E,B+=E>>>16,B+=(x+=(S+=(k+=65535&C)>>>16)>>>16)>>>16,e[7]=F=65535&x|B<<16,t[7]=G=65535&k|S<<16,V+=128,n-=128}return n}function N(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,F(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,y(o,r-8,a/536870912|0,a<<3),F(i,s,o,r),n=0;n<8;n++)y(e,8*n,i[n],s[n]);return 0}function q(e,t){var r=o(),n=o(),i=o(),s=o(),a=o(),c=o(),f=o(),h=o(),u=o();T(r,e[1],e[0]),T(u,t[1],t[0]),j(r,r,u),D(n,e[0],e[1]),D(u,t[0],t[1]),j(n,n,u),j(i,e[3],t[3]),j(i,i,l),j(s,e[2],t[2]),D(s,s,s),T(a,n,r),T(c,s,i),D(f,s,i),D(h,n,r),j(e[0],a,c),j(e[1],h,f),j(e[2],f,c),j(e[3],a,h)}function K(e,t,r){var n;for(n=0;n<4;n++)S(e[n],t[n],r)}function z(e,t){var r=o(),n=o(),i=o();Q(i,t[2]),j(r,t[0],i),j(n,t[1],i),x(e,n),e[31]^=M(r)<<7}function H(e,t,r){var n,i;for(C(e[0],f),C(e[1],h),C(e[2],h),C(e[3],f),i=255;i>=0;--i)K(e,t,n=r[i/8|0]>>(7&i)&1),q(t,e),q(e,e),K(e,t,n)}function Y(e,t){var r=[o(),o(),o(),o()];C(r[0],p),C(r[1],b),C(r[2],h),j(r[3],p,b),H(e,r,t)}function W(e,t,r){ye(e,i.crypto_sign_PUBLICKEYBYTES),ye(t,i.crypto_sign_SECRETKEYBYTES);var n,s=new Uint8Array(64),c=[o(),o(),o(),o()];for(r||a(t,32),N(s,t,32),s[0]&=248,s[31]&=127,s[31]|=64,Y(c,s),z(e,c),n=0;n<32;n++)t[n+32]=e[n];return 0}var G=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function V(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*G[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*G[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*G[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function J(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;V(e,r)}function X(e,t,r){ye(e,pe+t.length),ye(t,0),ye(r,ge);var n,i,s=t.length,a=new Uint8Array(64),c=new Uint8Array(64),f=new Uint8Array(64),h=new Float64Array(64),u=[o(),o(),o(),o()];N(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64;for(n=0;n<s;n++)e[64+n]=t[n];for(n=0;n<32;n++)e[32+n]=a[32+n];for(N(f,e.subarray(32),s+32),J(f),Y(u,f),z(e,u),n=32;n<64;n++)e[n]=r[n];for(N(c,e,s+64),J(c),n=0;n<64;n++)h[n]=0;for(n=0;n<32;n++)h[n]=f[n];for(n=0;n<32;n++)for(i=0;i<32;i++)h[n+i]+=c[n]*a[i];V(e.subarray(32),h)}function $(e,t){var r=o(),n=o(),i=o(),s=o(),a=o(),c=o(),u=o();return C(e[2],h),R(e[1],t),O(i,e[1]),j(s,i,d),T(i,i,e[2]),D(s,e[2],s),O(a,s),O(c,a),j(u,c,a),j(r,u,i),j(r,r,s),function(e,t){var r,n=o();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)O(n,n),1!==r&&j(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(r,r),j(r,r,i),j(r,r,s),j(r,r,s),j(e[0],r,s),O(n,e[0]),j(n,n,s),B(n,i)&&j(e[0],e[0],g),O(n,e[0]),j(n,n,s),B(n,i)?-1:(M(e[0])===t[31]>>7&&T(e[0],f,e[0]),j(e[3],e[0],e[1]),0)}function Z(e,t,r){ye(e,t.length-pe),ye(t,pe),ye(r,be);var n,i=t.length,s=new Uint8Array(t.length),a=new Uint8Array(32),c=new Uint8Array(64),f=[o(),o(),o(),o()],h=[o(),o(),o(),o()];if(-1,i<64)return!1;if($(h,r))return!1;for(n=0;n<i;n++)s[n]=t[n];for(n=0;n<32;n++)s[n+32]=r[n];if(N(c,s,i),J(c),H(f,h,c),Y(h,t.subarray(32)),q(f,h),z(a,f),i-=64,v(t,0,a,0)){for(n=0;n<i;n++)s[n]=0;return!1}for(n=0;n<i;n++)e[n]=t[n+64];return i,!0}function ee(e,t,r,n){var s;ye(t,0),ye(e,t.length+i.crypto_secretbox_MACBYTES),ye(r,ie),ye(n,ne);var o=new Uint8Array(se+t.length),a=new Uint8Array(o.length);for(s=0;s<t.length;s++)o[s+se]=t[s];for(function(e,t,r,n,i){var s;if(r<32)return-1;for(w(e,0,t,0,0,n,i),A(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0}(a,o,o.length,r,n),s=oe;s<a.length;s++)e[s-oe]=a[s]}function te(e,t,r,n){var s;ye(t,i.crypto_secretbox_MACBYTES),ye(e,t.length-i.crypto_secretbox_MACBYTES),ye(r,ie),ye(n,ne);var o=new Uint8Array(oe+t.length),a=new Uint8Array(o.length);for(s=0;s<t.length;s++)o[s+oe]=t[s];if(o.length<32)return!1;if(0!==E(a,o,o.length,r,n))return!1;for(s=se;s<a.length;s++)e[s-se]=a[s];return!0}function re(e,t){return ye(e,fe),ye(t,he),a(t,32),P(e,t)}var ne=32,ie=24,se=32,oe=16,ae=32,ce=32,fe=32,he=32,ue=32,de=ie,le=48,pe=(ue=32,64),be=32,ge=64;function ye(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function me(e){Object.keys(e).forEach(function(r){t.exports[r]=e[r]})}i.memzero=function(e,t){for(var r=t;r<e;r++)arr[r]=0},i.crypto_sign_BYTES=pe,i.crypto_sign_PUBLICKEYBYTES=be,i.crypto_sign_SECRETKEYBYTES=ge,i.crypto_sign_SEEDBYTES=32,i.crypto_sign_keypair=W,i.crypto_sign_seed_keypair=function(e,t,r){ye(r,i.crypto_sign_SEEDBYTES),r.copy(t),W(e,t,!0)},i.crypto_sign=X,i.crypto_sign_open=Z,i.crypto_sign_detached=function(e,t,r){var n=new Uint8Array(t.length+pe);X(n,t,r);for(var i=0;i<pe;i++)e[i]=n[i]},i.crypto_sign_verify_detached=function(e,t,r){ye(e,pe);var n=new Uint8Array(t.length+pe),i=0;for(i=0;i<pe;i++)n[i]=e[i];for(i=0;i<t.length;i++)n[i+pe]=t[i];return Z(t,n,r)},me(e("./crypto_generichash")),me(e("./crypto_kdf")),me(e("./crypto_shorthash")),me(e("./randombytes")),me(e("./crypto_stream")),i.crypto_scalarmult_BYTES=ae,i.crypto_scalarmult_SCALARBYTES=ce,i.crypto_scalarmult_base=P,i.crypto_scalarmult=L,i.crypto_secretbox_KEYBYTES=ne,i.crypto_secretbox_NONCEBYTES=ie,i.crypto_secretbox_MACBYTES=16,i.crypto_secretbox_easy=ee,i.crypto_secretbox_open_easy=te,i.crypto_secretbox_detached=function(e,t,r,n,s){ye(t,i.crypto_secretbox_MACBYTES);var o=new Uint8Array(r.length+t.length);ee(o,r,n,s),e.set(o.subarray(0,r.length)),t.set(o.subarray(r.length))},i.crypto_secretbox_open_detached=function(e,t,r,n,s){ye(r,i.crypto_secretbox_MACBYTES);var o=new Uint8Array(t.length+r.length);return o.set(t),o.set(r,e.length),te(e,o,n,s)},i.crypto_box_PUBLICKEYBYTES=fe,i.crypto_box_SECRETKEYBYTES=he,i.crypto_box_SEALBYTES=le,i.crypto_box_BEFORENMBYTES=ue,i.crypto_box_keypair=re,i.crypto_box_seal=function(e,t,r){ye(e,le+t.length),ye(r,fe);var s=e.subarray(0,fe),o=new Uint8Array(he);re(s,o);var a=new Uint8Array(de);i.crypto_generichash_batch(a,[s,r]);var c=new Uint8Array(fe);L(c,o,r);var f=new Uint8Array(ue),h=new Uint8Array(16);n.core_hsalsa20(f,h,c,n.SIGMA),ee(e.subarray(s.length),t,a,f),function(e){for(var t=0;t<e.length;t++)e[t]=0}(o)},i.crypto_box_seal_open=function(e,t,r,s){ye(t,le),ye(e,t.length-le),ye(r,fe),ye(s,he);var o=t.subarray(0,fe),a=new Uint8Array(de);i.crypto_generichash_batch(a,[o,r]);var c=new Uint8Array(fe);L(c,s,o);var f=new Uint8Array(ue),h=new Uint8Array(16);return n.core_hsalsa20(f,h,c,n.SIGMA),te(e,t.subarray(o.length),a,f)},i.sodium_malloc=function(e){return new Uint8Array(e)}},{"./crypto_generichash":422,"./crypto_kdf":423,"./crypto_shorthash":424,"./crypto_stream":425,"./randombytes":427,xsalsa20:463}],427:[function(e,t,r){(function(r){var n=e("nanoassert"),i=function(){var t=65536,n=void 0!==r?n=r.crypto||r.msCrypto:null;return n&&n.getRandomValues?function(e,r){for(var i=0;i<r;i+=t)n.getRandomValues(e.subarray(i,i+Math.min(r-i,t)))}:void 0!==e&&(n=e("crypto"))&&n.randomBytes?function(e,t){e.set(n.randomBytes(t))}:function(){throw new Error("No secure random number generator available")}}();Object.defineProperty(t.exports,"randombytes",{value:i}),t.exports.randombytes_buf=function(e){n(e,"out must be given"),i(e,e.length)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{crypto:18,nanoassert:341}],428:[function(e,t,r){t.exports=e("sodium-javascript")},{"sodium-javascript":426}],429:[function(e,t,r){t.exports=function(e,t){var r=new Array(t.length),n=0,i=0;for(;n<e.length&&i<t.length;){var s=e[n],o=t[i];s!==o?s<o?n++:r[i++]=-1:r[i++]=n}for(;i<t.length;i++)r[i]=-1;return r}},{}],430:[function(e,t,r){(function(r){var n=e("memory-pager");function i(e){if(!(this instanceof i))return new i(e);if(e||(e={}),r.isBuffer(e)&&(e={buffer:e}),this.pageOffset=e.pageOffset||0,this.pageSize=e.pageSize||1024,this.pages=e.pages||n(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,(t=this.pageSize)&t-1)throw new Error("The page size should be a power of two");var t;if(this._trackUpdates=!!e.trackUpdates,this._pageMask=this.pageSize-1,e.buffer){for(var s=0;s<e.buffer.length;s+=this.pageSize)this.pages.set(s/this.pageSize,e.buffer.slice(s,s+this.pageSize));this.byteLength=e.buffer.length,this.length=8*this.byteLength}}t.exports=i,i.prototype.get=function(e){var t=7&e,r=(e-t)/8;return!!(this.getByte(r)&128>>t)},i.prototype.getByte=function(e){var t=e&this._pageMask,r=(e-t)/this.pageSize,n=this.pages.get(r,!0);return n?n.buffer[t+this.pageOffset]:0},i.prototype.set=function(e,t){var r=7&e,n=(e-r)/8,i=this.getByte(n);return this.setByte(n,t?i|128>>r:i&(255^128>>r))},i.prototype.toBuffer=function(){for(var e=function(e){if(r.alloc)return r.alloc(e);var t=new r(e);return t.fill(0),t}(this.pages.length*this.pageSize),t=0;t<this.pages.length;t++){var n=this.pages.get(t,!0),i=t*this.pageSize;n&&n.buffer.copy(e,i,this.pageOffset,this.pageOffset+this.pageSize)}return e},i.prototype.setByte=function(e,t){var r=e&this._pageMask,n=(e-r)/this.pageSize,i=this.pages.get(n,!1);return r+=this.pageOffset,i.buffer[r]!==t&&(i.buffer[r]=t,e>=this.byteLength&&(this.byteLength=e+1,this.length=8*this.byteLength),this._trackUpdates&&this.pages.updated(i),!0)}}).call(this,e("buffer").Buffer)},{buffer:48,"memory-pager":336}],431:[function(e,t,r){var n=e("once");t.exports=function(e,t){if(!t)return e;var r=[];return t=n(t),e.on("data",function(e){r.push(e)}),e.on("end",function(){t(null,r)}),e.on("close",function(){t(new Error("Premature close"))}),e.on("error",t),e}},{once:348}],432:[function(e,t,r){var n=e("end-of-stream"),i=e("stream-shift");t.exports=function(e,t,r){var s=!0,o=null,a=!1,c=!1,f=!1;e.on("readable",h),h(),r&&n(e,{readable:!0,writable:!1},function(e){o||(o=e);a=!0,c||r(o)});return e;function h(){s&&d()}function u(t){return c=!1,t?(o=t,a?r(o):void e.destroy(t)):a?r(o):void(f||d())}function d(){for(;!c&&!a;){s=!1;var r=i(e);if(a)return;if(null===r)return void(s=!0);c=!0,f=!0,t(r,u),f=!1}}}},{"end-of-stream":248,"stream-shift":433}],433:[function(e,t,r){t.exports=function(e){var t=e._readableState;return t?t.objectMode||"number"==typeof e._duplexState?e.read():e.read((r=t,r.buffer.length?r.buffer.head?r.buffer.head.data.length:r.buffer[0].length:r.length)):null;var r}},{}],434:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":399}],435:[function(e,t,r){(function(e){"use strict";var r=function(t,r,n){e.nextTick(function(){t(r,n)})};function n(){}function i(e,t){e.apply(null,t)}e.nextTick(function(t){42===t&&(r=e.nextTick)},42),t.exports=function(e){var t=function(n){var o=[n];t=function(e){o.push(e)};e(function(e){var n=arguments;t=function(e){return"[object Error]"===Object.prototype.toString.call(e)}(e)?s:a;for(;o.length;)a(o.shift());function a(e){r(i,e,n)}})};return function(e){t(e||n)};function s(n){var o=[n];t=function(e){o.push(e)},e(function(e){var n=arguments;t=function(e){return"[object Error]"===Object.prototype.toString.call(e)}(e)?s:a;for(;o.length;)a(o.shift());function a(e){r(i,e,n)}})}}}).call(this,e("_process"))},{_process:119}],436:[function(e,t,r){t.exports=function(e,t){for(var r=[],n=(t=t||0)||0;n<e.length;n++)r[n-t]=e[n];return r}},{}],437:[function(e,t,r){var n=e("buffer-alloc"),i=Math.pow(2,32);r.encodingLength=function(){return 8},r.encode=function(e,t,r){t||(t=n(8)),r||(r=0);var s=Math.floor(e/i),o=e-s*i;return t.writeUInt32BE(s,r),t.writeUInt32BE(o,r+4),t},r.decode=function(e,t){t||(t=0);var r=e.readUInt32BE(t),n=e.readUInt32BE(t+4);return r*i+n},r.encode.bytes=8,r.decode.bytes=8},{"buffer-alloc":189}],438:[function(e,t,r){const n=e("dat-encoding"),i=e("path"),s=e("random-access-web");class o{constructor({application:e="dat",maxSize:t}){this._storage=s({name:e,maxSize:t})}getLocation(e){const t=n.decode(e);return n.encode(t)}delete(e,t){setTimeout(()=>{t(new Error("Cannot delete storage on Web yet"))},0)}getDrive(e){try{return this.getKeyStoreage(e)}catch(e){}return t=>this._storage(i.join(e,t))}getCore(e){return this.getKeyStoreage(e)}getCoreStore(e){return t=>this._storage(i.join(e,t))}getKeyStoreage(e){const t=n.decode(e),r=n.encode(t);return e=>this._storage(i.join(r,e))}}t.exports=(e=>new o(e)),t.exports.DatStorage=o},{"dat-encoding":214,path:112,"random-access-web":378}],439:[function(e,t,r){"use strict";var n=e("normalize-path");t.exports=function(e,t){return(e=n(e,t)).replace(/^([a-zA-Z]+:|\.\/)/,"")}},{"normalize-path":347}],440:[function(e,t,r){t.exports=function(e,t){if(t>=e.length||t<0)return;var r=e.pop();if(t<e.length){var n=e[t];return e[t]=r,n}return r}},{}],441:[function(e,t,r){function n(e,t){return t._index<e.length&&e[t._index]===t}r.add=function(e,t){return n(e,t)?t:(t._index=e.length,e.push(t),t)},r.has=n,r.remove=function(e,t){if(!n(e,t))return null;var r=e.pop();r!==t&&(e[t._index]=r,r._index=t._index);return t},r.swap=function(e,t,r){if(!n(e,t)||!n(e,r))return;var i=t._index;t._index=r._index,e[t._index]=t,r._index=i,e[r._index]=r}},{}],442:[function(e,t,r){arguments[4][156][0].apply(r,arguments)},{dup:156}],443:[function(e,t,r){t.exports=function e(t,r){var s,o=0,r=r||0,a=0,c=r,f=t.length;do{if(c>=f)return e.bytes=0,void(e.bytesRead=0);s=t[c++],o+=a<28?(s&i)<<a:(s&i)*Math.pow(2,a),a+=7}while(s>=n);e.bytes=c-r;return o};var n=128,i=127},{}],444:[function(e,t,r){arguments[4][174][0].apply(r,arguments)},{dup:174}],445:[function(e,t,r){arguments[4][175][0].apply(r,arguments)},{"./decode.js":443,"./encode.js":444,"./length.js":446,dup:175}],446:[function(e,t,r){arguments[4][176][0].apply(r,arguments)},{dup:176}],447:[function(e,t,r){arguments[4][193][0].apply(r,arguments)},{"./_stream_readable":449,"./_stream_writable":451,"core-util-is":208,dup:193,inherits:313,"process-nextick-args":359}],448:[function(e,t,r){arguments[4][194][0].apply(r,arguments)},{"./_stream_transform":450,"core-util-is":208,dup:194,inherits:313}],449:[function(e,t,r){arguments[4][195][0].apply(r,arguments)},{"./_stream_duplex":447,"./internal/streams/BufferList":452,"./internal/streams/destroy":453,"./internal/streams/stream":454,_process:119,"core-util-is":208,dup:195,events:83,inherits:313,isarray:316,"process-nextick-args":359,"safe-buffer":455,"string_decoder/":457,util:18}],450:[function(e,t,r){arguments[4][196][0].apply(r,arguments)},{"./_stream_duplex":447,"core-util-is":208,dup:196,inherits:313}],451:[function(e,t,r){arguments[4][197][0].apply(r,arguments)},{"./_stream_duplex":447,"./internal/streams/destroy":453,"./internal/streams/stream":454,_process:119,"core-util-is":208,dup:197,inherits:313,"process-nextick-args":359,"safe-buffer":455,timers:155,"util-deprecate":442}],452:[function(e,t,r){arguments[4][134][0].apply(r,arguments)},{dup:134,"safe-buffer":455,util:18}],453:[function(e,t,r){arguments[4][135][0].apply(r,arguments)},{dup:135,"process-nextick-args":359}],454:[function(e,t,r){arguments[4][136][0].apply(r,arguments)},{dup:136,events:83}],455:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{buffer:48,dup:137}],456:[function(e,t,r){arguments[4][140][0].apply(r,arguments)},{"./lib/_stream_duplex.js":447,"./lib/_stream_passthrough.js":448,"./lib/_stream_readable.js":449,"./lib/_stream_transform.js":450,"./lib/_stream_writable.js":451,dup:140}],457:[function(e,t,r){arguments[4][138][0].apply(r,arguments)},{dup:138,"safe-buffer":458}],458:[function(e,t,r){arguments[4][137][0].apply(r,arguments)},{buffer:48,dup:137}],459:[function(e,t,r){(function(r,n){"use strict";var i=e("readable-stream").Transform,s=e("duplexify"),o=e("ws"),a=e("safe-buffer").Buffer;t.exports=function(e,t,c){var f,h,u="browser"===r.title,d=!!n.WebSocket,l=u?function e(t,r,n){if(h.bufferedAmount>b)return void setTimeout(e,g,t,r,n);m&&"string"==typeof t&&(t=a.from(t,"utf8"));try{h.send(t)}catch(e){return n(e)}n()}:function(e,t,r){if(h.readyState!==h.OPEN)return void r();m&&"string"==typeof e&&(e=a.from(e,"utf8"));h.send(e,r)};t&&!Array.isArray(t)&&"object"==typeof t&&(c=t,t=null,("string"==typeof c.protocol||Array.isArray(c.protocol))&&(t=c.protocol));c||(c={});void 0===c.objectMode&&(c.objectMode=!(!0===c.binary||void 0===c.binary));var p=function(e,t,r){var n=new i({objectMode:e.objectMode});return n._write=t,n._flush=r,n}(c,l,function(e){h.close(),e()});c.objectMode||(p._writev=I);var b=c.browserBufferSize||524288,g=c.browserBufferTimeout||1e3;"object"==typeof e?h=e:(h=d&&u?new o(e,t):new o(e,t,c)).binaryType="arraybuffer";var y=void 0===h.addEventListener;h.readyState===h.OPEN?f=p:(f=f=s(void 0,void 0,c),c.objectMode||(f._writev=I),y?h.addEventListener("open",v):h.onopen=v);f.socket=h,y?(h.addEventListener("close",_),h.addEventListener("error",w),h.addEventListener("message",A)):(h.onclose=_,h.onerror=w,h.onmessage=A);p.on("close",function(){h.close()});var m=!c.objectMode;function v(){f.setReadable(p),f.setWritable(p),f.emit("connect")}function _(){f.end(),f.destroy()}function w(e){f.destroy(e)}function A(e){var t=e.data;t=t instanceof ArrayBuffer?a.from(t):a.from(t,"utf8"),p.push(t)}function I(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"string"==typeof e[n].chunk?r[n]=a.from(e[n],"utf8"):r[n]=e[n].chunk;this._write(a.concat(r),"binary",t)}return f}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:119,duplexify:235,"readable-stream":456,"safe-buffer":399,ws:460}],460:[function(e,t,r){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:"undefined"!=typeof window&&(n=window.WebSocket||window.MozWebSocket),t.exports=n},{}],461:[function(e,t,r){t.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){n[e]=t[e]});return n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),n}}},{}],462:[function(e,t,r){(function(e){function r(t,r){if(t.length!==r.length)throw new Error("Inputs should have the same length");for(var n=e.allocUnsafe(t.length),i=0;i<t.length;i++)n[i]=t[i]^r[i];return n}t.exports=r,r.compare=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0},r.gt=function(e,t){return 1===r.compare(e,t)},r.lt=function(e,t){return-1===r.compare(e,t)},r.eq=function(e,t){return 0===r.compare(e,t)}}).call(this,e("buffer").Buffer)},{buffer:48}],463:[function(e,t,r){var n=e("./xsalsa20")(),i=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),s=144,o=s,a=[];function c(e,t){if(!(this instanceof c))return new c(e,t);if(!e||e.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=n&&n.exports?new f(e,t):new h(e,t)}function f(e,t){a.length||(a.push(s),s+=64),this._pointer=a.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,n.memory.fill(0,this._pointer,this._pointer+8),n.memory.set(e,this._nonce),n.memory.set(t,this._key)}function h(e,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,d(this._s,e,t,i);for(var r=0;r<8;r++)this._z[r]=e[r+16]}function u(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,f=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=s,A=o,I=a,E=c,C=f,k=h,S=u,x=d,B=l,M=p,R=b,D=g,T=y,j=m,O=v,Q=_,L=0;L<20;L+=2)w^=(i=(T^=(i=(B^=(i=(C^=(i=w+T|0)<<7|i>>>25)+w|0)<<9|i>>>23)+C|0)<<13|i>>>19)+B|0)<<18|i>>>14,k^=(i=(A^=(i=(j^=(i=(M^=(i=k+A|0)<<7|i>>>25)+k|0)<<9|i>>>23)+M|0)<<13|i>>>19)+j|0)<<18|i>>>14,R^=(i=(S^=(i=(I^=(i=(O^=(i=R+S|0)<<7|i>>>25)+R|0)<<9|i>>>23)+O|0)<<13|i>>>19)+I|0)<<18|i>>>14,Q^=(i=(D^=(i=(x^=(i=(E^=(i=Q+D|0)<<7|i>>>25)+Q|0)<<9|i>>>23)+E|0)<<13|i>>>19)+x|0)<<18|i>>>14,w^=(i=(E^=(i=(I^=(i=(A^=(i=w+E|0)<<7|i>>>25)+w|0)<<9|i>>>23)+A|0)<<13|i>>>19)+I|0)<<18|i>>>14,k^=(i=(C^=(i=(x^=(i=(S^=(i=k+C|0)<<7|i>>>25)+k|0)<<9|i>>>23)+S|0)<<13|i>>>19)+x|0)<<18|i>>>14,R^=(i=(M^=(i=(B^=(i=(D^=(i=R+M|0)<<7|i>>>25)+R|0)<<9|i>>>23)+D|0)<<13|i>>>19)+B|0)<<18|i>>>14,Q^=(i=(O^=(i=(j^=(i=(T^=(i=Q+O|0)<<7|i>>>25)+Q|0)<<9|i>>>23)+T|0)<<13|i>>>19)+j|0)<<18|i>>>14;w=w+s|0,A=A+o|0,I=I+a|0,E=E+c|0,C=C+f|0,k=k+h|0,S=S+u|0,x=x+d|0,B=B+l|0,M=M+p|0,R=R+b|0,D=D+g|0,T=T+y|0,j=j+m|0,O=O+v|0,Q=Q+_|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=A>>>0&255,e[5]=A>>>8&255,e[6]=A>>>16&255,e[7]=A>>>24&255,e[8]=I>>>0&255,e[9]=I>>>8&255,e[10]=I>>>16&255,e[11]=I>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=C>>>0&255,e[17]=C>>>8&255,e[18]=C>>>16&255,e[19]=C>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=S>>>0&255,e[25]=S>>>8&255,e[26]=S>>>16&255,e[27]=S>>>24&255,e[28]=x>>>0&255,e[29]=x>>>8&255,e[30]=x>>>16&255,e[31]=x>>>24&255,e[32]=B>>>0&255,e[33]=B>>>8&255,e[34]=B>>>16&255,e[35]=B>>>24&255,e[36]=M>>>0&255,e[37]=M>>>8&255,e[38]=M>>>16&255,e[39]=M>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=D>>>0&255,e[45]=D>>>8&255,e[46]=D>>>16&255,e[47]=D>>>24&255,e[48]=T>>>0&255,e[49]=T>>>8&255,e[50]=T>>>16&255,e[51]=T>>>24&255,e[52]=j>>>0&255,e[53]=j>>>8&255,e[54]=j>>>16&255,e[55]=j>>>24&255,e[56]=O>>>0&255,e[57]=O>>>8&255,e[58]=O>>>16&255,e[59]=O>>>24&255,e[60]=Q>>>0&255,e[61]=Q>>>8&255,e[62]=Q>>>16&255,e[63]=Q>>>24&255}function d(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,f=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)s^=(i=(y^=(i=(l^=(i=(f^=(i=s+y|0)<<7|i>>>25)+s|0)<<9|i>>>23)+f|0)<<13|i>>>19)+l|0)<<18|i>>>14,h^=(i=(o^=(i=(m^=(i=(p^=(i=h+o|0)<<7|i>>>25)+h|0)<<9|i>>>23)+p|0)<<13|i>>>19)+m|0)<<18|i>>>14,b^=(i=(u^=(i=(a^=(i=(v^=(i=b+u|0)<<7|i>>>25)+b|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,_^=(i=(g^=(i=(d^=(i=(c^=(i=_+g|0)<<7|i>>>25)+_|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,s^=(i=(c^=(i=(a^=(i=(o^=(i=s+c|0)<<7|i>>>25)+s|0)<<9|i>>>23)+o|0)<<13|i>>>19)+a|0)<<18|i>>>14,h^=(i=(f^=(i=(d^=(i=(u^=(i=h+f|0)<<7|i>>>25)+h|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,b^=(i=(p^=(i=(l^=(i=(g^=(i=b+p|0)<<7|i>>>25)+b|0)<<9|i>>>23)+g|0)<<13|i>>>19)+l|0)<<18|i>>>14,_^=(i=(v^=(i=(m^=(i=(y^=(i=_+v|0)<<7|i>>>25)+_|0)<<9|i>>>23)+y|0)<<13|i>>>19)+m|0)<<18|i>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=b>>>0&255,e[9]=b>>>8&255,e[10]=b>>>16&255,e[11]=b>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=u>>>0&255,e[17]=u>>>8&255,e[18]=u>>>16&255,e[19]=u>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=l>>>0&255,e[25]=l>>>8&255,e[26]=l>>>16&255,e[27]=l>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}t.exports=c,c.NONCEBYTES=24,c.KEYBYTES=32,c.core_hsalsa20=d,c.SIGMA=i,c.prototype.update=function(e,t){if(!e)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(e.length)),e.length&&this._xor.update(e,t),t},c.prototype.final=c.prototype.finalize=function(){this._xor.finalize(),this._xor=null},f.prototype.update=function(e,t){var r=this._overflow+e.length,i=s+this._overflow;(o=s+r)>=n.memory.length&&n.realloc(o),n.memory.set(e,i),n.exports.xsalsa20_xor(this._pointer,s,s,r,this._nonce,this._key),t.set(n.memory.subarray(i,s+r)),this._overflow=63&r},f.prototype.finalize=function(){n.memory.fill(0,this._pointer,this._key+32),o>s&&(n.memory.fill(0,s,o),o=0),a.push(this._pointer)},h.prototype.update=function(e,t){for(var r=new Uint8Array(64),n=0,s=this._overflow,o=e.length+this._overflow,a=this._z,c=-this._overflow,f=-this._overflow;o>=64;){for(u(r,a,this._s,i);s<64;s++)t[f+s]=e[c+s]^r[s];for(n=1,s=8;s<16;s++)n+=255&a[s]|0,a[s]=255&n,n>>>=8;o-=64,f+=64,c+=64,s=0}if(o>0)for(u(r,a,this._s,i);s<o;s++)t[f+s]=e[c+s]^r[s];this._overflow=63&o},h.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)}},{"./xsalsa20":464}],464:[function(e,t,r){function n(t){if(!n.supported)return null;var r,s=t&&t.imports,o=(r="AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL","function"==typeof atob?new Uint8Array(atob(r).split("").map(i)):new(e("buffer").Buffer)(r,"base64")),a=null,c={buffer:o,memory:null,exports:null,realloc:function(e){c.exports.memory.grow(Math.ceil(Math.abs(e-c.memory.length)/65536)),c.memory=new Uint8Array(c.exports.memory.buffer)},onload:f};return f(function(){}),c;function f(e){if(c.exports)return e();if(a)a.then(e.bind(null,null)).catch(e);else{try{if(t&&t.async)throw new Error("async");h({instance:new WebAssembly.Instance(new WebAssembly.Module(o),s)})}catch(e){a=WebAssembly.instantiate(o,s).then(h)}f(e)}}function h(e){c.exports=e.instance.exports,c.memory=c.exports.memory&&c.exports.memory.buffer&&new Uint8Array(c.exports.memory.buffer)}}function i(e){return e.charCodeAt(0)}t.exports=n,n.supported="undefined"!=typeof WebAssembly},{}],465:[function(e,t,r){"use strict";var n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,o={},a=0,c=0;function f(e){var t="";do{t=i[e%s]+t,e=Math.floor(e/s)}while(e>0);return t}function h(){var e=f(+new Date);return e!==n?(a=0,n=e):e+"."+f(a++)}for(;c<s;c++)o[i[c]]=c;h.encode=f,h.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*s+o[e.charAt(c)];return t},t.exports=h},{}]},{},[162])(162)});